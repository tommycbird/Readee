window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"33across","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"stickyOutstream","type":"percent","value":0.734},{"name":"pmp","type":"percent","value":0.99},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_amazon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"stickyOutstream","type":"percent","value":0.4},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.96},{"name":"stickyOutstream","type":"percent","value":0.3},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_ogury","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"stickyOutstream","type":"percent","value":0.4},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.95},{"name":"stickyOutstream","type":"percent","value":0.42},{"name":"instream","type":"percent","value":0.997}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"a_yieldmo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"adform","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"aidem_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.76},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.55}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"pmp","type":"percent","value":1},{"name":"instream","type":"percent","value":0.98}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"col_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.985},{"name":"pmp","type":"percent","value":0.985},{"name":"instream","type":"percent","value":0.992}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.92}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.978},{"name":"stickyOutstream","type":"percent","value":0.74},{"name":"instream","type":"percent","value":0.998}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.91},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-TRUSTX-b827d08da2714822","type":"percent","value":0.9},{"name":"G-JW_PLAYER-cc4da3eff85746e0","type":"percent","value":0.25},{"name":"G-JW_PLAYER-8d9e8049ca4947cf","type":"percent","value":0.25},{"name":"G-JW_PLAYER-15fae286f8a54614","type":"percent","value":0.25},{"name":"G-JW_PLAYER-48b6dc41e71d4585","type":"percent","value":0.25},{"name":"G-JW_PLAYER-3625d1d8189843b9","type":"percent","value":0.25},{"name":"G-JAKALA-ad18dc54f13645f6","type":"percent","value":0.25},{"name":"G-GOODNET-c64f9ad88c37454b","type":"percent","value":0.25},{"name":"G-JW_PLAYER-8f16946ae7db4d0b","type":"percent","value":0.25},{"name":"G-IPONWEB-8eb9cd8d9c074fdb","type":"percent","value":0.25},{"name":"G-GOODNET-1760a8d1849646d4","type":"percent","value":0.25},{"name":"G-JW_PLAYER-1ffec6b669524e6c","type":"percent","value":0.25},{"name":"G-JW_PLAYER-a3eb7128094c4360","type":"percent","value":0.25},{"name":"G-ORACLE-29af695dcd484d86","type":"percent","value":0.25},{"name":"G-JW_PLAYER-acb2ef7c2dc24255","type":"percent","value":0.25},{"name":"G-IPONWEB-4e2af46faa364ea3","type":"percent","value":0.25},{"name":"G-GOODNET-a81896d35fab407f","type":"percent","value":0.25},{"name":"G-JW_PLAYER-5c0fc3ff3b4f4a8b","type":"percent","value":0.25},{"name":"G-JW_PLAYER-3a20f33920ba4e1d","type":"percent","value":0.25},{"name":"G-IPONWEB-b2694d271dbe4183","type":"percent","value":0.25},{"name":"G-GOODNET-376e7a125b6c404f","type":"percent","value":0.25}]},{"name":"stickyOutstream","type":"percent","value":0.7}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridnat","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":0.95}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.66}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"improve_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"pmp","type":"percent","value":0.99,"deals":[{"name":"136707122019991","type":"percent","value":0.83},{"name":"136707122019993","type":"percent","value":0.83},{"name":"136708142019991","type":"percent","value":0.89},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.82},{"name":"136707162019999","type":"percent","value":0.88},{"name":"136704252018993","type":"percent","value":0.85},{"name":"136703312017993","type":"percent","value":0.83},{"name":"136703312017997","type":"percent","value":0.84},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.84},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.85},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.88},{"name":"136704252018991","type":"percent","value":0.87},{"name":"8209221604","type":"percent","value":0.86},{"name":"136707122019994","type":"percent","value":0.72},{"name":"136708142019992","type":"percent","value":0.65},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.63},{"name":"136704252018994","type":"percent","value":0.89},{"name":"136703312017996","type":"percent","value":0.75},{"name":"136703312017998","type":"percent","value":0.69},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.69},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.74},{"name":"136704252018992","type":"percent","value":0.63},{"name":"136707122019992","type":"percent","value":0.71},{"name":"136703072017996","type":"percent","value":0.69},{"name":"1367071620199910","type":"percent","value":0.86},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.86},{"name":"DMD136703032021992","type":"percent","value":0.72},{"name":"DMD136702172021991","type":"percent","value":0.88},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.84},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.95},{"name":"DMD136704052021992","type":"percent","value":0.75},{"name":"136705172021991","type":"percent","value":0.83},{"name":"136705172021992","type":"percent","value":0.72},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.91},{"name":"136706042019995","type":"percent","value":0.84},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.9},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5},{"name":"140408052022991","type":"flat","value":1},{"name":"140408052022992","type":"flat","value":1},{"name":"140408052022993","type":"flat","value":1},{"name":"140408052022994","type":"flat","value":1},{"name":"PAD136707202020991","type":"percent","value":0.88},{"name":"PAD136707202020992","type":"percent","value":0.8},{"name":"51210172022991","type":"flat","value":1},{"name":"51210172022992","type":"flat","value":1},{"name":"140410122022991","type":"flat","value":1},{"name":"140410122022992","type":"flat","value":1},{"name":"136710202022991","type":"percent","value":0.83},{"name":"136710202022992","type":"percent","value":0.63},{"name":"51211082022991","type":"flat","value":1},{"name":"270111082022991","type":"flat","value":1.5},{"name":"270111082022992","type":"flat","value":1.5},{"name":"270111082022993","type":"flat","value":1},{"name":"270111082022994","type":"flat","value":1},{"name":"140412152022995","type":"flat","value":1},{"name":"140412152022996","type":"flat","value":1},{"name":"140412152022997","type":"flat","value":1},{"name":"515112212022991","type":"flat","value":1.5},{"name":"515112212022992","type":"flat","value":1.5},{"name":"683401262023991","type":"percent","value":0.97},{"name":"683401262023992","type":"percent","value":0.97},{"name":"1404013123991","type":"flat","value":1},{"name":"1404013123992","type":"flat","value":1},{"name":"1404013123993","type":"flat","value":1},{"name":"1404013123994","type":"flat","value":1},{"name":"140402282023991","type":"flat","value":1},{"name":"121503022023991","type":"flat","value":1.5},{"name":"121503022023992","type":"flat","value":1.5},{"name":"9063003102023991","type":"flat","value":1},{"name":"9063003102023992","type":"flat","value":1},{"name":"9063003102023993","type":"flat","value":1},{"name":"9063003102023994","type":"flat","value":1},{"name":"140403242023991","type":"flat","value":1},{"name":"140403242023992","type":"flat","value":1},{"name":"140403242023993","type":"flat","value":1},{"name":"136701062023994","type":"percent","value":0.69},{"name":"136701062023993","type":"percent","value":0.83},{"name":"136704102023994","type":"percent","value":0.53},{"name":"136704102023993","type":"percent","value":0.86},{"name":"136704102023992","type":"percent","value":0.56},{"name":"136704102023991","type":"percent","value":0.69},{"name":"15105022023993","type":"flat","value":1},{"name":"15105022023994","type":"flat","value":1},{"name":"15105022023995","type":"flat","value":1},{"name":"15105022023996","type":"flat","value":1},{"name":"20706162023991","type":"flat","value":1},{"name":"20706162023992","type":"flat","value":1},{"name":"72206142023991","type":"flat","value":1.5},{"name":"72206142023992","type":"flat","value":1.5},{"name":"23107122023991","type":"flat","value":1},{"name":"23107122023992","type":"flat","value":1},{"name":"23107122023993","type":"flat","value":1},{"name":"23107122023994","type":"flat","value":1},{"name":"23107122023995","type":"flat","value":1},{"name":"23107122023996","type":"flat","value":1},{"name":"23107122023997","type":"flat","value":1},{"name":"23107122023998","type":"flat","value":1},{"name":"23107122023999","type":"flat","value":1},{"name":"231071220239910","type":"flat","value":1},{"name":"231071220239911","type":"flat","value":1},{"name":"231071220239912","type":"flat","value":1},{"name":"231071220239913","type":"flat","value":1},{"name":"231071220239914","type":"flat","value":1},{"name":"231071220239915","type":"flat","value":1},{"name":"231071220239916","type":"flat","value":1},{"name":"231071220239917","type":"flat","value":1},{"name":"231071220239918","type":"flat","value":1},{"name":"231071220239919","type":"flat","value":1},{"name":"231071220239920","type":"flat","value":1},{"name":"231071220239921","type":"flat","value":1},{"name":"231071220239922","type":"flat","value":1},{"name":"303208092023991","type":"flat","value":0.31},{"name":"303208092023992","type":"flat","value":0.31},{"name":"303208092023993","type":"flat","value":0.31},{"name":"303208092023994","type":"flat","value":0.31},{"name":"303208092023995","type":"flat","value":0.31},{"name":"320809082023991","type":"flat","value":1},{"name":"320809082023992","type":"flat","value":1},{"name":"320809082023993","type":"flat","value":1},{"name":"320809082023994","type":"flat","value":1},{"name":"320809082023995","type":"flat","value":1},{"name":"320809082023996","type":"flat","value":1},{"name":"320809082023997","type":"flat","value":1.5},{"name":"320809082023998","type":"flat","value":1.5},{"name":"536509082023991","type":"flat","value":1},{"name":"536509082023992","type":"flat","value":1},{"name":"536509082023993","type":"flat","value":1},{"name":"536509082023994","type":"flat","value":1},{"name":"536509082023995","type":"flat","value":1},{"name":"536509082023996","type":"flat","value":1},{"name":"20709262023991","type":"flat","value":1},{"name":"20709262023992","type":"flat","value":1},{"name":"110010052023991","type":"flat","value":1},{"name":"110010052023992","type":"flat","value":1},{"name":"152910052023991","type":"flat","value":1},{"name":"152910052023992","type":"flat","value":1},{"name":"515110202023991","type":"flat","value":1.5},{"name":"515110202023992","type":"flat","value":1.5},{"name":"15110132023991","type":"flat","value":1},{"name":"15110132023992","type":"flat","value":1},{"name":"15110172023992","type":"flat","value":1},{"name":"15110172023991","type":"flat","value":1},{"name":"20710262023995","type":"flat","value":1},{"name":"20710262023996","type":"flat","value":1},{"name":"20710262023997","type":"flat","value":1},{"name":"20710262023998","type":"flat","value":1},{"name":"20710262023999","type":"flat","value":1},{"name":"20710232023910","type":"flat","value":1},{"name":"20710262023911","type":"flat","value":1},{"name":"20710262023912","type":"flat","value":1},{"name":"20710262023913","type":"flat","value":1},{"name":"20710262023914","type":"flat","value":1},{"name":"20710262023915","type":"flat","value":1},{"name":"20710262023916","type":"flat","value":1},{"name":"20710262023917","type":"flat","value":1},{"name":"20710262023918","type":"flat","value":1},{"name":"20710262023919","type":"flat","value":1},{"name":"20710262023920","type":"flat","value":1},{"name":"110010262023991","type":"flat","value":1.6},{"name":"110010262023992","type":"flat","value":1.6},{"name":"110010262023993","type":"flat","value":1.6},{"name":"110010272023994","type":"flat","value":1.6},{"name":"110010272023995","type":"flat","value":1.6},{"name":"212210182023991","type":"percent","value":0.9},{"name":"146006052023995","type":"percent","value":0.9},{"name":"146006052023992","type":"percent","value":0.9},{"name":"146006052023991","type":"percent","value":0.9},{"name":"146006052023993","type":"percent","value":0.9}]},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.26},{"name":"outstream","type":"percent","value":0.6}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.97},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.992},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"krgo_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.92},{"name":"stickyOutstream","type":"percent","value":0.66},{"name":"instream","type":"percent","value":0.98}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.936},{"name":"stickyOutstream","type":"percent","value":0.48},{"name":"instream","type":"percent","value":0.9}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"opnx_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ozone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.946},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.946,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.695}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.96},{"name":"instream","type":"percent","value":0.98},{"name":"pmp","type":"percent","value":0.96,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.71}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"resetdigital","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.977},{"name":"instream","type":"percent","value":0.986}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rtbhouse","enabled":true},{"secondary":false,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.98,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97},{"name":"944042","type":"percent","value":0.97},{"name":"944044","type":"percent","value":0.97},{"name":"1623876","type":"percent","value":0.88},{"name":"1623874","type":"percent","value":0.88},{"name":"1751444","type":"percent","value":0.88},{"name":"1751662","type":"percent","value":0.88},{"name":"1751448","type":"percent","value":0.88},{"name":"1751664","type":"percent","value":0.88},{"name":"1751450","type":"percent","value":0.88},{"name":"1751666","type":"percent","value":0.88},{"name":"1751452","type":"percent","value":0.88},{"name":"1751668","type":"percent","value":0.88},{"name":"1751454","type":"percent","value":0.88},{"name":"1751670","type":"percent","value":0.88},{"name":"1751456","type":"percent","value":0.88},{"name":"1751672","type":"percent","value":0.88},{"name":"1751474","type":"percent","value":0.88},{"name":"1751674","type":"percent","value":0.88},{"name":"1751472","type":"percent","value":0.88},{"name":"1751676","type":"percent","value":0.88},{"name":"1751476","type":"percent","value":0.88},{"name":"1751678","type":"percent","value":0.88},{"name":"1751478","type":"percent","value":0.88},{"name":"1751680","type":"percent","value":0.88},{"name":"1751480","type":"percent","value":0.88},{"name":"1751682","type":"percent","value":0.88},{"name":"1751482","type":"percent","value":0.88},{"name":"1751684","type":"percent","value":0.88},{"name":"1792390","type":"percent","value":0.88},{"name":"1751632","type":"percent","value":0.88},{"name":"1751686","type":"percent","value":0.88},{"name":"1751634","type":"percent","value":0.88},{"name":"1751688","type":"percent","value":0.88},{"name":"1751636","type":"percent","value":0.88},{"name":"1751690","type":"percent","value":0.88},{"name":"1751638","type":"percent","value":0.88},{"name":"1751692","type":"percent","value":0.88},{"name":"1751640","type":"percent","value":0.88},{"name":"1751694","type":"percent","value":0.88},{"name":"1751642","type":"percent","value":0.88},{"name":"1751696","type":"percent","value":0.88},{"name":"1751644","type":"percent","value":0.88},{"name":"1751698","type":"percent","value":0.88},{"name":"1751646","type":"percent","value":0.88},{"name":"1751700","type":"percent","value":0.88},{"name":"1751648","type":"percent","value":0.88},{"name":"1751702","type":"percent","value":0.88},{"name":"1751650","type":"percent","value":0.88},{"name":"1751706","type":"percent","value":0.88},{"name":"1751652","type":"percent","value":0.88},{"name":"1751708","type":"percent","value":0.88},{"name":"1751654","type":"percent","value":0.88},{"name":"1751710","type":"percent","value":0.88},{"name":"1751656","type":"percent","value":0.88},{"name":"1751712","type":"percent","value":0.88},{"name":"1751660","type":"percent","value":0.88},{"name":"1751714","type":"percent","value":0.88},{"name":"1751440","type":"percent","value":0.88},{"name":"1751716","type":"percent","value":0.88},{"name":"1751442","type":"percent","value":0.88},{"name":"1751718","type":"percent","value":0.88},{"name":"1917132","type":"percent","value":0.88},{"name":"1917134","type":"percent","value":0.88},{"name":"1917136","type":"percent","value":0.88},{"name":"1917138","type":"percent","value":0.88},{"name":"1950020","type":"percent","value":0.88},{"name":"1950010","type":"percent","value":0.88},{"name":"2003192","type":"percent","value":0.88},{"name":"2003190","type":"percent","value":0.88},{"name":"2003188","type":"percent","value":0.88},{"name":"2003186","type":"percent","value":0.88},{"name":"2032118","type":"percent","value":0.88},{"name":"1921898","type":"percent","value":0.9},{"name":"1921906","type":"percent","value":0.9},{"name":"1791050","type":"percent","value":0.9},{"name":"1791052","type":"percent","value":0.9},{"name":"1791054","type":"percent","value":0.9},{"name":"1130970","type":"percent","value":0.9},{"name":"1130968","type":"percent","value":0.9},{"name":"1130976","type":"percent","value":0.9},{"name":"1130978","type":"percent","value":0.9},{"name":"1883728","type":"percent","value":0.9},{"name":"1921048","type":"percent","value":0.9},{"name":"1883726","type":"percent","value":0.9},{"name":"1883724","type":"percent","value":0.9},{"name":"1917142","type":"percent","value":0.9},{"name":"1915930","type":"percent","value":0.9},{"name":"1917130","type":"percent","value":0.9},{"name":"1915928","type":"percent","value":0.9},{"name":"1917128","type":"percent","value":0.9},{"name":"1915534","type":"percent","value":0.9},{"name":"1917126","type":"percent","value":0.9},{"name":"1915136","type":"percent","value":0.9},{"name":"1917124","type":"percent","value":0.9},{"name":"1915132","type":"percent","value":0.9},{"name":"1917144","type":"percent","value":0.9},{"name":"1916326","type":"percent","value":0.9},{"name":"1917122","type":"percent","value":0.9},{"name":"1914770","type":"percent","value":0.9},{"name":"1917120","type":"percent","value":0.9},{"name":"1913794","type":"percent","value":0.9},{"name":"1917116","type":"percent","value":0.9},{"name":"1910078","type":"percent","value":0.9},{"name":"1916722","type":"percent","value":0.9},{"name":"1909612","type":"percent","value":0.9},{"name":"2040506","type":"percent","value":0.9},{"name":"2076190","type":"percent","value":0.9},{"name":"2100546","type":"percent","value":0.9},{"name":"2091612","type":"percent","value":0.9},{"name":"2092510","type":"percent","value":0.9}]},{"name":"stickyOutstream","type":"percent","value":0.8}],"s2s":[{"s2s_value":0,"media_type":"display"},{"s2s_value":0,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"cpm":[{"name":"default","type":"percent","value":0.996},{"name":"instream","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":0.98,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97},{"name":"944042","type":"percent","value":0.97},{"name":"944044","type":"percent","value":0.97},{"name":"1623876","type":"percent","value":0.88},{"name":"1623874","type":"percent","value":0.88},{"name":"1751444","type":"percent","value":0.88},{"name":"1751662","type":"percent","value":0.88},{"name":"1751448","type":"percent","value":0.88},{"name":"1751664","type":"percent","value":0.88},{"name":"1751450","type":"percent","value":0.88},{"name":"1751666","type":"percent","value":0.88},{"name":"1751452","type":"percent","value":0.88},{"name":"1751668","type":"percent","value":0.88},{"name":"1751454","type":"percent","value":0.88},{"name":"1751670","type":"percent","value":0.88},{"name":"1751456","type":"percent","value":0.88},{"name":"1751672","type":"percent","value":0.88},{"name":"1751474","type":"percent","value":0.88},{"name":"1751674","type":"percent","value":0.88},{"name":"1751472","type":"percent","value":0.88},{"name":"1751676","type":"percent","value":0.88},{"name":"1751476","type":"percent","value":0.88},{"name":"1751678","type":"percent","value":0.88},{"name":"1751478","type":"percent","value":0.88},{"name":"1751680","type":"percent","value":0.88},{"name":"1751480","type":"percent","value":0.88},{"name":"1751682","type":"percent","value":0.88},{"name":"1751482","type":"percent","value":0.88},{"name":"1751684","type":"percent","value":0.88},{"name":"1792390","type":"percent","value":0.88},{"name":"1751632","type":"percent","value":0.88},{"name":"1751686","type":"percent","value":0.88},{"name":"1751634","type":"percent","value":0.88},{"name":"1751688","type":"percent","value":0.88},{"name":"1751636","type":"percent","value":0.88},{"name":"1751690","type":"percent","value":0.88},{"name":"1751638","type":"percent","value":0.88},{"name":"1751692","type":"percent","value":0.88},{"name":"1751640","type":"percent","value":0.88},{"name":"1751694","type":"percent","value":0.88},{"name":"1751642","type":"percent","value":0.88},{"name":"1751696","type":"percent","value":0.88},{"name":"1751644","type":"percent","value":0.88},{"name":"1751698","type":"percent","value":0.88},{"name":"1751646","type":"percent","value":0.88},{"name":"1751700","type":"percent","value":0.88},{"name":"1751648","type":"percent","value":0.88},{"name":"1751702","type":"percent","value":0.88},{"name":"1751650","type":"percent","value":0.88},{"name":"1751706","type":"percent","value":0.88},{"name":"1751652","type":"percent","value":0.88},{"name":"1751708","type":"percent","value":0.88},{"name":"1751654","type":"percent","value":0.88},{"name":"1751710","type":"percent","value":0.88},{"name":"1751656","type":"percent","value":0.88},{"name":"1751712","type":"percent","value":0.88},{"name":"1751660","type":"percent","value":0.88},{"name":"1751714","type":"percent","value":0.88},{"name":"1751440","type":"percent","value":0.88},{"name":"1751716","type":"percent","value":0.88},{"name":"1751442","type":"percent","value":0.88},{"name":"1751718","type":"percent","value":0.88},{"name":"1917132","type":"percent","value":0.88},{"name":"1917134","type":"percent","value":0.88},{"name":"1917136","type":"percent","value":0.88},{"name":"1917138","type":"percent","value":0.88},{"name":"1950020","type":"percent","value":0.88},{"name":"1950010","type":"percent","value":0.88},{"name":"2003192","type":"percent","value":0.88},{"name":"2003190","type":"percent","value":0.88},{"name":"2003188","type":"percent","value":0.88},{"name":"2003186","type":"percent","value":0.88},{"name":"2032118","type":"percent","value":0.88},{"name":"1921898","type":"percent","value":0.9},{"name":"1921906","type":"percent","value":0.9},{"name":"1791050","type":"percent","value":0.9},{"name":"1791052","type":"percent","value":0.9},{"name":"1791054","type":"percent","value":0.9},{"name":"1130970","type":"percent","value":0.9},{"name":"1130968","type":"percent","value":0.9},{"name":"1130976","type":"percent","value":0.9},{"name":"1130978","type":"percent","value":0.9},{"name":"1883728","type":"percent","value":0.9},{"name":"1921048","type":"percent","value":0.9},{"name":"1883726","type":"percent","value":0.9},{"name":"1883724","type":"percent","value":0.9},{"name":"1917142","type":"percent","value":0.9},{"name":"1915930","type":"percent","value":0.9},{"name":"1917130","type":"percent","value":0.9},{"name":"1915928","type":"percent","value":0.9},{"name":"1917128","type":"percent","value":0.9},{"name":"1915534","type":"percent","value":0.9},{"name":"1917126","type":"percent","value":0.9},{"name":"1915136","type":"percent","value":0.9},{"name":"1917124","type":"percent","value":0.9},{"name":"1915132","type":"percent","value":0.9},{"name":"1917144","type":"percent","value":0.9},{"name":"1916326","type":"percent","value":0.9},{"name":"1917122","type":"percent","value":0.9},{"name":"1914770","type":"percent","value":0.9},{"name":"1917120","type":"percent","value":0.9},{"name":"1913794","type":"percent","value":0.9},{"name":"1917116","type":"percent","value":0.9},{"name":"1910078","type":"percent","value":0.9},{"name":"1916722","type":"percent","value":0.9},{"name":"1909612","type":"percent","value":0.9},{"name":"2040506","type":"percent","value":0.9},{"name":"2076190","type":"percent","value":0.9},{"name":"2100546","type":"percent","value":0.9},{"name":"2091612","type":"percent","value":0.9},{"name":"2092510","type":"percent","value":0.9}]},{"name":"stickyOutstream","type":"percent","value":0.67}],"s2s":[{"s2s_value":0,"media_type":"display"},{"s2s_value":0,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.825}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.963},{"name":"stickyOutstream","type":"percent","value":0.61},{"name":"instream","type":"percent","value":0.946},{"name":"outstream","type":"percent","value":0.65}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.7},{"name":"instream","type":"percent","value":1},{"name":"outstream","type":"percent","value":0.7}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.925},{"name":"stickyOutstream","type":"percent","value":0.72},{"name":"instream","type":"percent","value":0.989},{"name":"pmp","type":"percent","value":0.925}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"under_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.927},{"name":"instream","type":"percent","value":0.625},{"name":"outstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yah_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.77}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"stickyOutstream","type":"percent","value":0.77}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true}],"predictiveAnalysis":[{"error_rate":"1.0","chrome":"0","adomain":"mcdonalds.com.au","bidder":"openx","domain":"mcdonalds.com.au","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9999678611602121","chrome":"0","adomain":"vw.com","bidder":"ix","domain":"vw.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.999830191883172","chrome":"1","adomain":"mcdonalds.com.au","bidder":"openx","domain":"mcdonalds.com.au","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9998043052837573","chrome":"1","adomain":"sanofi.com","bidder":"rubi_ss","domain":"sanofi.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9995295593539282","chrome":"1","adomain":"kohls.com","bidder":"triplelift","domain":"kohls.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9992533632668333","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9992221261884183","chrome":"0","adomain":"tork.com","bidder":"rubi_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9992041900733889","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9990413955121108","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9988660754059855","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.99882601185366","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9985419801150905","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9985316980480221","chrome":"0","adomain":"tork.com","bidder":"rubi_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9984695439240894","chrome":"0","adomain":"tork.com","bidder":"pubm_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9984359656117554","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9983425414364641","chrome":"0","adomain":"tork.com","bidder":"rubi_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9983033023265899","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9982875343029504","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9982703224370443","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9979922962829283","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9978515625","chrome":"1","adomain":"sanofi.com","bidder":"rubi_ss","domain":"sanofi.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9978124903718766","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9977945197834701","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9974129966122575","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9973690310616597","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9973242953977881","chrome":"0","adomain":"tork.com","bidder":"pubm_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9969706805149843","chrome":"0","adomain":"cadillac.com","bidder":"rubicon","domain":"cadillac.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9969667756119354","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9968738506803972","chrome":"0","adomain":"tork.com","bidder":"rubi_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9967721953167396","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9967638227211476","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9967336537904674","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9967324102588213","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9964362081254454","chrome":"0","adomain":"tork.com","bidder":"pubm_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9960379007101031","chrome":"0","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9959860988214776","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9957394120604917","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9944478474169566","chrome":"1","adomain":"tork.com","bidder":"triplelift","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.994321704860406","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9940225868846322","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9937788837539993","chrome":"0","adomain":"tork.com","bidder":"pubm_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9933331571016945","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9930239611768275","chrome":"1","adomain":"kohls.com","bidder":"openx","domain":"kohls.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9930005425935974","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9926104998193124","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9924620390455532","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9922426337153165","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9903586254612546","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9899558977235068","chrome":"1","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9868406593406593","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9837596538314072","chrome":"0","adomain":"tork.com","bidder":"tripl_ss","domain":"tork.com","mobile":"0","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9812339335555396","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9806307724279074","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9790150941788073","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9739985202409893","chrome":"0","adomain":"cadillac.com","bidder":"rubicon","domain":"cadillac.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9737314725120231","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.973058451446644","chrome":"0","adomain":"pg.com","bidder":"openx","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9714653256929014","chrome":"0","adomain":"pg.com","bidder":"openx","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9713501981103322","chrome":"1","adomain":"kohls.com","bidder":"triplelift","domain":"kohls.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9703351034609046","chrome":"1","adomain":"pg.com","bidder":"openx","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9698798852112807","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9681081397390134","chrome":"1","adomain":"pg.com","bidder":"rubi_ss","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.963934044164773","chrome":"1","adomain":"pg.com","bidder":"rubi_ss","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9599765430288814","chrome":"1","adomain":"kohls.com","bidder":"openx","domain":"kohls.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9561530133525803","chrome":"1","adomain":"pg.com","bidder":"openx","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9537652249416589","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9519366197183099","chrome":"0","adomain":"microsoft.com","bidder":"pubmatic","domain":"microsoft.com","mobile":"0","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9502491782197606","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9497206147912158","chrome":"0","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9497169048260987","chrome":"0","adomain":"alaskamilk.com","bidder":"criteo","domain":"alaskamilk.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"1","error_rate":"0.9471589496718913","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9457151129125652","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.939536833280939","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9375717566016073","chrome":"0","adomain":"truthinitiative.org","bidder":"ttd","domain":"truthinitiative.org","mobile":"0","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9328671593322377","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9317550588546488","chrome":"0","adomain":"alaskamilk.com","bidder":"criteo","domain":"alaskamilk.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9271380055572708","chrome":"1","adomain":"kohls.com","bidder":"rubicon","domain":"kohls.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9198057680988817","chrome":"1","adomain":"pg.com","bidder":"rubi_ss","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9190620969227934","chrome":"0","adomain":"facebook.com/jnj","bidder":"ix","domain":"facebook.com/jnj","mobile":"0","report_date":"2023-11-04"},{"error_rate":"0.9098981077147016","chrome":"1","adomain":"pg.com","bidder":"rubi_ss","domain":"pg.com","mobile":"1","report_date":"2023-11-04"},{"mobile":"0","error_rate":"0.9078442577747229","chrome":"1","bidder":"kargo","domain":"","report_date":"2023-11-04"},{"error_rate":"0.9070008643042351","chrome":"0","adomain":"shopee.ph","bidder":"criteo","domain":"shopee.ph","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9047129038896893","chrome":"1","adomain":"kohls.com","bidder":"pubm_ss","domain":"kohls.com","mobile":"1","report_date":"2023-11-04"},{"error_rate":"0.9043433298862461","chrome":"0","adomain":"shopee.ph","bidder":"criteo","domain":"shopee.ph","mobile":"1","report_date":"2023-11-04"}],"country":"US","coreExperiments":[{"variants":[{"value":"b","weight":60},{"value":"w","weight":20},{"value":"g25","weight":20}],"type":"weightedChoice","key":"TopCenterMobileBackground","abgroup":"tcmb2"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"LibLoadedEvent","abgroup":"lle"},{"variants":[{"weight":95}],"type":"bernoulliTrial","key":"EnableDelayLoading","abgroup":"delload"},{"variants":[{"weight":99.5}],"type":"bernoulliTrial","key":"Amazon","abgroup":"amzn"},{"variants":[{"value":1.5,"weight":25},{"value":2,"weight":25},{"value":3,"weight":25},{"value":4,"weight":25}],"type":"weightedChoice","key":"FloorBootstrap","abgroup":"fto"},{"variants":[{"value":1.5,"weight":25},{"value":2,"weight":25},{"value":3,"weight":25},{"value":4,"weight":25}],"type":"weightedChoice","key":"MarmaladeBootstrap","abgroup":"mto"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"Playbackmethod","abgroup":"pbm"},{"variants":[{"value":30,"weight":98},{"value":15,"weight":2},{"value":10,"weight":0}],"type":"weightedChoice","key":"VideoDuration","abgroup":"vmaxdur"},{"variants":[{"value":"all","weight":0},{"value":"adx","weight":100},{"value":"off","weight":0}],"type":"weightedChoice","key":"Interstitial","abgroup":"inters"},{"variants":[{"value":"all","weight":0},{"value":"adx","weight":80},{"value":"off","weight":20}],"type":"weightedChoice","key":"InterstitialAlt","abgroup":"inters5"},{"variants":[{"value":750,"weight":20},{"value":500,"weight":20},{"value":250,"weight":20},{"value":175,"weight":20},{"value":100,"weight":20}],"type":"weightedChoice","key":"AmazonTimeout","abgroup":"ato"},{"variants":[{"value":"both","weight":98},{"value":"client","weight":1},{"value":"server","weight":1}],"type":"weightedChoice","key":"Rubicon","abgroup":"magnitedr"},{"variants":[{"value":"both","weight":98},{"value":"client","weight":1},{"value":"server","weight":1}],"type":"weightedChoice","key":"OpenX","abgroup":"opnxdr"},{"variants":[{"value":"both","weight":4},{"value":"client","weight":95},{"value":"server","weight":1}],"type":"weightedChoice","key":"Kargo","abgroup":"krgodr"},{"variants":[{"value":"both","weight":1},{"value":"client","weight":1},{"value":"server","weight":98}],"type":"weightedChoice","key":"KargoVideo","abgroup":"krgodrvid"},{"variants":[{"value":"none","weight":99},{"value":"roxot","weight":1}],"type":"weightedChoice","key":"Analytics","abgroup":"pba"},{"variants":[{"value":"both","weight":98},{"value":"client","weight":1},{"value":"server","weight":1}],"type":"weightedChoice","key":"Triplelift","abgroup":"tripleliftdr"},{"variants":[{"value":"both","weight":98},{"value":"client","weight":1},{"value":"server","weight":1}],"type":"weightedChoice","key":"YahooSSP","abgroup":"yahoodr"},{"variants":[{"value":"both","weight":98},{"value":"client","weight":1},{"value":"server","weight":1}],"type":"weightedChoice","key":"YahooSSP1","abgroup":"yahoodr1"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"LoggerFilter","abgroup":"logfltr"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"FledgeGPT","abgroup":"fldg"},{"variants":[{"value":500,"weight":70},{"value":300,"weight":10},{"value":200,"weight":10},{"value":50,"weight":10}],"type":"weightedChoice","key":"DelayLoading","abgroup":"deftimer2"},{"variants":[{"weight":25}],"type":"bernoulliTrial","key":"WebVitals","abgroup":"wvtls"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"WebVitals_CLSRefactor","abgroup":"wvtlscls"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"ImpressionLogLegacy","abgroup":"loglevel"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"ImpressionLog1","abgroup":"loglevel_1"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"ImpressionLog","abgroup":"loglev"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"SensOff","abgroup":"sens_off"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"RtbHouseExperiment","abgroup":"rtbf"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"KargoSitePlacements","abgroup":"ksp"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"BidLimit","abgroup":"sab"},{"variants":[{"weight":95}],"type":"bernoulliTrial","key":"JwBoost","abgroup":"jwb"},{"variants":[{"weight":10}],"type":"bernoulliTrial","key":"LayoutShift","abgroup":"logcls"},{"variants":[{"value":2,"weight":60},{"value":1.25,"weight":10},{"value":1,"weight":10},{"value":0.75,"weight":10},{"value":0.5,"weight":10}],"type":"weightedChoice","key":"ContentMargin","abgroup":"lzcvp"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"ConfiantProperty","abgroup":"confiant"},{"variants":[{"weight":10}],"type":"bernoulliTrial","key":"ConfiantRefresh","abgroup":"confiant1"},{"variants":[{"value":5000,"weight":40,"abvalue":"5s"},{"value":10000,"weight":40,"abvalue":"10s"},{"value":15000,"weight":20,"abvalue":"15s"}],"type":"weightedChoice","key":"VastTimeout","abgroup":"vast_to"},{"variants":[{"value":15000,"weight":60,"abvalue":"15s"},{"value":18000,"weight":20,"abvalue":"18s"},{"value":20000,"weight":20,"abvalue":"20s"}],"type":"weightedChoice","key":"VastTimeoutISV","abgroup":"vasttoisv"},{"variants":[{"value":5000,"weight":60,"abvalue":"5s"},{"value":4000,"weight":20,"abvalue":"4s"},{"value":3000,"weight":20,"abvalue":"3s"}],"type":"weightedChoice","key":"VastTimeoutOSV","abgroup":"vasttoosv"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"SlotResize","abgroup":"sre"},{"variants":[{"weight":25}],"type":"bernoulliTrial","key":"AdDensity","abgroup":"addens"},{"variants":[{"weight":99}],"type":"bernoulliTrial","key":"BrandMetrics","abgroup":"bmetrics"},{"variants":[{"weight":95}],"type":"bernoulliTrial","key":"RefreshRebuild","abgroup":"rebuildslot"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"NielsenTracker","abgroup":"nlsentrckr"},{"variants":[{"value":4,"weight":0},{"value":5,"weight":0},{"value":6,"weight":100},{"value":7,"weight":0}],"type":"weightedChoice","key":"MaxRequests","abgroup":"mxrpog"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"ComscoreFooterRebrand","abgroup":"rptv"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"AdvancePlaylistExperiment","abgroup":"vadv"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"ConfiantEndpoint","abgroup":"cnfep"},{"variants":[{"weight":95}],"type":"bernoulliTrial","key":"TopicsAPI","abgroup":"tpcapi"},{"variants":[{"weight":10}],"type":"bernoulliTrial","key":"CreativeMonitoring","abgroup":"crtvmon"},{"variants":[{"value":"rubi","weight":3},{"value":"cm","weight":48},{"value":"fb","weight":48},{"value":"none","weight":1}],"type":"weightedChoice","key":"RubiconFloors","abgroup":"flr"},{"variants":[{"value":"rubi","weight":0},{"value":"rapml","weight":3},{"value":"cm","weight":48},{"value":"fbmag","weight":0},{"value":"fbrap","weight":48},{"value":"none","weight":1}],"type":"weightedChoice","key":"Floors","abgroup":"flrml"},{"variants":[{"value":"on","weight":5},{"value":"off","weight":95}],"type":"weightedChoice","key":"PBSFloor","abgroup":"pbsflr"},{"variants":[{"value":"on","weight":5},{"value":"off","weight":95}],"type":"weightedChoice","key":"PBSFloor1","abgroup":"pbsflr1"},{"variants":[{"value":"1_1","weight":19},{"value":"1_2","weight":19},{"value":"1_3","weight":19},{"value":"1_4","weight":19},{"value":"1_5","weight":19},{"value":"off","weight":5}],"type":"weightedChoice","key":"TTDDealFloor","abgroup":"ttddealflr"},{"variants":[{"value":"both","weight":100},{"value":"client","weight":0},{"value":"server","weight":0}],"type":"weightedChoice","key":"ColossusExperiment","abgroup":"coldr"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"AmazonHoldLoad","abgroup":"amzn_hold_load"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"OneVideoStream","abgroup":"rmos1"},{"variants":[{"value":"sovpcc","weight":0},{"value":"sovpct1","weight":0},{"value":"sovpct2","weight":100}],"type":"weightedChoice","key":"StickyCloseButton","abgroup":"socbe"},{"variants":[{"value":900000,"weight":5,"abvalue":"900"},{"value":600000,"weight":5,"abvalue":"600"},{"value":300000,"weight":5,"abvalue":"300"},{"value":-1,"weight":5,"abvalue":"tdoc"},{"value":0,"weight":80}],"type":"weightedChoice","key":"TearDownPlayer","abgroup":"mgtdtw"},{"variants":[{"value":0.75,"weight":40},{"value":0.25,"weight":20},{"value":0.125,"weight":20},{"value":0,"weight":20}],"type":"weightedChoice","key":"BelowPostMargin","abgroup":"lzbpvp"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"AmazonHoldDisplay","abgroup":"amzn_hold_disp"},{"variants":[{"weight":90}],"type":"bernoulliTrial","key":"DisableAjaxTimeout","abgroup":"dajto"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"RemoveLargeSidebar","abgroup":"smad300"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"AdvancePlaylistRelated","abgroup":"rvadv_ab1"},{"variants":[{"value":6000,"weight":5,"abvalue":"6s"},{"value":4000,"weight":75,"abvalue":"4s"},{"value":2000,"weight":15,"abvalue":"2s"},{"value":0,"weight":5,"abvalue":"0s"}],"type":"weightedChoice","key":"CloseButtonTimeout","abgroup":"cbt"},{"variants":[{"value":10000,"weight":20,"abvalue":"10"},{"value":15000,"weight":60,"abvalue":"15"},{"value":20000,"weight":20,"abvalue":"20"}],"type":"weightedChoice","key":"JwRequestTimeout","abgroup":"reqTo"},{"variants":[{"weight":3}],"type":"bernoulliTrial","key":"LogAdDuration","abgroup":"addur"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"LZHB","abgroup":"lzhb"},{"variants":[{"value":0,"weight":0,"abvalue":"off"},{"value":0.4,"weight":0,"abvalue":"40"},{"value":0.5,"weight":0,"abvalue":"50"},{"value":0.6,"weight":100,"abvalue":"60"},{"value":0.7,"weight":0,"abvalue":"70"}],"type":"weightedChoice","key":"LazyLoadFloors","abgroup":"lzflr"},{"variants":[{"value":0,"weight":0},{"value":1,"weight":0},{"value":2,"weight":100},{"value":3,"weight":0}],"type":"weightedChoice","key":"BidPoolingTimeoutExperiment","abgroup":"bpto"},{"variants":[{"value":"0_0","weight":20},{"value":"off","weight":20},{"value":"10_10","weight":20},{"value":"20_20","weight":20},{"value":"30_30","weight":20}],"type":"weightedChoice","key":"UPROExperiment","abgroup":"upro3"},{"variants":[{"value":"0_0","weight":20},{"value":"02_02","weight":20},{"value":"05_05","weight":20},{"value":"005_005","weight":20},{"value":"off","weight":20}],"type":"weightedChoice","key":"UPROExperiment2","abgroup":"upro2"},{"variants":[{"value":"ix","weight":99.5},{"value":"mn","weight":96},{"value":"ox","weight":90},{"value":"pu","weight":99},{"value":"un","weight":90},{"value":"ma","weight":90},{"value":"sh","weight":90},{"value":"st","weight":99},{"value":"sb","weight":99},{"value":"sv","weight":75},{"value":"tl","weight":99},{"value":"yh","weight":0},{"value":"ym","weight":9},{"value":"mg","weight":99},{"value":"xr","weight":99},{"value":"ot","weight":75},{"value":"ax","weight":100},{"value":"ch","weight":100},{"value":"cr","weight":100},{"value":"gg","weight":100},{"value":"kg","weight":100},{"value":"td","weight":100},{"value":"ym","weight":90}],"type":"multivalueBernoulliTrial","key":"DisplayOpenBidderExperiment","abgroup":"doba"},{"variants":[{"value":"ax","weight":100},{"value":"ix","weight":95},{"value":"mn","weight":90},{"value":"ox","weight":75},{"value":"pu","weight":95},{"value":"un","weight":95},{"value":"ma","weight":95},{"value":"sx","weight":100},{"value":"tl","weight":95},{"value":"yh","weight":99},{"value":"sh","weight":90},{"value":"ym","weight":50},{"value":"mg","weight":90},{"value":"xr","weight":99},{"value":"gg","weight":95},{"value":"ot","weight":75},{"value":"sv","weight":75}],"type":"multivalueBernoulliTrial","key":"VideoOpenBidderExperiment","abgroup":"voba"},{"variants":[{"value":2,"weight":100},{"value":3,"weight":0},{"value":0,"weight":0}],"type":"weightedChoice","key":"OutstreamPlacementExperiment","abgroup":"osp"},{"variants":[{"value":0.8,"weight":25},{"value":1,"weight":25},{"value":1.2,"weight":25},{"value":1.4,"weight":25}],"type":"weightedChoice","key":"SingleFloorMultiplier","abgroup":"flrmltp"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"OptimalDisplayBidders","abgroup":"optd"},{"variants":[{"weight":25}],"type":"bernoulliTrial","key":"MagniteCarbon","abgroup":"mgncrbn"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"OptimalVideoBidders","abgroup":"optv"},{"variants":[{"weight":10}],"type":"bernoulliTrial","key":"LogAdLifeCycle","abgroup":"adlifecyc"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"OutstreamRendererExperiment","abgroup":"nosvp"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyPlayerPosition","abgroup":"sppe50"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"StickyOutstreamOnStickyPlayerPages","abgroup":"sospp"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"StickyOutstreamPlayerSizeExperiment","abgroup":"dlsops"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"SharedIdPlugin","abgroup":"sidp"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"DisplayBackupRenderer","abgroup":"dofre"},{"variants":[{"value":"tlo","weight":100}],"type":"weightedChoice","key":"StickyInstreamCloseButton","abgroup":"sicb"},{"variants":[{"value":"strict","weight":0},{"value":"relaxed","weight":100},{"value":"off","weight":0}],"type":"weightedChoice","key":"DemandChain","abgroup":"dco"},{"variants":[{"value":100,"weight":25},{"value":200,"weight":50,"abvalue":"off"},{"value":300,"weight":25}],"type":"weightedChoice","key":"S2SBuffer","abgroup":"s2sbuff"},{"variants":[{"value":0,"weight":85},{"value":1,"weight":5},{"value":500,"weight":5},{"value":1000,"weight":5}],"type":"weightedChoice","key":"AuctionDelay","abgroup":"adt"},{"variants":[{"value":1,"weight":5},{"value":250,"weight":5},{"value":500,"weight":85},{"value":750,"weight":5}],"type":"weightedChoice","key":"AuctionDelay_2","abgroup":"adt2"},{"variants":[{"value":0,"weight":85},{"value":1,"weight":5},{"value":500,"weight":5},{"value":1000,"weight":5}],"type":"weightedChoice","key":"AltAuctionDelay","abgroup":"adt_alt"},{"variants":[{"value":1,"weight":10},{"value":1.3,"weight":30},{"value":1.1,"weight":30},{"value":1.2,"weight":30}],"type":"weightedChoice","key":"FloorsRefresh","abgroup":"refflr2"},{"variants":[{"value":1,"weight":97},{"value":1.1,"weight":1},{"value":1.2,"weight":1},{"value":1.3,"weight":1}],"type":"weightedChoice","key":"FloorsInstreamRefresh","abgroup":"refvidflr"},{"variants":[{"value":0,"weight":80},{"value":1.1,"weight":5},{"value":1.2,"weight":5},{"value":1.3,"weight":5},{"value":1.4,"weight":5}],"type":"weightedChoice","key":"FloorsStickyOutstreamRefresh","abgroup":"refsoflr"},{"variants":[{"value":0,"weight":33},{"value":1,"weight":33},{"value":1.5,"weight":34}],"type":"weightedChoice","key":"SuppressOutreamSlowConnection","abgroup":"socon"},{"variants":[{"value":10000,"weight":0},{"value":15000,"weight":0},{"value":20000,"weight":0},{"value":25000,"weight":100},{"value":30000,"weight":0}],"type":"weightedChoice","key":"CMPTimeout","abgroup":"cmpto"},{"variants":[{"weight":25}],"type":"bernoulliTrial","key":"UserPageDataLogging","abgroup":"upl"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"OneVideoStreamNoVideo","abgroup":"rmosnv1"},{"variants":[{"weight":10}],"type":"bernoulliTrial","key":"UserPageDataPrivacyLogging","abgroup":"datapriv"},{"variants":[{"value":2000,"weight":10},{"value":2100,"weight":15},{"value":2200,"weight":50},{"value":2300,"weight":15},{"value":2400,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutDesktopFastExperiment","abgroup":"ito_df"},{"variants":[{"value":2600,"weight":10},{"value":2700,"weight":15},{"value":2800,"weight":50},{"value":2900,"weight":15},{"value":3000,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutDesktopSlowExperiment","abgroup":"ito_ds"},{"variants":[{"value":2400,"weight":10},{"value":2500,"weight":15},{"value":2600,"weight":50},{"value":2700,"weight":15},{"value":2800,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutDesktopUnknownExperiment","abgroup":"ito_dn"},{"variants":[{"value":2400,"weight":10},{"value":2500,"weight":15},{"value":2600,"weight":50},{"value":2700,"weight":15},{"value":2800,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutMobileFastExperiment","abgroup":"ito_mf"},{"variants":[{"value":2600,"weight":10},{"value":2700,"weight":15},{"value":2800,"weight":50},{"value":2900,"weight":15},{"value":3000,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutMobileSlowExperiment","abgroup":"ito_ms"},{"variants":[{"value":2600,"weight":10},{"value":2700,"weight":15},{"value":2800,"weight":50},{"value":2900,"weight":15},{"value":3000,"weight":10}],"type":"weightedChoice","key":"InitialTimeoutMobileUnknownExperiment","abgroup":"ito_mn"},{"variants":[{"value":"id5Id","weight":50},{"value":"identityLink","weight":1},{"value":"pairId","weight":1},{"value":"unifiedId","weight":1},{"value":"unifiedId2","weight":1},{"value":"sharedId","weight":1},{"value":"criteo","weight":5},{"value":"connectId","weight":5},{"value":"fabrickId","weight":5},{"value":"FTrackId","weight":95},{"value":"33acrossId","weight":5},{"value":"liveIntentId","weight":1},{"value":"lotamePanoramaId","weight":5},{"value":"merkleId","weight":25},{"value":"merkuryId","weight":5}],"type":"multivalueBernoulliTrial","key":"IDHO","abgroup":"idho"},{"variants":[{"value":"ix_ebda","weight":0.5},{"value":"medianet_ebda","weight":4},{"value":"openx_ebda","weight":10},{"value":"pubmatic_ebda","weight":1},{"value":"rhythmone_ebda","weight":10},{"value":"rubicon_ebda","weight":6},{"value":"sharethrough_ebda","weight":10},{"value":"smart_ebda","weight":1},{"value":"sonobi_ebda","weight":1},{"value":"sovrn_ebda","weight":15},{"value":"triplelift_ebda","weight":1},{"value":"verizon_ebda","weight":0},{"value":"yieldmo_ebda","weight":10},{"value":"mediagrid_ebda","weight":1},{"value":"xandr_ebda","weight":1},{"value":"onetag_ebda","weight":1}],"type":"holdout","key":"EBHO","abgroup":"ebho"},{"variants":[{"value":"ix_ebda","weight":5},{"value":"medianet_ebda","weight":10},{"value":"openx_ebda","weight":20},{"value":"pubmatic_ebda","weight":5},{"value":"rhythmone_ebda","weight":5},{"value":"rubicon_ebda","weight":5},{"value":"spotx_ebda","weight":0},{"value":"triplelift_ebda","weight":1},{"value":"verizon_ebda","weight":1},{"value":"sharethrough_ebda","weight":10},{"value":"yieldmo_ebda","weight":20},{"value":"xandr_ebda","weight":5}],"type":"holdout","key":"VEBHO","abgroup":"vebho"},{"variants":[{"value":"appnexus","weight":10},{"value":"colossus","weight":1},{"value":"conversant","weight":1},{"value":"criteo","weight":5},{"value":"gridvid","weight":5},{"value":"gumgum","weight":50},{"value":"improvedigital","weight":10},{"value":"ix","weight":0.5},{"value":"openx","weight":10},{"value":"pubmatic","weight":1},{"value":"resetdigital","weight":90},{"value":"roundel","weight":10},{"value":"rubicon","weight":1},{"value":"sharethrough","weight":1},{"value":"triplelift","weight":1},{"value":"ttd","weight":1},{"value":"unruly","weight":1},{"value":"undertone","weight":1},{"value":"yahoossp","weight":1},{"value":"kargo","weight":1},{"value":"33across","weight":100},{"value":"onetag","weight":10}],"type":"multivalueBernoulliTrial","key":"VBHO","abgroup":"vbho"},{"variants":[{"value":"33across","weight":25},{"value":"appnexus","weight":1},{"value":"colossus","weight":1},{"value":"conversant","weight":10},{"value":"concert","weight":5},{"value":"criteo","weight":1},{"value":"grid","weight":0.5},{"value":"gumgum","weight":1},{"value":"kargo","weight":1},{"value":"improvedigital","weight":10},{"value":"ix","weight":0.5},{"value":"nativo","weight":10},{"value":"openx","weight":1},{"value":"pubmatic","weight":1},{"value":"resetdigital","weight":90},{"value":"roundel","weight":10},{"value":"rtbhouse","weight":15},{"value":"rubicon","weight":1},{"value":"sharethrough","weight":40},{"value":"teads","weight":1},{"value":"triplelift","weight":0.5},{"value":"ttd","weight":1},{"value":"undertone","weight":5},{"value":"unruly","weight":1},{"value":"verizon","weight":1},{"value":"yahoossp","weight":1},{"value":"yieldmo","weight":10}],"type":"multivalueBernoulliTrial","key":"HBHO","abgroup":"hbho"},{"variants":[{"value":"33across","weight":0},{"value":"appnexus","weight":0},{"value":"colossus","weight":0},{"value":"conversant","weight":0},{"value":"concert","weight":0},{"value":"criteo","weight":0},{"value":"grid","weight":0},{"value":"gridvid","weight":0},{"value":"gumgum","weight":0},{"value":"kargo","weight":0},{"value":"improvedigital","weight":0},{"value":"ix","weight":0},{"value":"nativo","weight":0},{"value":"openx","weight":0},{"value":"pubmatic","weight":0},{"value":"resetdigital","weight":0},{"value":"roundel","weight":0},{"value":"rtbhouse","weight":0},{"value":"rubicon","weight":0},{"value":"sharethrough","weight":0},{"value":"teads","weight":0},{"value":"triplelift","weight":0},{"value":"ttd","weight":0},{"value":"undertone","weight":0},{"value":"unruly","weight":0},{"value":"verizon","weight":0},{"value":"yahoossp","weight":0},{"value":"yieldmo","weight":0},{"value":"onetag","weight":0}],"type":"multivalueBernoulliTrial","key":"AllBidderHO","abgroup":"allbho"},{"variants":[{"value":"33across","weight":100},{"value":"appnexus","weight":5},{"value":"conversant","weight":100},{"value":"grid","weight":99},{"value":"gumgum","weight":2},{"value":"improve_ss","weight":100},{"value":"openx","weight":1},{"value":"pubm_ss","weight":100},{"value":"resetdigital","weight":100},{"value":"under_ss","weight":100},{"value":"unruly","weight":100},{"value":"yieldmo","weight":100}],"type":"multivalueBernoulliTrial","key":"S2S2","abgroup":"pbs2s"},{"variants":[{"value":0,"weight":25},{"value":5,"weight":25},{"value":10,"weight":25},{"value":25,"weight":25}],"type":"weightedChoice","key":"UserSyncLimit","abgroup":"csync_lim"},{"variants":[{"weight":75}],"type":"bernoulliTrial","key":"TestCloudfrontInvalidation","abgroup":"testCf"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"SinglePageAppSupport","abgroup":"spa"},{"variants":[{"weight":50}],"type":"bernoulliTrial","key":"DisableLogger","abgroup":"logger"},{"variants":[{"weight":99}],"type":"bernoulliTrial","key":"OrtbEnrich","abgroup":"s2sparam"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"JumpToTracker","abgroup":"jtte"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"ContentSpecificPlaylists","abgroup":"csp"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"SinglePageAppSupport_636bb77b4a063e2c3e3686fb","abgroup":"spa_636bb77b4a063e2c3e3686fb"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"SinglePageAppSupport_62a8f1d2540a6e420ab16977","abgroup":"spa_62a8f1d2540a6e420ab16977"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_660a2f0855c0e65b7013b0a2a","abgroup":"sotc_660a2f0855c0e65b7013b0a2a"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_56d7646348ac34b603d08cdd","abgroup":"sotc_56d7646348ac34b603d08cdd"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_52e41fac28963d1e058a107e","abgroup":"sotc_52e41fac28963d1e058a107e"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_553542257a55b2e06135e447","abgroup":"sotc_553542257a55b2e06135e447"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_53237591208f222c05b9a652","abgroup":"sotc_53237591208f222c05b9a652"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_530961e8208f222c05b9a319","abgroup":"sotc_530961e8208f222c05b9a319"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_60a7fa14d53602489a3692c6","abgroup":"sotc_60a7fa14d53602489a3692c6"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_52e41fac28963d1e058a1132","abgroup":"sotc_52e41fac28963d1e058a1132"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_58c18d1bf051050f829e3c0b","abgroup":"sotc_58c18d1bf051050f829e3c0b"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5667530f4856897050e3754f","abgroup":"sotc_5667530f4856897050e3754f"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_55bccc97303edab84afd77e2","abgroup":"sotc_55bccc97303edab84afd77e2"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5e7dea4b319b6675881fa756","abgroup":"sotc_5e7dea4b319b6675881fa756"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_54bdb2d6358b65853f5fe5c4","abgroup":"sotc_54bdb2d6358b65853f5fe5c4"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5ebac21ff67e7555ae952e51","abgroup":"sotc_5ebac21ff67e7555ae952e51"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_60241fb76f0af53ee0150fba","abgroup":"sotc_60241fb76f0af53ee0150fba"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5af420ecfab03c25e571fc36","abgroup":"sotc_5af420ecfab03c25e571fc36"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5e42febb231faa5bc174c1e9","abgroup":"sotc_5e42febb231faa5bc174c1e9"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_62f26eb8e4a64b3ce9532c7b","abgroup":"sotc_62f26eb8e4a64b3ce9532c7b"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5ade026821520f50ab7dc946","abgroup":"sotc_5ade026821520f50ab7dc946"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenter_5be1d613604fb775e8699c25","abgroup":"sotc_5be1d613604fb775e8699c25"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"StickyContainerAdsTopCenterVideoDependency","abgroup":"scatcve"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"SlickstreamAdUnits","abgroup":"ssau"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"StickySidebarFeatureFlag","abgroup":"ssff"},{"variants":[{"value":"20sc","weight":33},{"value":"20s","weight":33},{"value":"off","weight":34}],"type":"weightedChoice","key":"MultistagePrebidAuction","abgroup":"multirefauc"},{"variants":[{"value":"none","weight":1},{"value":"8.27.1","weight":99}],"type":"weightedChoice","key":"JWPVersionExperiment","abgroup":"jwpv"},{"variants":[{"value":10000,"weight":70},{"value":15000,"weight":7},{"value":20000,"weight":7},{"value":25000,"weight":10},{"value":1000,"weight":3},{"value":2000,"weight":3}],"type":"weightedChoice","key":"AdInViewExperiment","abgroup":"ainv"},{"variants":[{"value":1000,"weight":100}],"type":"weightedChoice","key":"AdInViewExperiment_2","abgroup":"ainv2"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"DetectOverlappingHeader","abgroup":"dovh"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"VideoCollapseScrollUp","abgroup":"vcsu"},{"variants":[{"value":"off","weight":96},{"value":"1","weight":2},{"value":"2","weight":2}],"type":"weightedChoice","key":"VideoCollapseScrollUpTopCenter","abgroup":"cosuftc"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"StickyOutstreamTopCenterDA","abgroup":"sotcDA"},{"variants":[{"value":0,"weight":33},{"value":1,"weight":33},{"value":1.5,"weight":34}],"type":"weightedChoice","key":"ConnectionSpeedLazyLoad","abgroup":"csld"},{"variants":[{"value":"Continuing without bids","weight":99},{"value":"xhr timeout after","weight":99}],"type":"multivalueBernoulliTrial","key":"DialDownLogsExperiment","abgroup":"dsle"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"EnableSensitiveCategories","abgroup":"esc"},{"variants":[{"weight":100}],"type":"bernoulliTrial","key":"PlayInline","abgroup":"plin"},{"variants":[{"value":"sm","weight":25},{"value":"md","weight":25},{"value":"lg","weight":25},{"value":"con","weight":25}],"type":"weightedChoice","key":"LazyLoadSettingsExperiment","abgroup":"lzset"},{"variants":[{"value":0,"weight":80},{"value":5,"weight":5},{"value":10,"weight":5},{"value":25,"weight":5},{"value":50,"weight":5}],"type":"weightedChoice","key":"InstreamLowerFloorsExperiment","abgroup":"ilfe"},{"variants":[{"value":0.9,"weight":96},{"value":0.85,"weight":1},{"value":0.8,"weight":1},{"value":0.75,"weight":1},{"value":0,"weight":1}],"type":"weightedChoice","key":"PredictiveAnalysis","abgroup":"vpred_1"},{"variants":[{"value":{"protocols":[1,2,3,4,5,6,7,8],"value":"all","scope":"all"},"weight":55},{"value":{"protocols":[2,3,5,6,7,8],"value":"nv1","scope":"all"},"weight":15},{"value":{"protocols":[1,2,3,5,6,7,8],"value":"allr","scope":"limited"},"weight":15},{"value":{"protocols":[2,3,5,6,7,8],"value":"nv1r","scope":"limited"},"weight":15}],"type":"weightedChoice","key":"Protocols","abgroup":"proto"},{"variants":[{"value":"off","weight":30},{"value":"5.80","weight":50},{"value":"4.00","weight":10},{"value":"2.00","weight":5},{"value":"0.75","weight":5}],"type":"weightedChoice","key":"DCSLLSiteSpecific","abgroup":"dcsll_ss"},{"variants":[{"weight":5}],"type":"bernoulliTrial","key":"StickyOutstreamBottomLeftExperiment","abgroup":"soblp"},{"variants":[{"weight":0}],"type":"bernoulliTrial","key":"OpenXLiveIntent","abgroup":"oxli"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"ParallaxAdLogError","abgroup":"pale"},{"variants":[{"value":1200,"weight":20},{"value":1800,"weight":20},{"value":2100,"weight":20},{"value":2400,"weight":20},{"value":2700,"weight":20}],"type":"weightedChoice","key":"DynamicSidebarSlotsMinHeight","abgroup":"dssmh"},{"variants":[{"value":0,"weight":20},{"value":25,"weight":20},{"value":50,"weight":20},{"value":75,"weight":20},{"value":100,"weight":20}],"type":"weightedChoice","key":"DynamicSidebarSlotsCap","abgroup":"dssc"},{"variants":[{"value":"ats","weight":1},{"value":"conf","weight":1},{"value":"hawk","weight":1},{"value":"tgtaff","weight":1},{"value":"amz","weight":1},{"value":"none","weight":95}],"type":"weightedChoice","key":"TKHO","abgroup":"3pho"},{"variants":[{"weight":25,"value":0},{"weight":25,"value":1},{"weight":25,"value":5},{"weight":25,"value":15}],"type":"weightedChoice","key":"EventHistoryTTL","abgroup":"ettl"},{"variants":[{"weight":1}],"type":"bernoulliTrial","key":"AuctionMetricsLogger","abgroup":"aml"}]};

    'use strict';window.adthrive.branch=window.adthrive.branch||"HEAD c53ed52";window.adthrive.bucket=window.adthrive.bucket||"flex";window.adthrive.gdpr="false";window.adthrive.deployment=window.adthrive.deployment||"X";
var adthrive=function(){function Il(a,b,c,d){a.reverse().forEach(e=>{d=e(b,c,d)||d});return d}function Jl(a,b){a.reverse().forEach(c=>{(c=c(b))&&(b=c)});return b}function xj(a,b){return zc.get(a)&&zc.get(a).get(b)}function Ac(a,b,c){if(void 0===b)throw new TypeError;return(b=xj(b,c))&&b.get(a)}function yj(a,b,c,d){if(d&&!["string","symbol"].includes(typeof d))throw new TypeError;var e;(e=xj(c,d))||(e=zc.get(c)||new Map,zc.set(c,e),c=e.get(d)||new Map,e.set(d,c),e=c);e.set(a,b)}function ae(a,b,c){return Ac(a,
b,c)?Ac(a,b,c):Object.getPrototypeOf(b)?ae(a,Object.getPrototypeOf(b),c):void 0}function be(a,b){function c(){this.constructor=a}ce(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function Bc(a){var b="function"===typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"===typeof a.length)return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");
}function Cc(a,b){var c="function"===typeof Symbol&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[];try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(h){var f={error:h}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error;}}return e}function bb(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(Cc(arguments[b]));return a}function Kl(a){var b=Reflect.getMetadata("design:paramtypes",a)||[],c=Reflect.getOwnMetadata("injectionTokens",a)||{};Object.keys(c).forEach(function(d){b[+d]=
c[d]});return b}function R(a,b){return function(c,d,e){d=Reflect.getOwnMetadata("injectionTokens",c)||{};d[e]=b?{token:a,transform:b.transformToken,transformArgs:b.args||[]}:a;Reflect.defineMetadata("injectionTokens",d,c)}}function ob(a){return"string"===typeof a||"symbol"===typeof a}function zj(a){return"object"===typeof a&&"token"in a&&"transform"in a}function Ll(a,b,c){void 0===c&&(c="    ");return bb([a],b.message.split("\n").map(function(d){return c+d})).join("\n")}function v(){return function(a){Aj.set(a,
Kl(a))}}function q(){return function(a){v()(a);E.registerSingleton(a)}}function k(a,b,c,d){var e=arguments.length,f=3>e?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(a,b,c,d);else for(var m=a.length-1;0<=m;m--)if(h=a[m])f=(3>e?h(f):3<e?h(b,c,f):h(b,c))||f;return 3<e&&f&&Object.defineProperty(b,c,f),f}function S(a,b){return function(c,d){b(c,d,a)}}function l(a,b){if("object"===typeof Reflect&&"function"===
typeof Reflect.metadata)return Reflect.metadata(a,b)}function Dc(a,b){return a===b||a!==a&&b!==b}function Ec(a,b){for(var c=a.length;c--;)if(Dc(a[c][0],b))return c;return-1}function Ka(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Kb(a){if(null==a)return void 0===a?"[object Undefined]":"[object Null]";if(Bj&&Bj in Object(a)){var b=Ml.call(a,Lb),c=a[Lb];try{a[Lb]=void 0;var d=!0}catch(f){}var e=Nl.call(a);d&&(b?a[Lb]=c:delete a[Lb]);a=e}else a=Ol.call(a);
return a}function Ca(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function de(a){if(!Ca(a))return!1;a=Kb(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function ee(a,b){a=null==a?void 0:a[b];if(!Ca(a)||Cj&&Cj in a)var c=!1;else{b=de(a)?Pl:Ql;var d=b.test;b:if(null!=a){try{c=Rl.call(a);break b}catch(e){}c=a+""}else c="";c=d.call(b,c)}return c?a:void 0}function cb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<
c;){var d=a[b];this.set(d[0],d[1])}}function Fc(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function pb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function qb(a){this.size=(this.__data__=new Ka(a)).size}function fe(a,b,c){"__proto__"==b&&Gc?Gc(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function ge(a,b,c){(void 0===
c||Dc(a[b],c))&&(void 0!==c||b in a)||fe(a,b,c)}function Dj(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Sl)}function rb(a){return null!=a&&"object"==typeof a}function Ej(a){return rb(a)&&"[object Arguments]"==Kb(a)}function Fj(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function he(a){return null!=a&&Fj(a.length)&&!de(a)}function Tl(){return!1}function Ul(a){return rb(a)&&Fj(a.length)&&!!Z[Kb(a)]}function Vl(a){return function(b){return a(b)}}function ie(a,
b){if(("constructor"!==b||"function"!==typeof a[b])&&"__proto__"!=b)return a[b]}function Gj(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&Wl.test(a))&&-1<a&&0==a%1&&a<b}function Hj(a){if(he(a)){var b=je(a),c=!b&&ke(a),d=!b&&!c&&Ij(a),e=!b&&!c&&!d&&Jj(a);if(b=b||c||d||e){c=a.length;for(var f=String,h=-1,m=Array(c);++h<c;)m[h]=f(h);c=m}else c=[];f=c.length;for(var n in a)b&&("length"==n||d&&("offset"==n||"parent"==n)||e&&("buffer"==n||"byteLength"==n||"byteOffset"==
n)||Gj(n,f))||c.push(n);a=c}else if(Ca(a)){n=Dj(a);e=[];for(d in a)("constructor"!=d||!n&&Xl.call(a,d))&&e.push(d);a=e}else{n=[];if(null!=a)for(e in Object(a))n.push(e);a=n}return a}function Kj(a,b,c,d,e){a!==b&&Yl(b,function(f,h){e||(e=new qb);if(Ca(f)){f=e;var m=ie(a,h),n=ie(b,h),u=f.get(n);if(u)ge(a,h,u);else{var w=d?d(m,n,h+"",a,b,f):void 0;if(u=void 0===w){var t=je(n),A=!t&&Ij(n),G=!t&&!A&&Jj(n);w=n;if(t||A||G)if(je(m))w=m;else if(rb(m)&&he(m))for(w=void 0,t=-1,A=m.length,w||(w=Array(A));++t<
A;)w[t]=m[t];else A?(u=!1,w=n.slice()):G?(u=!1,m=n.buffer,w=new m.constructor(m.byteLength),(new Lj(w)).set(new Lj(m)),w=new n.constructor(w,n.byteOffset,n.length)):w=[];else if(rb(n)&&"[object Object]"==Kb(n)?(t=Mj(n),null===t?t=!0:(t=Zl.call(t,"constructor")&&t.constructor,t="function"==typeof t&&t instanceof t&&Nj.call(t)==$l)):t=!1,t||ke(n))if(w=m,ke(m)){w=Hj(m);t=void 0;A=!t;t||(t={});G=-1;for(var N=w.length;++G<N;){var O=w[G],H=void 0;void 0===H&&(H=m[O]);if(A)fe(t,O,H);else{var P=t,K=P[O];
am.call(P,O)&&Dc(K,H)&&(void 0!==H||O in P)||fe(P,O,H)}}w=t}else{if(!Ca(m)||de(m))w="function"!=typeof n.constructor||Dj(n)?{}:bm(Mj(n))}else u=!1}u&&(f.set(n,w),Kj(w,n,c,d,f),f["delete"](n));ge(a,h,w)}}else n=d?d(ie(a,h),f,h+"",a,b,e):void 0,void 0===n&&(n=f),ge(a,h,n)},Hj)}function Oj(a){return a}function cm(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function dm(a,b,c){b=
Pj(void 0===b?a.length-1:b,0);return function(){for(var d=arguments,e=-1,f=Pj(d.length-b,0),h=Array(f);++e<f;)h[e]=d[b+e];e=-1;for(f=Array(b+1);++e<b;)f[e]=d[e];f[b]=c(h);return cm(a,this,f)}}function em(a){return function(){return a}}function fm(a,b){return gm(dm(a,b,Oj),a+"")}function Qa(a,b){void 0===b&&(b={});b=b.insertAt;if(a&&"undefined"!==typeof document){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css";"top"===b?c.firstChild?
c.insertBefore(d,c.firstChild):c.appendChild(d):c.appendChild(d);d.styleSheet?d.styleSheet.cssText=a:d.appendChild(document.createTextNode(a))}}function Qj(a){if("number"==typeof a)return a;var b=a;if("symbol"==typeof b||rb(b)&&"[object Symbol]"==Kb(b))return Rj;Ca(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=Ca(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;if(a){b=a.slice;for(var c=a.length;c--&&hm.test(a.charAt(c)););a=b.call(a,0,c+1).replace(im,"")}return(b=jm.test(a))||km.test(a)?
lm(a.slice(2),b?2:8):mm.test(a)?Rj:+a}function Sj(a,b,c){function d(K){var Y=n,Q=u;n=u=void 0;G=K;return w=a.apply(Q,Y)}function e(K){var Y=K-A;K-=G;return void 0===A||Y>=b||0>Y||O&&K>=P}function f(){var K=Ra.Date.now();if(e(K))return h(K);var Y=setTimeout;var Q=K-G;K=b-(K-A);Q=O?nm(K,P-Q):K;t=Y(f,Q)}function h(K){t=void 0;if(H&&n)return d(K);n=u=void 0;return w}function m(){var K=Ra.Date.now(),Y=e(K);n=arguments;u=this;A=K;if(Y){if(void 0===t)return G=K=A,t=setTimeout(f,b),N?d(K):w;if(O)return clearTimeout(t),
t=setTimeout(f,b),d(A)}void 0===t&&(t=setTimeout(f,b));return w}var n,u,w,t,A,G=0,N=!1,O=!1,H=!0;if("function"!=typeof a)throw new TypeError("Expected a function");b=Qj(b)||0;if(Ca(c)){N=!!c.leading;var P=(O="maxWait"in c)?om(Qj(c.maxWait)||0,b):P;H="trailing"in c?!!c.trailing:H}m.cancel=function(){void 0!==t&&clearTimeout(t);G=0;n=A=u=t=void 0};m.flush=function(){return void 0===t?w:h(Ra.Date.now())};return m}function le(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new TypeError("Expected a function");
Ca(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return Sj(a,b,{leading:d,maxWait:b,trailing:e})}window.adthrive.buildDate="2023-11-03";let zc=new WeakMap;Object.assign(Reflect,{decorate:function(a,b,c,d){if(!Array.isArray(a)||0===a.length)throw new TypeError;if(void 0!==c)return Il(a,b,c,d);if("function"===typeof b)return Jl(a,b)},defineMetadata:function(a,b,c,d){yj(a,b,c,d)},getMetadata:function(a,b,c){return ae(a,b,c)},getOwnMetadata:function(a,b,c){return Ac(a,b,c)},hasMetadata:function(a,
b,c){return!!ae(a,b,c)},hasOwnMetadata:function(a,b,c){return!!Ac(a,b,c)},metadata:function(a,b){return function(c,d){yj(a,b,c,d)}}});var me;(function(a){a[a.Transient=0]="Transient";a[a.Singleton=1]="Singleton";a[a.ResolutionScoped=2]="ResolutionScoped";a[a.ContainerScoped=3]="ContainerScoped"})(me||(me={}));var oa=me,ce=function(a,b){ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e])};return ce(a,
b)},Tj=function(){function a(b){this.wrap=b;this.reflectMethods="get getPrototypeOf setPrototypeOf getOwnPropertyDescriptor defineProperty has set deleteProperty apply construct ownKeys".split(" ")}a.prototype.createProxy=function(b){var c=this,d=!1,e;return new Proxy({},this.createHandler(function(){d||(e=b(c.wrap()),d=!0);return e}))};a.prototype.createHandler=function(b){var c={};this.reflectMethods.forEach(function(d){c[d]=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];e[0]=
b();return Reflect[d].apply(void 0,bb(e))}});return c};return a}(),ne=function(){function a(){this._registryMap=new Map}a.prototype.entries=function(){return this._registryMap.entries()};a.prototype.getAll=function(b){this.ensure(b);return this._registryMap.get(b)};a.prototype.get=function(b){this.ensure(b);b=this._registryMap.get(b);return b[b.length-1]||null};a.prototype.set=function(b,c){this.ensure(b);this._registryMap.get(b).push(c)};a.prototype.setAll=function(b,c){this._registryMap.set(b,c)};
a.prototype.has=function(b){this.ensure(b);return 0<this._registryMap.get(b).length};a.prototype.clear=function(){this._registryMap.clear()};a.prototype.ensure=function(b){this._registryMap.has(b)||this._registryMap.set(b,[])};return a}(),pm=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}be(b,a);return b}(ne),Uj=function(){return function(){this.scopedResolutions=new Map}}(),qm=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}be(b,a);return b}(ne),rm=
function(a){function b(){return null!==a&&a.apply(this,arguments)||this}be(b,a);return b}(ne),sm=function(){return function(){this.preResolution=new qm;this.postResolution=new rm}}(),Aj=new Map,E=new (function(){function a(b){this.parent=b;this._registry=new pm;this.interceptors=new sm}a.prototype.register=function(b,c,d){void 0===d&&(d={lifecycle:oa.Transient});c=c.useClass||void 0!=c.useValue||c.useToken||c.useFactory?c:{useClass:c};if(c.useToken)for(var e=[b],f=c;null!=f;){f=f.useToken;if(e.includes(f))throw Error("Token registration cycle detected! "+
bb(e,[f]).join(" -> "));e.push(f);f=(f=this._registry.get(f))&&f.provider.useToken?f.provider:null}if(d.lifecycle===oa.Singleton||d.lifecycle==oa.ContainerScoped||d.lifecycle==oa.ResolutionScoped)if(void 0!=c.useValue||c.useFactory)throw Error('Cannot use lifecycle "'+oa[d.lifecycle]+'" with ValueProviders or FactoryProviders');this._registry.set(b,{provider:c,options:d});return this};a.prototype.registerType=function(b,c){return ob(c)?this.register(b,{useToken:c}):this.register(b,{useClass:c})};
a.prototype.registerInstance=function(b,c){return this.register(b,{useValue:c})};a.prototype.registerSingleton=function(b,c){if(ob(b)){if(ob(c))return this.register(b,{useToken:c},{lifecycle:oa.Singleton});if(c)return this.register(b,{useClass:c},{lifecycle:oa.Singleton});throw Error('Cannot register a type name as a singleton without a "to" token');}var d=b;c&&!ob(c)&&(d=c);return this.register(b,{useClass:d},{lifecycle:oa.Singleton})};a.prototype.resolve=function(b,c){void 0===c&&(c=new Uj);var d=
this.getRegistration(b);if(!d&&ob(b))throw Error('Attempted to resolve unregistered dependency token: "'+b.toString()+'"');this.executePreResolutionInterceptor(b,"Single");if(d)return c=this.resolveRegistration(d,c),this.executePostResolutionInterceptor(b,c,"Single"),c;if("function"===typeof b||b instanceof Tj)return c=this.construct(b,c),this.executePostResolutionInterceptor(b,c,"Single"),c;throw Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.");
};a.prototype.executePreResolutionInterceptor=function(b,c){var d;if(this.interceptors.preResolution.has(b)){var e=[];try{for(var f=Bc(this.interceptors.preResolution.getAll(b)),h=f.next();!h.done;h=f.next()){var m=h.value;"Once"!=m.options.frequency&&e.push(m);m.callback(b,c)}}catch(u){var n={error:u}}finally{try{h&&!h.done&&(d=f.return)&&d.call(f)}finally{if(n)throw n.error;}}this.interceptors.preResolution.setAll(b,e)}};a.prototype.executePostResolutionInterceptor=function(b,c,d){var e;if(this.interceptors.postResolution.has(b)){var f=
[];try{for(var h=Bc(this.interceptors.postResolution.getAll(b)),m=h.next();!m.done;m=h.next()){var n=m.value;"Once"!=n.options.frequency&&f.push(n);n.callback(b,c,d)}}catch(w){var u={error:w}}finally{try{m&&!m.done&&(e=h.return)&&e.call(h)}finally{if(u)throw u.error;}}this.interceptors.postResolution.setAll(b,f)}};a.prototype.resolveRegistration=function(b,c){if(b.options.lifecycle===oa.ResolutionScoped&&c.scopedResolutions.has(b))return c.scopedResolutions.get(b);var d=b.options.lifecycle===oa.ContainerScoped;
d=b.options.lifecycle===oa.Singleton||d;d=void 0!=b.provider.useValue?b.provider.useValue:b.provider.useToken?d?b.instance||(b.instance=this.resolve(b.provider.useToken,c)):this.resolve(b.provider.useToken,c):b.provider.useClass?d?b.instance||(b.instance=this.construct(b.provider.useClass,c)):this.construct(b.provider.useClass,c):b.provider.useFactory?b.provider.useFactory(this):this.construct(b.provider,c);b.options.lifecycle===oa.ResolutionScoped&&c.scopedResolutions.set(b,d);return d};a.prototype.resolveAll=
function(b,c){var d=this;void 0===c&&(c=new Uj);var e=this.getAllRegistrations(b);if(!e&&ob(b))throw Error('Attempted to resolve unregistered dependency token: "'+b.toString()+'"');this.executePreResolutionInterceptor(b,"All");if(e)return e=e.map(function(f){return d.resolveRegistration(f,c)}),this.executePostResolutionInterceptor(b,e,"All"),e;e=[this.construct(b,c)];this.executePostResolutionInterceptor(b,e,"All");return e};a.prototype.isRegistered=function(b,c){void 0===c&&(c=!1);return this._registry.has(b)||
c&&(this.parent||!1)&&this.parent.isRegistered(b,!0)};a.prototype.reset=function(){this._registry.clear();this.interceptors.preResolution.clear();this.interceptors.postResolution.clear()};a.prototype.clearInstances=function(){var b;try{for(var c=Bc(this._registry.entries()),d=c.next();!d.done;d=c.next()){var e=Cc(d.value,2);this._registry.setAll(e[0],e[1].filter(function(h){return void 0==h.provider.useValue}).map(function(h){h.instance=void 0;return h}))}}catch(h){var f={error:h}}finally{try{d&&
!d.done&&(b=c.return)&&b.call(c)}finally{if(f)throw f.error;}}};a.prototype.createChildContainer=function(){var b,c=new a(this);try{for(var d=Bc(this._registry.entries()),e=d.next();!e.done;e=d.next()){var f=Cc(e.value,2),h=f[0],m=f[1];m.some(function(u){return u.options.lifecycle===oa.ContainerScoped})&&c._registry.setAll(h,m.map(function(u){return u.options.lifecycle===oa.ContainerScoped?{provider:u.provider,options:u.options}:u}))}}catch(u){var n={error:u}}finally{try{e&&!e.done&&(b=d.return)&&
b.call(d)}finally{if(n)throw n.error;}}return c};a.prototype.beforeResolution=function(b,c,d){void 0===d&&(d={frequency:"Always"});this.interceptors.preResolution.set(b,{callback:c,options:d})};a.prototype.afterResolution=function(b,c,d){void 0===d&&(d={frequency:"Always"});this.interceptors.postResolution.set(b,{callback:c,options:d})};a.prototype.getRegistration=function(b){return this.isRegistered(b)?this._registry.get(b):this.parent?this.parent.getRegistration(b):null};a.prototype.getAllRegistrations=
function(b){return this.isRegistered(b)?this._registry.getAll(b):this.parent?this.parent.getAllRegistrations(b):null};a.prototype.construct=function(b,c){var d=this;if(b instanceof Tj)return b.createProxy(function(f){return d.resolve(f,c)});var e=Aj.get(b);if(!e||0===e.length){if(0===b.length)return new b;throw Error('TypeInfo not known for "'+b.name+'"');}e=e.map(this.resolveParams(c,b));return new (b.bind.apply(b,bb([void 0],e)))};a.prototype.resolveParams=function(b,c){var d=this;return function(e,
f){var h,m,n;try{return"object"===typeof e&&"token"in e&&"multiple"in e?zj(e)?e.multiple?(h=d.resolve(e.transform)).transform.apply(h,bb([d.resolveAll(e.token)],e.transformArgs)):(m=d.resolve(e.transform)).transform.apply(m,bb([d.resolve(e.token,b)],e.transformArgs)):e.multiple?d.resolveAll(e.token):d.resolve(e.token,b):zj(e)?(n=d.resolve(e.transform,b)).transform.apply(n,bb([d.resolve(e.token,b)],e.transformArgs)):d.resolve(e,b)}catch(u){throw e=Error,h=u,m=Cc(c.toString().match(/constructor\(([\w, ]+)\)/)||
[],2)[1],m=void 0===m?null:m,f=null===m?"at position #"+f:'"'+m.split(",")[f].trim()+'" at position #'+f,f=Ll("Cannot inject the dependency "+f+' of "'+c.name+'" constructor. Reason:',h),new e(f);}}};return a}());if("undefined"===typeof Reflect||!Reflect.getMetadata)throw Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");class Vj{}let oe=class extends Vj{constructor(){super(...arguments);this.name="StorageHandler";this.disable=
!1;this.gdprPurposes=[1];this._storageHandlerQueue=[];this._shouldQueue=!1;this.removeLocalStorageValue=(a,b=!0)=>{window.localStorage.removeItem(`${b?"adthrive_":""}${a.toLowerCase()}`)};this.getLocalStorageValue=(a,b=!0,c=!0,d,e)=>{let f=b?"adthrive_":"";if(this.disable)return null;c=c?a.toLowerCase():a;try{let h=window.localStorage.getItem(`${f}${c}`);if(h){let m=JSON.parse(h),n=void 0!==d&&Date.now()-m.created>=d;if(m&&!n)return e&&this.setLocalStorageValue(a,m.value,b),m.value}}catch(h){return window.localStorage.getItem(`${f}${c}`)}return null};
this.setLocalStorageValue=(a,b,c=!0)=>{try{c=c?"adthrive_":"";let d={value:b,created:Date.now()};if(this._gdpr&&this._shouldQueue){let e={key:`${c}${a.toLowerCase()}`,value:JSON.stringify(d)};this._storageHandlerQueue.push(e)}else window.localStorage.setItem(`${c}${a.toLowerCase()}`,JSON.stringify(d))}catch(d){}};this.isValidABGroupLocalStorageValue=a=>void 0!==a&&null!==a&&!("number"===typeof a&&isNaN(a));this.getOrSetLocalStorageValue=(a,b)=>{let {key:c,timeout:d,lowercase:e=!0,rolling:f=!0,cb:h,
adthriveKey:m}=a;a=this.getLocalStorageValue(c,m,e,d,f);if(null!==a)return a;b=b();this.setLocalStorageValue(c,b,m);h&&h(b);return b};this.getOrSetABGroupLocalStorageValue=(a,b,c,d=!0,e)=>{c=this.getLocalStorageValue("abgroup",!0,!0,c,d);if(null!==c&&(d=c[a],this.isValidABGroupLocalStorageValue(d)))return d;b=b();this.setLocalStorageValue("abgroup",{...c,[a]:b});e&&e();return b}}init(a){this._shouldQueue=this._gdpr="true"===a.gdpr}clearQueue(a){a&&(this._shouldQueue=!1,this._storageHandlerQueue.forEach(b=>
{window.localStorage.setItem(b.key,b.value)}));this._storageHandlerQueue=[]}setSessionFpv(){this.setLocalStorageValue("session_fpv",null===this.getLocalStorageValue("session_fpv")?!0:!1)}};oe=k([q()],oe);let F=new oe,pe=class{constructor(){this.emitters=new Set}};pe=k([q()],pe);let qe=E.resolve(pe).emitters;class z{constructor(){this._listeners=new Set;this._emitted=0;this._onces=[]}on(a){this._listeners.add(a);return()=>{this.off(a)}}off(a){this._listeners.delete(a)}once(a,b=!0){let c=this.on((...d)=>
{c();a(...d)});b&&(this._onces.push(()=>this.once(a,!1)),this._trackStatefulEmitter())}legacyOnce(){return new Promise(a=>{let b=this.on((...c)=>{b();return a(...c)})})}_trackStatefulEmitter(){qe.add(this)}async legacyEmit(a){return Promise.all([...this._listeners].map(b=>b(a))).then(b=>{this._emitted++;return b})}emit(a){[...this._listeners].forEach(b=>b(a));this._emitted++;this._trackStatefulEmitter()}clear(){this._listeners.clear()}resetEmitted(){this._emitted=0}resetOnces(){this._onces.forEach(a=>
a())}get count(){return this._listeners.size}get emitted(){return this._emitted}get onces(){return this._onces}}class Sa extends z{constructor(){super(...arguments);this._pastEvents=[]}on(a,b){this._listeners.add(a);(null===b||void 0===b?0:b.handleEventsAlreadyEmitted)&&this._pastEvents.forEach(a);return()=>{this.off(a)}}async legacyEmit(a){this._pastEvents.push(a);return Promise.all([...this._listeners].map(b=>b(a))).then(b=>{this._emitted++;return b})}emit(a){this._pastEvents.push(a);[...this._listeners].forEach(b=>
b(a));this._emitted++;this._trackStatefulEmitter()}_trackStatefulEmitter(){qe.add(this)}}class C{get enabled(){return!0}}let Hc=class{};Hc=k([q()],Hc);let Mb=class extends Hc{constructor(){super(...arguments);this.footerElementAdded=new Sa;this.comscoreInitialized=new Sa}};Mb=k([q()],Mb);let Ga=class extends Hc{constructor(){super();this.marmaladeResponseLoaded=new z;this.recencyFrequencyDataSet=new Sa;this.resetMarmaladeData=new z}};Ga=k([q(),l("design:paramtypes",[])],Ga);let Wj=(a=window.document,
b=window.navigator)=>!!b.joinAdInterestGroup&&!!a.featurePolicy&&a.featurePolicy.allowsFeature("join-ad-interest-group")&&a.featurePolicy.allowsFeature("run-ad-auction"),tm=(a,b={})=>(...c)=>{b.beforeExec&&b.beforeExec(...c);const d=a(...c);b.afterExec&&b.afterExec(d,...c);return d},Da=class{};Da=k([q()],Da);let Ic=class extends Da{constructor(){super(...arguments);this.dialDownLogs=new z}};Ic=k([q()],Ic);let Jc=class extends Vj{constructor(){super(...arguments);this.name="Logger";this.gdprPurposes=
[7];this._shouldQueue=this.disable=!1;this.sending=new z;this.logQueue=[];this.suppressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"],["PrebidAuctionManager","_logAuctionDebug"],["PrebidAuctionManager","init"]])}init(a){this.logFilter=a.loggerFilters||[];this.siteId=a.siteAds.siteId;this.siteName=a.siteAds.siteName;this.bucket=a.bucket;this.branch=a.branch;this.deployment=a.deployment;this.debug=a.debug;this._shouldQueue=this._gdpr="true"===a.gdpr;
this._setLoggerExperiments()}_setLoggerExperiments(){E.resolve(Ic).dialDownLogs.on(({result:a,choices:b})=>{this._dialDownLogsExperimentResult=a;this._dialDownLogsExperimentChoices=b})}_isDialedDownLog(a){let b=this._dialDownLogsExperimentResult||[];return a.some(c=>"string"===typeof c&&b.some(d=>-1<c.toLowerCase().indexOf(d.toLowerCase())))}_dialedDownChoice(a){var b;return null===(b=this._dialDownLogsExperimentChoices)||void 0===b?void 0:b.filter(({choice:c})=>"string"===typeof c&&a.some(d=>"string"===
typeof d&&-1<d.toLowerCase().indexOf(c.toLowerCase()))).map(({weight:c})=>c)}log(a,b,...c){this.call(console.log,a,b,...c)}info(a,b,...c){this.call(console.info,a,b,...c)}warn(a,b,...c){this.call(console.warn,a,b,...c)}_getLogToCheck(a){let b=a&&a[1]&&a[1].arguments&&a[1].arguments[0];return b?[b]:a}error(a,b,...c){this.shouldLog(a,b)&&this.call(console.error,a,b,...c);var d=this._getLogToCheck(c);this._isDialedDownLog(d)||((d=this._dialedDownChoice(d))&&d.length&&c.push(`Sampled at ${100-d[0]} percent`),
this.makeRequest("send","error",a,b,...c).catch(e=>{this.shouldLog(a,b)&&console.error(e)}))}shouldLog(a,b){return!!this.debug&&!this.suppressedEventLogNames.has(a)&&this.suppressedEventLogNames.get(a)!==b}event(a,b,...c){this.shouldLog(a,b)&&this.call(console.log,a,b,...c);this.makeRequest("send","event",a,b,...c).catch(d=>{console.error(d)})}fetchEvent(a,b,...c){this.debug&&this.call(console.log,a,b,...c);this.makeRequest("fetch","event",a,b,...c).catch(d=>{console.error(d)})}call(a,b,c,...d){let e=
this.logFilter;if(!(e&&e.length&&e.includes(b))){b=[`%c${b}::${c} `];c=["color: #999; font-weight: bold;"];0<d.length&&"string"===typeof d[0]&&b.push(d.shift());c.push(...d);try{Function.prototype.apply.call(a,console,[b.join(""),...c])}catch(f){console.error(f)}}}buildRequestUrl(a,b,c,d){a=`https://logger.adthrive.com/${a}`;b=[`${b}::${c} `];0<d.length&&"string"===typeof d[0]&&b.push(d.shift());d=d.map(e=>{e&&e.error&&(e=e.error);e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack});
return e});this.data&&d.push(this.data);d=[`siteId=${encodeURIComponent(this.siteId||"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(b.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(d))}`];return`${a}?${d.join("&")}`}clearQueue(a){a&&
(this._shouldQueue=!1,this.logQueue.forEach(b=>{"send"===b.action&&this.sendRequest(b.type,b.className,b.methodName,...b.args).catch(()=>{});"fetch"===b.action&&this.fetchRequest(b.type,b.className,b.methodName,...b.args).catch(()=>{})}));this.logQueue=[]}async makeRequest(a,b,c,d,...e){return this.disable?Promise.resolve(!1):this._gdpr&&this._shouldQueue?(this.logQueue.push({action:a,type:b,className:c,methodName:d,args:e}),Promise.resolve(!0)):"send"===a?this.sendRequest(b,c,d,...e):this.fetchRequest(b,
c,d,...e)}async sendRequest(a,b,c,...d){this.sending.emit();let e=this.buildRequestUrl(a,b,c,d);return 8192<e.length?this.sendRequest(a,b,c,"Payload too large. Logger cannot send").catch(f=>{console.error(f)}):new Promise((f,h)=>{let m=new XMLHttpRequest;m.open("get",e);let n="logger"===b&&"sendRequest"===c;m.addEventListener("load",()=>200!==m.status?(n||this.error("logger","sendRequest",...d,{className:b,methodName:c}),h(Error(`Logger send request failed ${m.status}`))):f(m.responseText));m.addEventListener("error",
()=>{n||this.error("logger","sendRequest",...d,{className:b,methodName:c});return h(Error("Logger send request failed"))});m.send()})}async fetchRequest(a,b,c,...d){this.sending.emit();a=this.buildRequestUrl(a,b,c,d);return fetch(a,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};Jc=k([v()],Jc);let r=new Jc;class um{constructor(a){this._wait=a;this._timeouts=new Map}async limit(a){return new Promise(b=>{this._timeouts.has(a)&&window.clearTimeout(this._timeouts.get(a));let c=
window.setTimeout(()=>{b()},this._wait);this._timeouts.set(a,c)})}}let re=class extends Jc{};re=k([v()],re);let db=new re,vm=[.1,5,20,100],wm=new Map([[.1,100],[5,20],[20,10],[100,2]]),Kc=(a,b)=>a?"flat"===a.type?b-a.value:a.value*b:b,Xj=(a,b,c,d=!0)=>{var e=c&&c.mediaType||"default";d&&(e=c&&c.adUnitCode||"",d=a.video.instreamAdUnits.has(e),e=e.includes("Video_StickyOutstream"),c=!d&&!e&&("vastUrl"in c||"vastXml"in c),e=d?"instream":e?"stickyOutstream":c?"outstream":"default");return a.partners.getBidderConfig(b).cpmMap.get(a.partners.getBidderConfig(b).cpmMap.has(e)?
e:"default")},Yj=(a,b,c,d)=>(a=Xj(a,b,c))?"flat"===a.type?d+a.value:d/a.value:d,se=(a,b,c,d)=>{var e;const f=!d.isAmazon,h=f?null===d||void 0===d?void 0:d.dealId:d.amzndeal_sp,m=a.partners.getBidderConfig(c).cpmMap.get("pmp");if(h&&m)return(a=null===(e=m.deals)||void 0===e?void 0:e.filter(n=>n.name===h.toString())[0])?"flat"===m.type?Kc(a,b):m.value*Kc(a,b):Kc(m,b);e=Xj(a,c,d,f);return Kc(e,b)},xm=a=>{var b=vm.find(c=>a<=c)||100;b=wm.get(b);return Math.floor(a*b)/b},Lc=(a,b,c,d,e)=>{const f="instream"===
e;b={...b};b.mediaType=e;b.isAmazon=!0;c=se(a,d,c,b);f&&(c-=a.video.gamDiscount);return xm(Math.max(c,0)).toFixed(2).toString()},te=navigator.vendor,ca=navigator.userAgent,eb=(a,b)=>/Chrom/.test(a||ca)&&/Google/.test(b||te)&&!/Edge\/|Edg\//.test(a||ca)&&!/Opera|OPR/.test(a||ca),ue=(a,b)=>/Safari/.test(a||ca)&&/Apple Computer/.test(b||te)&&!/Edge\/|Edg\//.test(a||ca)&&!/Opera|OPR/.test(a||ca),Zj=(a,b)=>eb(a,b)?"Chrome":ue(a,b)?"Safari":/Edge\/|Edg\//.test(a||ca)?"Edge":/Firefox/.test(a||ca)?"Firefox":
/Opera|OPR/.test(a||ca)?"Opera":/Trident|MSIE/.test(a||ca)?"IE":"Others",ak=(a,b)=>{b=Zj(a||ca,b||te);if("Chrome"===b){a=a||ca;b=a.indexOf("Chrom");if(-1!==b){b+=7;var c=a.indexOf(" ",b);a=a.substring(b,c)}else a=null;return a}if("Safari"===b)return a=a||ca,b=a.indexOf("Version/"),-1!==b?(b+=8,c=a.indexOf(" ",b),a=a.substring(b,c)):(b=a.indexOf("Safari/"),-1!==b?(b+=7,c=a.indexOf(" ",b),a=a.substring(b,c)):a=null),a;if("Firefox"===b)return a=a||ca,b=a.indexOf("Firefox/"),-1!==b?(b+=8,c=a.indexOf(" ",
b),-1===c&&(c=a.length),a=a.substring(b,c)):a=null,a;if("Edge"===b)return a=a||ca,b=a.indexOf("Edg/"),-1!==b?(b+=4,c=a.indexOf(" ",b),-1===c&&(c=a.length),a=a.substring(b,c)):a=null,a;if("IE"===b)return a=a||ca,b=a.indexOf("MSIE "),-1!==b?(b+=5,c=a.indexOf(";",b),-1===c&&(c=a.length),a=a.substring(b,c)):a=void 0,a;if("Opera"===b)return a=a||ca,b=a.indexOf("OPR/"),-1!==b?(b+=4,c=a.indexOf(" ",b),a=a.substring(b,c)):a="Unknown",a},ve=()=>{const a=document.querySelector(".adthrive-footer");let b=52;
a&&"none"===a.style.display?b=102:a&&(b=Math.max(a.getBoundingClientRect().height,b));return b},Ha=(a,b,c,d,e)=>{const f=document.createElement(a);b&&f.setAttribute("id",b);c&&(f.className=c);d&&(f.innerHTML=d);e&&(f.href=e,"a"===a&&f.addEventListener("click",h=>{h.preventDefault()}));return f},Nb=(a,b=0,c=!1,d=74)=>{if(a.parentElement&&b!==d){var e=getComputedStyle(a.parentElement).overflow;if("hidden"===e||"auto"===e)a.parentElement.style.overflow="visible",c||(c=!0,r.event("util","checkForOverflow",
"parent element with overflow detected"));Nb(a.parentElement,++b,c,d)}},B=(a,b)=>null==a||a!==a?b:a,bk=a=>new Promise(b=>{setTimeout(b,a)}),Mc=(a,b)=>{const c=window.innerWidth;return c>=b?"desktop":c>=a?"tablet":"phone"},we=()=>new Promise(a=>{if("interactive"===document.readyState||"complete"===document.readyState)return a();document.addEventListener("DOMContentLoaded",()=>a())}),ck=a=>{let b=a.clientWidth;getComputedStyle&&(a=getComputedStyle(a,null),b-=parseFloat(a.paddingLeft||"0")+parseFloat(a.paddingRight||
"0"));return b},xe=a=>{const b=a.offsetHeight,c=a.offsetWidth;var d=a.getBoundingClientRect();const e=document.body,f=document.documentElement;a=Math.round(d.top+(window.pageYOffset||f.scrollTop||e.scrollTop)-(f.clientTop||e.clientTop||0));d=Math.round(d.left+(window.pageXOffset||f.scrollLeft||e.scrollLeft)-(f.clientLeft||e.clientLeft||0));return{top:a,left:d,bottom:a+b,right:d+c,width:c,height:b}},ym=(a,b=50)=>{a=a.getBoundingClientRect();return(a.bottom-(window.innerHeight||document.documentElement.clientHeight))/
a.height*100>=b},zm=(a,b=50)=>{a=a.getBoundingClientRect();return(0-a.top)/a.height*100>=b},dk=a=>(a=a.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi))?a[0]:"",Ta=(a,b,c)=>c.indexOf(a)===b,Am=(a,b)=>a.reduce((c,d)=>{const e=[];c.forEach(f=>{d.forEach(h=>{e.push(f+b+h)})});return e}).sort((c,d)=>c.split("*").length-d.split("*").length),I=()=>{const a=navigator.userAgent,b=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari|CrOS/i.test(a);return/Mobi|iP(hone|od)|Opera Mini/i.test(a)&&
!b},ek=a=>I()&&"Content"===a.location&&1===a.refreshCount?60:80,ye=a=>0<a.refreshCount?ek(a):a.viewability?Math.min(10*Math.floor(100*a.viewability/10),80):0,Bm=(a=document)=>(a===document?document.body:a).getBoundingClientRect().top,Cm=a=>a.includes(",")?a.split(","):[a],Dm=(a=document)=>{a=a.querySelectorAll("article");return 0===a.length?null:(a=Array.from(a).reduce((b,c)=>c.offsetHeight>b.offsetHeight?c:b))&&a.offsetHeight>1.5*window.innerHeight?a:null},Em=(a,b,c=document)=>{const d=Dm(c),e=d?
[d]:[],f=[];a.forEach(m=>{const n=Array.from(c.querySelectorAll(m.elementSelector)).slice(0,m.skip);Cm(m.elementSelector).forEach(u=>{u=c.querySelectorAll(u);for(let w=0;w<u.length;w++){const t=u[w];if(b.map.some(({el:G})=>G.isEqualNode(t)))continue;const A=t&&t.parentElement;A&&A!==document.body?e.push(A):e.push(t);-1===n.indexOf(t)&&f.push({dynamicAd:m,element:t})}})});const h=Bm(c);a=f.sort((m,n)=>m.element.getBoundingClientRect().top-h-(n.element.getBoundingClientRect().top-h));return[e,a]},fk=
(a,b,c=document)=>{const [d,e]=Em(a,b,c);if(0===d.length)throw Error("No Main Content Elements Found");return[Array.from(d).reduce((f,h)=>h.offsetHeight>f.offsetHeight?h:f)||document.body,e]},ze=(a,b="div #comments, section .comments")=>(b=a.querySelector(b))?a.offsetHeight-b.offsetHeight:a.offsetHeight,gk=a=>new Promise((b,c)=>{fetch(a).then(d=>{d.json().then(e=>b(e)).catch(()=>c(!1))}).catch(()=>c(!1))}),Ae=a=>{const b=a.split("."),c=b.length;2<c&&(a=b[c-2]+"."+b[c-1],2!==b[c-2].length&&3!==b[c-
2].length||2!==b[c-1].length||(a=b[c-3]+"."+a));return a},Nc=a=>{a:{if(document.referrer&&document.referrer.length){var b=document.referrer;var c=document.createElement("a");c.href=b;b=c.hostname;c=Ae(b);const d=Ae(window.location.hostname);if(c!==d)break a}b=void 0}return B(b,a)},Ob=a=>a.id?`id:${a.id}`:a.classList&&a.classList.value?`class:${a.classList.value.split(" ").join(".")}`:`node:${a.nodeName.toLowerCase()}`,Fm=a=>{for(let b=a.length-1;0<=b;b--){const c=+a[b];if(!isNaN(c))return 0===c%2}return!1},
Gm=(a,b)=>{const c=document.getElementsByTagName("script")[0];c&&c.parentNode&&!b?c.parentNode.insertBefore(a,c):document.body.appendChild(a)},Ea=(a,b=!1,c=!1,d=!1)=>new Promise((e,f)=>{const h=document.createElement("script");h.addEventListener("error",()=>f(Error(`Failed to import script ${a}`)));h.addEventListener("load",()=>e(h));h.type="text/javascript";h.src=a;h.defer=c;h.async=d;Gm(h,b)}),hk=(a,b,c)=>{const d=document.createElement("link");d.rel=b;d.href=a;c&&c.length&&c.forEach(e=>{d.setAttribute(e.name,
e.value)});document.head.appendChild(d)},ik="Refresh PD Source Browser Topic MCMP Sens".split(" "),Pb=(a,b,c=!1)=>{b.addToQueue(()=>{const d=b.getConfig("ix")||{firstPartyData:{}},e={...d.firstPartyData,...a},f={};ik.forEach(h=>{h in e&&(f[h]=e[h])});for(const h in e)ik.includes(h)||(f[h]=e[h]);d.firstPartyData=f;c&&delete d.firstPartyData.Refresh;b.setConfig({ix:d})})},Hm=(a,b)=>{b.addToQueue(()=>{const c=b.getConfig("ix")||{};c.largeFormatSizes=a;b.setConfig({ix:c})})},jk=a=>{const b={google:"google",
facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return a.split(".").filter(c=>b[c])[0]||"other"},kk=[50,60,70,80],lk=({event:a,ignoreOtherCompanyIds:b=!1})=>{var c=new Set([-1,0,1,199612376,2143809321]);const d=new Set([4455444655,4460609902,4463579729,4464180925,4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]);c=!a.campaignId||c.has(a.campaignId);a=!a.companyIds||a.companyIds&&!a.companyIds.some(e=>
d.has(e));return b?c:c&&a},Im=()=>{var a=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);var b=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);if(5E3<a||5E3<b)return"vpv"},Jm=()=>{var a=document.createElement("canvas");const b=(a=a.getContext&&a.getContext("webgl"))&&a.getExtension&&a.getExtension("WEBGL_debug_renderer_info");if(b&&b.UNMASKED_RENDERER_WEBGL&&"Google SwiftShader"===(a&&a.getParameter(b.UNMASKED_RENDERER_WEBGL)))return"wglv"},Km=()=>{var a=
Im();var b=navigator&&navigator.webdriver?"wdv":void 0;var c=navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent)?
"uav":void 0;var d=navigator&&16<navigator.hardwareConcurrency?"hwv":void 0;a=[a,b,c,d,Jm()].filter(e=>!!e);return a.length?a:void 0},pa=(a=navigator.userAgent)=>/Windows NT|Macintosh/i.test(a),Qb=a=>!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length);var Rb;(function(a){a.amznbid="amznbid";a.amzniid="amzniid";a.amznp="amznp";a.amznsz="amznsz"})(Rb||(Rb={}));var g;(function(a){a.ThirtyThreeAcross="33across";a.AppNexus="appnexus";a.Amazon="amazon";a.Colossus="colossus";a.ColossusServer="col_ss";
a.Conversant="conversant";a.Concert="concert";a.Criteo="criteo";a.GumGum="gumgum";a.ImproveDigital="improvedigital";a.ImproveDigitalServer="improve_ss";a.IndexExchange="ix";a.Kargo="kargo";a.KargoServer="krgo_ss";a.MediaGrid="grid";a.MediaGridVideo="gridvid";a.Nativo="nativo";a.OpenX="openx";a.Ogury="ogury";a.OpenXServer="opnx_ss";a.Pubmatic="pubmatic";a.PubmaticServer="pubm_ss";a.ResetDigital="resetdigital";a.Roundel="roundel";a.Rtbhouse="rtbhouse";a.Rubicon="rubicon";a.RubiconServer="rubi_ss";a.Sharethrough=
"sharethrough";a.Teads="teads";a.Triplelift="triplelift";a.TripleliftServer="tripl_ss";a.TTD="ttd";a.Undertone="undertone";a.UndertoneServer="under_ss";a.Unruly="unruly";a.YahooSSP="yahoossp";a.YahooSSPServer="yah_ss";a.Verizon="verizon";a.Yieldmo="yieldmo"})(g||(g={}));var qa;(function(a){a.Prebid="prebid";a.GAM="gam";a.Amazon="amazon";a.Marmalade="marmalade";a.Floors="floors";a.CMP="cmp"})(qa||(qa={}));var Sb;(function(a){a.cm="cm";a.fbrap="fbrap";a.rapml="rapml"})(Sb||(Sb={}));var W;(function(a){a.lazy=
"lazy";a.raptive="raptive";a.refresh="refresh";a.session="session";a.crossDomain="crossdomain";a.highSequence="highsequence";a.lazyBidPool="lazyBidPool"})(W||(W={}));var Be;(function(a){a.lazy="l";a.raptive="rapml";a.refresh="r";a.session="s";a.crossdomain="c";a.highsequence="hs";a.lazyBidPool="lbp"})(Be||(Be={}));var ea;(function(a){a.Version="Version";a.SharingNotice="SharingNotice";a.SaleOptOutNotice="SaleOptOutNotice";a.SharingOptOutNotice="SharingOptOutNotice";a.TargetedAdvertisingOptOutNotice=
"TargetedAdvertisingOptOutNotice";a.SensitiveDataProcessingOptOutNotice="SensitiveDataProcessingOptOutNotice";a.SensitiveDataLimitUseNotice="SensitiveDataLimitUseNotice";a.SaleOptOut="SaleOptOut";a.SharingOptOut="SharingOptOut";a.TargetedAdvertisingOptOut="TargetedAdvertisingOptOut";a.SensitiveDataProcessing="SensitiveDataProcessing";a.KnownChildSensitiveDataConsents="KnownChildSensitiveDataConsents";a.PersonalDataConsents="PersonalDataConsents";a.MspaCoveredTransaction="MspaCoveredTransaction";a.MspaOptOutOptionMode=
"MspaOptOutOptionMode";a.MspaServiceProviderMode="MspaServiceProviderMode";a.SubSectionType="SubsectionType";a.Gpc="Gpc"})(ea||(ea={}));var Ua;(function(a){a[a.NA=0]="NA";a[a.OptedOut=1]="OptedOut";a[a.OptedIn=2]="OptedIn"})(Ua||(Ua={}));var ra;(function(a){a.AdDensity="addensity";a.AdLayout="adlayout";a.FooterCloseButton="footerclose";a.Interstitial="interstitial";a.RemoveVideoTitleWrapper="removevideotitlewrapper";a.StickyOutstream="stickyoutstream";a.StickyOutstreamOnStickyPlayer="sospp";a.VideoAdvancePlaylistRelatedPlayer=
"videoadvanceplaylistrp";a.MobileStickyPlayerPosition="mspp"})(ra||(ra={}));var Tb;(function(a){a.Desktop="desktop";a.Mobile="mobile"})(Tb||(Tb={}));var x;(function(a){a.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff";a.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff";a.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone";a.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"})(x||(x={}));var mk;(mk||(mk={})).None="none";let Lm=(a,b)=>{const c=
a.adDensityEnabled;a=a.adDensityLayout.pageOverrides.find(d=>!!document.querySelector(d.pageSelector)&&(d[b].onePerViewport||"number"===typeof d[b].adDensity));return c?!a:!0},Oc=(a,b)=>{if(1>=a.length)return 0;a.sort((f,h)=>f-h);if(0>=b)return a[0];if(1<=b)return a[a.length-1];b*=a.length+1;const c=Math.floor(b)-1,d=c+1,e=Number((b%1).toFixed(1));return 1>b?a[0]:d>=a.length?a[c]:a[c]+e*(a[d]-a[c])},Mm=(a,b)=>{window.addEventListener("message",c=>{try{const {origin:d,source:e}=c,f=JSON.parse(c.data),
h=f&&f.message===b.message;d&&d.match(a)&&h&&e.postMessage(JSON.stringify(b),d)}catch(d){}})};class Nm{constructor(){this._timeOrigin=0}resetTimeOrigin(){this._timeOrigin=window.performance.now()}now(){try{return Math.round(window.performance.now()-this._timeOrigin)}catch(a){return 0}}}window.adthrive.windowPerformance=window.adthrive.windowPerformance||new Nm;let Ce=window.adthrive.windowPerformance,fa=Ce.now.bind(Ce),Om=(a,b=33)=>Object.keys(a).reduce((c,d)=>{const e=a[d].map(f=>parseInt(f,b)/1E5);
return{...c,[d]:[...e]}},{}),nk=(a,b=33)=>Object.keys(a).reduce((c,d)=>{const e=a[d].map(f=>Math.floor(1E5*f).toString(b));return{...c,[d]:e}},{}),ok=()=>new Promise(a=>{if("complete"===document.readyState)return a();window.addEventListener("load",()=>a())}),fb=(a=window.location.search)=>{const b=0===a.indexOf("?")?1:0;return a.slice(b).split("&").reduce((c,d)=>{const [e,f]=d.split("=");c.set(e,f);return c},new Map)},pk=a=>a.split("&").reduce((b,c)=>{const [d,e]=c&&c.split("=");d&&e&&(b[d]=e);return b},
{}),Pm=a=>Object.keys(a).map(b=>`${b}=${encodeURIComponent(a[b])}`).join("&"),ha=a=>{for(const b of document.cookie.split(";")){const [c,...d]=b.split("=");if(c.trim()===a)return d.join("=").trim()}return""},qk=a=>(a=ha(a))&&JSON.parse(a)||[],rk=a=>{ha(a)&&(document.cookie=`${a+"="}; SameSite=None; Secure; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC`)},sk=(a,b)=>{b=JSON.stringify(b);a=a+"="+b;b=new Date;b=b.setDate(b.getDate()+400);document.cookie=`${a}; SameSite=None; Secure; path=/; expires=${(new Date(b)).toUTCString()}`},
Qm=(a,b)=>{if("Intl"in window){const c=Intl.DateTimeFormat().resolvedOptions().timeZone;return a.some(d=>c===d)}return b.some(c=>{const d=(new Date).getTimezoneOffset();var e=(new Date).getTimezoneOffset();var f=new Date((new Date).getFullYear(),0,1);const h=new Date((new Date).getFullYear(),6,1);f=Math.max(f.getTimezoneOffset(),h.getTimezoneOffset());return d===(e<f?c-60:c)})},sb=a=>void 0!==a,La=(a,b)=>!!(a&&"object"===typeof a&&b in a),De=a=>{const b=window.location.href;return a.some(c=>(new RegExp(c,
"i")).test(b))},tk=a=>{try{return{valid:!0,elements:document.querySelectorAll(a)}}catch(b){return{valid:!1,...b}}},gb=a=>""===a?{valid:!0}:tk(a),Rm=a=>{const b=a.reduce((c,d)=>d.weight?d.weight+c:c,0);return 0<a.length&&a.every(c=>{const d=c.value;c=c.weight;return!(void 0===d||null===d||"number"===typeof d&&isNaN(d)||!c)})&&100===b},Sm=["siteId","siteName","adOptions","breakpoints","adUnits"],uk=(a,b=Sm)=>{if(!a)return!1;for(let c=0;c<b.length;c++)if(!a[b[c]])return!1;return!0},Ee=(a,b)=>!a.disableAds.locations.has(b.location)&&
!a.disableAds.all,Tm=a=>0===a.length||!a.split(",").some(b=>null!==document.querySelector(b)),vk=a=>{let b={};const c=fb().get(a);if(c)try{const d=decodeURIComponent(c);b=JSON.parse(d);r.event("ExperimentOverridesUtil","getExperimentOverrides",a,b)}catch(d){}return b},wk=(a,b,c,d,e,f)=>{a=Math.round(f-e);b=[];e=[];b.push("(",c.map(()=>"%o").join(", "),")");e.push(...c);void 0!==d&&(b.push(" => %o"),e.push(d));b.push(` %c(${a}ms)`);e.push("color: #999;")},xk=(a,b,c)=>{const d=void 0!==c.get?c.get:
c.value;return function(...e){try{const f=fa(),h=d.apply(this,e);if(h instanceof Promise)return h.then(n=>{const u=fa();wk(a,b,e,n,f,u);return Promise.resolve(n)}).catch(n=>{n.logged||(r.error(a,b,n),n.logged=!0);throw n;});const m=fa();wk(a,b,e,h,f,m);return h}catch(f){throw f.logged||(r.error(a,b,f),f.logged=!0),f;}}},p=(a,b=!1)=>c=>{const d=Object.getOwnPropertyNames(c.prototype).filter(e=>b||0!==e.indexOf("_")).map(e=>[e,Object.getOwnPropertyDescriptor(c.prototype,e)]);for(const [e,f]of d)void 0!==
f&&"function"===typeof f.value?c.prototype[e]=xk(a,e,f):void 0!==f&&void 0!==f.get&&"function"===typeof f.get&&Object.defineProperty(c.prototype,e,{...f,get:xk(a,e,f)})},Um=a=>{let b=5381,c=a.length;for(;c;)b=33*b^a.charCodeAt(--c);return b>>>0},L=()=>(a,b,c)=>{const d=c.value;d&&(c.value=function(...e){var f=Array.isArray(this._choices)?Um(JSON.stringify(this._choices)).toString(16):null,h=this._expConfigABGroup?this._expConfigABGroup:this.abgroup;h=h?h.toLowerCase():this.key?this.key.toLowerCase():
"";f=f?`${h}_${f}`:h;f=this.localStoragePrefix?`${this.localStoragePrefix}-${f}`:f;h=F.getLocalStorageValue("branch");!1===(h&&h.enabled)&&F.removeLocalStorageValue(f);return F.getOrSetABGroupLocalStorageValue(f,()=>d.apply(this,e),864E5)})},yk=Math.pow(2,48)-1,Vm=(a,b)=>{if(isNaN(a))throw Error(`${a} must be a number`);if(a>yk)throw a=Error(`cannot encode time greater than ${yk}`),a.source="ulid",a;let c,d="";for(;0<b;b--)c=a%32,d="0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(c)+d,a=(a-c)/32;return d},
Wm=(a,b)=>{let c="";for(;0<a;a--){let d=Math.floor(32*b());32===d&&(d=31);c="0123456789ABCDEFGHJKMNPQRSTVWXYZ".charAt(d)+c}return c},tb=()=>Vm(Date.now(),10)+Wm(16,()=>{if(window.crypto){var a=new Uint8Array(1);crypto.getRandomValues(a);a=a[0]/255}else a=Math.random();return a}),zk=a=>new Promise(b=>setTimeout(b,a)),Fe=async({condition:a,delay:b=500,maxAttempts:c=10,executedAttempts:d=0})=>{if(!a()){if(d>=c)throw Error("Max waitFor attempts reached without resolution");await zk(b);return await Fe({condition:a,
delay:b,maxAttempts:c,executedAttempts:d+1})}},Ub=class extends Da{constructor(){super(...arguments);this.libraryLoadFailed=new Sa}};Ub=k([q()],Ub);let Vb=class extends Da{constructor(){super(...arguments);this.act25consentCaptured=new Sa}};Vb=k([q()],Vb);let Va=class extends Da{constructor(){super(...arguments);this.dataCaptured=new Sa;this.dataSentFromIframe=new z;this.iframeReady=new Sa}};Va=k([q()],Va);let ja=class extends Da{constructor(){super(...arguments);this.routeChanged=new z;this.resetCompleted=
new z}};ja=k([q()],ja);let Pc=class extends Da{constructor(){super(...arguments);this.targetingReady=new z}};Pc=k([q()],Pc);let Ia=class extends Da{constructor(){super(...arguments);this.addSlots=new z;this.requestingBids=new z;this.preRequestBids=new z;this.refreshingBids=new z;this.addPrebidSlotTargeting=new z;this.displaySlot=new z}};Ia=k([q()],Ia);let wa=class extends Da{constructor(){super(...arguments);this.videoPlayerAdded=new z;this.preRequestVideoBids=new z;this.requestingVideoBids=new z;
this.addAPStagSlotBidResponse=new z;this.topCenterVideoClosed=new z;this.topCenterVideoCollapsed=new z;this.topCenterVideoUnCollapsed=new z}};wa=k([q()],wa);let aa=class{constructor(){this._map=new Map;this.setAbGroup=!fb().has("at_features")}set(a,b){this.setAbGroup&&this._map.set(a,b)}get(a){return this._map.get(a)}get groups(){let a=[];for(let [b,c]of this._map)Array.isArray(c)?c.forEach(d=>{a.push(`${b}:${d}`)}):a.push(`${b}:${c}`);return a}get groupsAsObject(){let a={};for(let b of this._map.keys()){let c=
this._map.get(b);c&&(a[b]=c)}return a}};aa=k([q(),l("design:paramtypes",[])],aa);let xa=class extends aa{};xa=k([q()],xa);let Ge=class{constructor(a,b){this._consentEventBus=b;this._storageKey="act25-consent";this._storageTimeout=33696E6;this._required="CA"===a.core.country&&Qm(["America/Toronto","America/Blanc-Sablon","America/Montreal","America/Nipigon"],[300,240])&&this._isFrenchLanguage();this._consented=F.getLocalStorageValue(this._storageKey,!0,!1,this._storageTimeout);this._required&&this._setupListeners()}get required(){return this._required}get consented(){return this._consented}set consented(a){this._consented=
a}_setupListeners(){this._consentEventBus.act25consentCaptured.on(a=>{this._consented=a})}_isFrenchLanguage(){var a,b;let c=null!==(a=navigator.language&&navigator.language.toLowerCase())&&void 0!==a?a:"";a=null!==(b=navigator.languages&&navigator.languages.map(d=>d.toLowerCase()))&&void 0!==b?b:[];return"fr"===c||c.includes("fr-")||(null===a||void 0===a?void 0:a.some(d=>"fr"===d||d.includes("fr-")))}};Ge=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,Vb])],Ge);let He=class{constructor(){this.adthriveExperimentOverrides=
vk("at_features")}hasValidOverride(a,b){return a in this.adthriveExperimentOverrides?this.isValidExperimentOverride(b,this.adthriveExperimentOverrides[a]):!1}useOverride(a){return this.adthriveExperimentOverrides[a]}isValidExperimentOverride(a,b){if(0===a.length)return!1;let c=Array.isArray(a[0])?"array":typeof a[0];if("array"===c){if(!Array.isArray(b)||b.some(d=>!a.includes(d))&&b.map(d=>"["+JSON.stringify(d)+"]").some(d=>!a.map(e=>JSON.stringify(e)).includes(d))&&!a.map(d=>JSON.stringify(d)).includes(JSON.stringify(b)))return!1}else if("object"===
c){if(!a.map(d=>JSON.stringify(d)).includes(JSON.stringify(b)))return!1}else if(!a.includes(b))return!1;return!0}};He=k([q(),l("design:paramtypes",[])],He);class sa{constructor(){this.shouldUseCoreExperimentsConfig=!0;let a=this.run.bind(this);this.run=()=>{var b;let c=E.resolve(He),d=null===(b=this._choices)||void 0===b?void 0:b.map(e=>e.choice);b=this._expConfigABGroup?this._expConfigABGroup:this.abgroup?this.abgroup:this.key;return d&&c.hasValidOverride(b,d)?c.useOverride(b):a()}}}class Ak{}class ba extends Ak{constructor(a){super();
this._probability=a}get(){if(0>this._probability||1<this._probability)throw Error(`Invalid probability: ${this._probability}`);return Math.random()<this._probability}}class ub extends Ak{constructor(a=[],b){super();this._choices=a;this._default=b}static fromArray(a,b){return new ub(a.map(([c,d])=>({choice:c,weight:d})),b)}addChoice(a,b){this._choices.push({choice:a,weight:b})}get(){let a=100*Math.random(),b=0;for(let {choice:c,weight:d}of this._choices)if(b+=d,b>=a)return c;return this._default}get totalWeight(){return this._choices.reduce((a,
{weight:b})=>a+b,0)}}class hb{constructor(){this._siteExperimentEventBus=E.resolve(Pc);this._isTargeted=!1}get result(){this._isTargeted||(this._siteExperimentEventBus.targetingReady.emit(),this._isTargeted=!0);return this._result}get enabled(){return void 0!==this.experimentConfig}_isValidResult(a,b=()=>!0){return b()&&F.isValidABGroupLocalStorageValue(a)}}class Ie extends hb{constructor(){super(...arguments);this._resultValidator=()=>!0}_isValidResult(a){return super._isValidResult(a,()=>this._resultValidator(a)||
"control"===a)}run(){if(!this.experimentConfig||!this._mappedChoices||0===this._mappedChoices.length)return r.error("WeightedChoiceSiteExperiment","run","No experiment config found"),"control";let a=(new ub(this._mappedChoices)).get();if(this._isValidResult(a))return a;r.error("WeightedChoiceSiteExperiment","run","Invalid result from experiment choices. Defaulting to control.",a);return"control"}}class Je{constructor(a){var b,c;this.siteExperiments=[];this._device=I()?"mobile":"desktop";this.siteExperiments=
null!==(c=null===(b=null===a||void 0===a?void 0:a.siteExperiments)||void 0===b?void 0:b.filter(d=>{var e=d.key;var f=this._device;if(d){var h=!!d.enabled,m=null==d.dateStart||Date.now()>=d.dateStart,n=null==d.dateEnd||Date.now()<=d.dateEnd,u=null===d.selector||""!==d.selector&&!!document.querySelector(d.selector),w="mobile"===d.platform&&"mobile"===f;f="desktop"===d.platform&&"desktop"===f;w=null===d.platform||"all"===d.platform||w||f;(f="bernoulliTrial"===d.experimentType?1===d.variants.length:Rm(d.variants))||
r.error("SiteTest","validateSiteExperiment","experiment presented invalid choices for key:",d.key,d.variants);d=h&&m&&n&&u&&w&&f}else d=!1;a:switch(e){case ra.AdDensity:var t=Lm(a,this._device);break a;case ra.StickyOutstream:var A,G;t=(e=null===(G=null===(A=null===(t=a.videoPlayers)||void 0===t?void 0:t.partners)||void 0===A?void 0:A.stickyOutstream)||void 0===G?void 0:G.blockedPageSelectors)?!document.querySelector(e):!0;break a;case ra.Interstitial:t=(t=a.adOptions.interstitialBlockedPageSelectors)?
!document.querySelector(t):!0;break a;default:t=!0}return d&&t}))&&void 0!==c?c:[]}getSiteExperimentByKey(a){let b=this.siteExperiments.filter(e=>e.key.toLowerCase()===a.toLowerCase())[0],c=vk("at_site_features"),d=typeof((null===b||void 0===b?0:b.variants[1])?null===b||void 0===b?void 0:b.variants[1].value:null===b||void 0===b?void 0:b.variants[0].value)===typeof c[a];b&&c[a]&&d&&(b.variants=[{displayName:"test",value:c[a],weight:100,id:0}]);return b}}let Fa=class extends Je{constructor(a){var b;
super(a.siteAds);this._players=null===(b=a.siteAds.videoPlayers)||void 0===b?void 0:b.players}getVideoPlaylistByType(a){var b,c;return null!==(c=null===(b=this._players)||void 0===b?void 0:b.filter(d=>d.type===a))&&void 0!==c?c:[]}};Fa=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],Fa);let Xm=a=>{let b=0;a.forEach(c=>{c.weight&&(b+=c.weight)});return 0<a.length&&a.every(c=>!(!c.hasOwnProperty("value")||!c.hasOwnProperty("weight")))&&100===b},Ym=a=>0<a.length&&a.every(b=>!(!b.hasOwnProperty("value")||
!b.hasOwnProperty("weight"))),Ma=class{constructor(a){this._validExperiments=this._getValidExperiments(a).map(b=>({...b,_expConfigABGroup:b.abgroup}));this.coreExperiments=this._validExperiments.map(({variants:b,abgroup:c,key:d})=>({variants:b,abgroup:c,key:d}))}getCoreExperimentButMutateWeights(a){let b=this._validExperiments.find(({key:c})=>c===a);"bernoulliTrial"===(null===b||void 0===b?void 0:b.type)&&(b.variants[0].weight/=100);return b}getCoreExperiment(a){return this._validExperiments.find(({key:b})=>
b===a)}getWeightedChoiceVariants(a){return(a=this.getCoreExperimentButMutateWeights(a))&&"weightedChoice"===a.type?a.variants.map(b=>({choice:b.value,weight:b.weight,...(b.abvalue?{abvalue:b.abvalue}:{})})):null}getMultivalueBernoulliVariants(a){return(a=this.getCoreExperimentButMutateWeights(a))&&"multivalueBernoulliTrial"===a.type?a.variants.map(b=>({choice:b.value,weight:b.weight})):null}_getValidExperiments(a=[]){return a.filter(({type:b,variants:c,key:d})=>"weightedChoice"===b?this._isValidWeightedChoice(c,
d):"bernoulliTrial"===b?this._isValidBernoulliTrial(c,d):"multivalueBernoulliTrial"===b?this._isValidMultivalueBernoulliTrial(c,d):!1)}_isValidWeightedChoice(a,b){(a=Xm(a))||this._invalidExperiment(b);return a}_isValidBernoulliTrial(a,b){(a=1===a.length)||this._invalidExperiment(b);return a}_isValidMultivalueBernoulliTrial(a,b){(a=Ym(a))||this._invalidExperiment(b);return a}_invalidExperiment(a){r.error("CoreExperimentConfig","_invalidExperiment","Experiment Validation failed for key: ",a)}};Ma=k([q(),
S(0,R("CoreExperimentValues")),l("design:paramtypes",[Array])],Ma);let Wb=class extends sa{constructor(a,b){var c;super();this.abgroupClass=a;this._coreExperimentConfig=b;this._setAbGroup=!0;this.init();this.isEnabled()&&(this._expConfigABGroup=null===(c=this._coreExperimentConfig.getCoreExperiment(this.key))||void 0===c?void 0:c.abgroup,a=this._choices)&&(this._result=this.run(),a=(b=a.filter(({choice:d})=>d===this._result)[0])&&b.abvalue||this._result,this._setAbGroup&&void 0!==a&&(b=this.getResultWeight(a,
b&&b.weight||-1),this.setABGroup(a,void 0,b)))}get _choices(){return null}get key(){if(!this._key)throw Error("You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }");return this._key}getResultWeight(a,b=-1){let c=this._experiment;if(!c)return-1;if("bernoulliTrial"===c.type)return b=c.variants[0].weight,a?b:100-b;if("multivalueBernoulliTrial"===c.type){let d=new Map;c.variants.forEach(e=>
{d.set(e.value,e.weight)});return d}return b}setABGroup(a,b,c){let d=this._coreExperimentConfig.getCoreExperiment(this.key);d&&(Array.isArray(a)?(a=a.map(e=>`${e}@${"number"===typeof c?c:c&&c.get(e)||0}`),this.abgroupClass.set(b||d.abgroup,a)):this.abgroupClass.set(b||d.abgroup,`${a}@${c}`))}init(){throw Error("You need to set \"this._key\" in the init method for this experiment. The code should look something like this:\n\n  protected init() {\n    this._key = 'my_key';\n  }");}get result(){return this._result}isEnabled(){return this.shouldUseCoreExperimentsConfig?
!!(this._experiment=this._coreExperimentConfig.getCoreExperiment(this.key)):!0}};Wb=k([S(0,R(aa)),S(1,R(Ma)),l("design:paramtypes",[aa,Ma])],Wb);class T extends Wb{get _choices(){return this._coreExperimentConfig.getWeightedChoiceVariants(this.key)}run(){if(this._choices)return(new ub(this._choices)).get()}}let Qc=class extends T{init(){this._key="InterstitialAlt"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Qc.prototype,"run",
null);Qc=k([p("InterstitialExperiment"),q()],Qc);let Bk=()=>{try{const a=window.localStorage.getItem("__lsv__"),b=a?JSON.parse(decodeURIComponent(a)):[];return 2500<=window.innerWidth?{isError:!1,canDisplay:!1}:b.length?{isError:!1,canDisplay:36E5<Date.now()-b[0]}:{isError:!1,canDisplay:!0}}catch(a){return{isError:!0,canDisplay:!1,message:a.message}}},Rc=class extends hb{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=ra.Interstitial;let {isError:c,
canDisplay:d,message:e}=Bk();c&&r.error("InterstitialSiteExperiment","constructor",{message:e});this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&d&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;
this._pubabgroup.set(a,this._result?"on":"off")}else r.error("InterstitialSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Rc.prototype,"run",null);Rc=k([q(),l("design:paramtypes",[Fa,xa])],Rc);let Sc=class extends hb{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=ra.FooterCloseButton;this.experimentConfig=
this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("RemoveFooterCloseButtonSiteExperiment","setExperimentTargeting",
"() => %o","Experiment targeting requires an experiment config")}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Sc.prototype,"run",null);Sc=k([q(),l("design:paramtypes",[Fa,xa])],Sc);let Tc=class{constructor(a,b,c){var d,e,f,h,m,n,u;this._interstitialSiteExperiment=b;this._removeFooterCloseButtonSiteExperiment=c;this.footerCloseButtonMigrated=!1;let {allowSmallerAdSizes:w,footerCloseButton:t,footerCloseButtonMobile:A,footerCloseButtonDesktop:G,footerSelector:N,
infiniteScroll:O,infiniteScrollOptions:H,infiniteScrollRefresh:P,pmp:K,targetaff:Y,stickyContainerConfig:Q,sidebarConfig:ma,siteAttributes:ua,dynamicContentSlotLazyLoading:Wa}=a.siteAds.adOptions;this.allowSmallerAdSizes=B(w,!0);void 0!==A&&void 0!==G&&(this.footerCloseButtonMigrated=!0);b=this._isGamInterstitialNetworkExperimentEnabled(a);this.interstitial={gam:this._interstitialSiteExperiment.enabled?this._interstitialSiteExperiment.result:b,prebid:!1};this._removeFooterCloseButtonSiteExperiment.enabled?
this.footerCloseButtonDesktop=this.footerCloseButtonMobile=this.footerCloseButton=b=!this._removeFooterCloseButtonSiteExperiment.result:(this.footerCloseButton=B(t,!0),this.footerCloseButtonMobile=B(A,!0),this.footerCloseButtonDesktop=B(G,!0));this.footerSelector=B(N,"");this.pmp=B(K,!0);this.infiniteScroll=B(O,!1);this.infiniteScrollOptions=B(H,{});this.infiniteScrollRefresh=B(P,!0);this.targetAff=B(Y,!1);this.spa=B(a.siteAds.adOptions.spa,!1);this.stickyContentEnabled=null===(d=null===Q||void 0===
Q?void 0:Q.content)||void 0===d?void 0:d.enabled;this.stickyContentHeight=null===(e=null===Q||void 0===Q?void 0:Q.content)||void 0===e?void 0:e.minHeight;this.stickyRecipeHeight=I()?null===(f=null===Q||void 0===Q?void 0:Q.recipeMobile)||void 0===f?void 0:f.minHeight:null===(h=null===Q||void 0===Q?void 0:Q.recipeDesktop)||void 0===h?void 0:h.minHeight;this.stickyHeaderSelectors=null===Q||void 0===Q?void 0:Q.stickyHeaderSelectors;this.stickyBlockedSelectors=null===Q||void 0===Q?void 0:Q.blockedSelectors;
this.dynamicStickySidebarEnabled=null===(m=null===ma||void 0===ma?void 0:ma.dynamicStickySidebar)||void 0===m?void 0:m.enabled;this.dynamicStickySidebarHeight=null===(n=null===ma||void 0===ma?void 0:ma.dynamicStickySidebar)||void 0===n?void 0:n.minHeight;this.dynamicStickySidebarBlockedSelectors=null===(u=null===ma||void 0===ma?void 0:ma.dynamicStickySidebar)||void 0===u?void 0:u.blockedSelectors;this.dynamicStickySidebarHeaderSelectors=I()?null===ua||void 0===ua?void 0:ua.mobileHeaderSelectors:null===
ua||void 0===ua?void 0:ua.desktopHeaderSelectors;this.dynamicContentSlotLazyLoading=B(Wa,!1)}_isGamInterstitialNetworkExperimentEnabled(a){let {isError:b,canDisplay:c,message:d}=Bk();var e=I()&&B(a.siteAds.adOptions.mobileInterstitial,!1);a=!I()&&B(a.siteAds.adOptions.desktopInterstitial,!1);b&&r.error("InterstitialExperiment","canDisplayInterstitial",{message:d});return c&&(e||a)?(e=E.resolve(Qc))&&e.result&&"off"!==e.result?!0:!1:!1}};Tc=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,Rc,
Sc])],Tc);let Ke=class{constructor(a){a=a.siteAds.adTypes||{};this.animatedFooter=B(a.animatedFooter,!0);this.expandableFooter=B(a.expandableFooter,!0);this.inRecipeRecommendationDesktop=B(a.inRecipeRecommendationDesktop,!0);this.inRecipeRecommendationMobile=B(a.inRecipeRecommendationMobile,!0);this.interscroller=I()?B(a.interscroller,!0):!1;this.largeFormatsDesktop=B(a.largeFormatsDesktop,!0);this.largeFormatsMobile=B(a.largeFormatsMobile,!0);this.miniscroller=I()?B(a.miniscroller,!0):!1;this.nativeDesktopContent=
B(a.nativeDesktopContent,!0);this.nativeDesktopRecipe=B(a.nativeDesktopRecipe,!0);this.nativeDesktopSidebar=B(a.nativeDesktopSidebar,!0);this.nativeDesktopHeader=B(a.nativeDesktopHeader,!0);this.nativeDesktopBelowPost=B(a.nativeDesktopBelowPost,!0);this.nativeMobileContent=B(a.nativeMobileContent,!0);this.nativeMobileRecipe=B(a.nativeMobileRecipe,!0);this.nativeMobileHeader=B(a.nativeMobileHeader,!0);this.nativeMobileBelowPost=B(a.nativeMobileBelowPost,!0);this.outstreamDesktop=B(a.outstreamDesktop,
!0);this.outstreamMobile=B(a.outstreamMobile,!0);this.sponsorTileDesktop=B(a.sponsorTileDesktop,!1);this.sponsorTileMobile=B(a.sponsorTileMobile,!1)}has(a){return this[a]&&!0===this[a]}get enabled(){return Object.keys(this).filter(a=>!0===this[a])}get enabledMinified(){let a={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter(b=>Object.keys(a).includes(b)&&a[b].val).map(b=>a[b].min)}get outstreamEnabled(){return I()?
!0===this.outstreamMobile:!0===this.outstreamDesktop}};Ke=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],Ke);let Le=(a=navigator.userAgent)=>/iP(hone|od|ad)/i.test(a),Zm=(a,b=navigator.userAgent)=>(new RegExp(`OS ${a}`,"i")).test(b),Ck=(a,b=navigator.userAgent)=>Le(b)&&Zm(a.toString(),b),$m=(a=navigator.userAgent)=>ue(a)&&pa(a),Uc=class extends sa{constructor(a,b,c){super();this._result=!0;this.key="Amazon";this._choices=[{choice:!0},{choice:!1}];this.weight=.995;a=a.deliveryFeatures;
c=c.getCoreExperimentButMutateWeights(this.key);a&&a.includes("amazonLoad")||!c||(this._expConfigABGroup=c.abgroup,this.weight=c.variants[0].weight,this._result=this.run(),b.set(c.abgroup,this._result?"on":"off"))}get result(){return this._result}run(){return(new ba(this.weight)).get()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Uc.prototype,"run",null);Uc=k([p("AmazonExperiment"),q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,aa,Ma])],Uc);class J extends Wb{get _choices(){return[{choice:!0,
weight:-1},{choice:!1,weight:-1}]}run(){let a=this._coreExperimentConfig.getCoreExperiment(this.key);if(a)return(new ba(a.variants[0].weight/100)).get()}setABGroup(a,b){let c=this._coreExperimentConfig.getCoreExperiment(this.key);if(c){let d=c.variants[0].weight;this.abgroupClass.set(b||c.abgroup,a?`on@${d}`:`off@${100-d}`)}}get result(){var a;if(void 0===this._default)throw Error("You need to set \"this._default\" in the init method for this experiment. The code should look something like this:\n  protected init() {\n    this._key = 'my_key';\n    this._default = false;\n  }");
return null!==(a=this._result)&&void 0!==a?a:this._default}}let Me=class extends J{init(){this._key="WebVitals";this._default=!1}};Me=k([p("WebVitalsExperiment"),q()],Me);let Xb=()=>{const a=document.getElementsByTagName("meta");return!!Array.from(a).filter(b=>"child-directed-treatment"===b.name&&!!b.content).length},ka=class{constructor(a,b){this.bootstrapResult=new Map;this.bootstrapLoaders={};this.ccpaOptIn="1YNY";this.ccpaOptOut="1YYY";this.ccpaConsentChange=new z;var c=a&&a.core&&a.core.country;
this.webVitalsEnabled=eb()?E.resolve(Me).result:!1;this.ccpaRequired="US"===c;let d=Xb();this.ccpaPrivacyString=ha("usprivacy");this.ccpaPrivacyString=d&&this.ccpaRequired?this.ccpaOptOut:!this.ccpaPrivacyString&&this.ccpaRequired?this.ccpaOptIn:this.ccpaPrivacyString;this.ccpaEnabled=(this.ccpaUserOptedOut=this.ccpaPrivacyString===this.ccpaOptOut)&&this.ccpaRequired;this.gptLibFailed=!1;this.liveRamp=B(a.siteAds.adOptions.liveRamp,!0);this.liveRampId=B(a.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df");
36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df");if("FR"===c||"DE"===c)this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe";c=Le()?"/s2s":"";this._baseUrl=a.baseUrl;this._targetPath=`${a.targetPath}${c}`||`/es2018${c}`;c=a.deliveryFeatures;this.isAmazonPreloaded=!(!c||!c.includes("amazonLoad"));this.isGPTPreloaded=!(!c||!c.includes("gptLoad"));this.isPrebidPreloaded=!(!c||!c.includes("prebidLoad"));this.amazonEnabled=b.result||this.isAmazonPreloaded;this.isGDPR=
"true"===a.gdpr}get baseUrl(){return this._baseUrl}get targetPath(){return this._targetPath}};ka=k([p("BootstrapConfig"),q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,Uc])],ka);let Ne=class{constructor(a,b){this._bootstrapConfig=b;this.type=qa.Amazon;this.wait=!1;this._url="https://c.amazon-adsystem.com/aax2/apstag.js";this._link="https://c.amazon-adsystem.com";this._amazonUAM=a.siteAds.adOptions.amazonUAM}async load(){if(this._bootstrapConfig.amazonEnabled&&this._amazonUAM){this._init();if(this._bootstrapConfig.isAmazonPreloaded)return Promise.resolve(!0);
this._addAmazonLinks();return this._addApstag()}return Promise.resolve(!1)}_addApstag(){return Ea(this._url)}_addAmazonLinks(){let a=this._link;hk(a,"dns-prefetch");hk(a,"preconnect",[{name:"crossorigin",value:""}])}_init(){window.apstag||(window.apstag={init(){window.apstag._Q.push(["i",arguments])},fetchBids(){window.apstag._Q.push(["f",arguments])},setDisplayBids(){},targetingKeys(){return[]},dpa(){window.apstag._Q.push(["di",arguments])},rpa(){window.apstag._Q.push(["ri",arguments])},upa(){window.apstag._Q.push(["ui",
arguments])},_Q:[]})}};Ne=k([p("AmazonBootstrap"),v(),S(0,R("AdThrive")),l("design:paramtypes",[Object,ka])],Ne);let Oe=class{constructor({isGPTPreloaded:a}){this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js";this._isGPTPreloaded=a}async load(){if(this._isGPTPreloaded)return Promise.resolve(!0);this.init();return Ea(this._url)}init(){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[]}};Oe=k([p("GAMBootstrap"),v(),l("design:paramtypes",[ka])],Oe);let Pe=
class extends T{init(){this._key="MarmaladeBootstrap"}run(){return super.run()}};Pe=k([p("MarmaladeBootstrapTimeoutExperiment"),q()],Pe);let Qe=class{constructor(a,b){this._eventBus=a;this._timeoutExp=b;this._marmaladeFinishedTimeout=this._timeoutExp.result?1E3*this._timeoutExp.result:3E3}setMarmaladeFinishedTimeout(a){this._marmaladeFinishedTimeout=a}async get(){if(window.adthrive.marmalade){var a=await window.adthrive.marmalade;this._emitMarmaladeResponse(a);return a}a=(new Promise(c=>{window.adthrive.marmaladeFinished=
c})).then(c=>{this._emitMarmaladeResponse(c);return c});let b=new Promise(c=>{const d=setTimeout(()=>{clearTimeout(d);const e=window.adthrive.marmalade||{};this._emitMarmaladeResponse(e);c(e)},this._marmaladeFinishedTimeout)});return Promise.race([a,b])}_emitMarmaladeResponse(a){a&&0<Object.keys(a).length&&(r.event("MarmaladeBootstrap","marmaladeResponseLoaded"),this._eventBus.marmaladeResponseLoaded.emit(a))}};Qe=k([p("MarmaladeBootstrap"),v(),l("design:paramtypes",[Ga,Pe])],Qe);let Re=class{constructor({baseUrl:a,
targetPath:b,isPrebidPreloaded:c}){this.type=qa.Prebid;this.wait=!1;this._url=`${a}/vendor/prebid${b}/prebid.min.js`;this._isPrebidPreloaded=c}async load(){this.init();return this._isPrebidPreloaded?"preloaded":await Ea(this._url)}init(){window.pbjs=window.pbjs||{};window.pbjs.que=window.pbjs.que||[]}};Re=k([p("PrebidBootstrap"),v(),l("design:paramtypes",[ka])],Re);let Vc=class extends T{init(){this._key="Floors"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),
l("design:returntype",void 0)],Vc.prototype,"run",null);Vc=k([p("FloorsExperiment"),q()],Vc);let Xa=class{constructor(a,b){this._floorsExperiment=a;this.abGroup=b;this._result={raptive:!1,legacy:!1,fbrap:!1,cm:!1,percentile:{lazy:0}};this.run()}get result(){return this._result}_enableRaptiveFloors(){this._result.raptive=!0}_enableLegacyFloors(){this._result.legacy=!0}_getFloorsExperimentResults(){let a=this._floorsExperiment.result,b=a===Sb.cm,c=a===Sb.fbrap;return{cm:b,fbrap:c,rapML:a===Sb.rapml,
enableLegacy:c||b}}_setExpResults({cm:a,fbrap:b}){let c=this._result;a&&(c.cm=a);b&&(c.fbrap=b)}run(){let a=this._getFloorsExperimentResults(),{enableLegacy:b,fbrap:c,rapML:d}=a;this._setExpResults(a);(d||c)&&this._enableRaptiveFloors();b&&this._enableLegacyFloors()}};Xa=k([p("FloorsExperimentHandler"),q(),l("design:paramtypes",[Vc,aa])],Xa);let Yb=class{constructor(a){this._enabledFloorsExperiments=a;this.floorsDataReady=new z;this.floorsTypeExcludes=new Set([W.raptive]);this._activeFloorsTypes=
[];this._cmFPVPriority=[W.refresh,W.lazyBidPool,W.lazy,W.session];this._cmNonFPVPriority=[W.refresh,W.lazyBidPool,W.session,W.lazy];this._customFieldsMap=new Map([["hvp",b=>(b=b.ortb2Imp.ext.data.hvp)?`${b}`:"*"],["hour",()=>"*"],["*",()=>"*"]]);this._customSchemaFields={};this._floorsPriorityData=new Map;this._schemaFieldOrder=new Map([["adUnitCode",1]]);this._standardSchemaFields=new Set(["size","mediaType","gptSlot","domain","adUnitCode"]);this._fpv=!0===F.getLocalStorageValue("session_fpv")||
null===F.getLocalStorageValue("session_fpv")}savePriorityFloorData(a,b){this._floorsPriorityData.set(b,a)}get floorsExperiment(){return this._enabledFloorsExperiments.result}get activeFloorsData(){return this._floorsPriorityData}get cmPriority(){return this._fpv?this._cmFPVPriority:this._cmNonFPVPriority}get activeFloorsTypes(){return this._activeFloorsTypes}addActiveFloorsType(a){return this._activeFloorsTypes.push(a)}get customSchemaFields(){return this._customSchemaFields}getSchemaFieldOrder(a){return this._schemaFieldOrder.get(a)}setAdditionalSchemaFields(a){for(let b of a)if(this._schemaFieldOrder.set(b,
a.indexOf(b)||0),!this._standardSchemaFields.has(b)){let c=this._customFieldsMap.get(b)||this._customFieldsMap.get("*");this._customSchemaFields[b]=c}}};Yb=k([q(),l("design:paramtypes",[Xa])],Yb);let Se=class extends T{init(){this._key="FloorBootstrap"}run(){return super.run()}};Se=k([p("FloorsBootstrapTimeoutExperiment"),q()],Se);let Te=class{constructor(a,b,c){this._floorsConfig=b;this._timeoutExp=c;this._isRaptive=!1;this._floorsFinishedTimeout=this._timeoutExp.result?1E3*this._timeoutExp.result:
3E3;this._isRaptive=(a.deliveryFeatures||[]).includes("raptiveFloors")&&this._floorsConfig.floorsExperiment.raptive}resolveFloorsData(a){return Promise.resolve(a).then(b=>{b=b.floors?b.floors:b;this._floorsConfig.floorsData=b;this._floorsConfig.floorsDataReady.emit();return b})}async get(){if(!this._isRaptive)return Promise.resolve({});var a=window.adthrive.raptiveFloors;if(a)return this.resolveFloorsData(a);a=new Promise(c=>{window.adthrive.raptiveFloorsFinished=c});let b=new Promise(c=>{setTimeout(()=>
{c({})},this._floorsFinishedTimeout)});return Promise.race([a,b]).then(()=>this.resolveFloorsData(window.adthrive.raptiveFloors))}};Te=k([p("FloorsBootstrap"),v(),S(0,R("AdThrive")),l("design:paramtypes",[Object,Yb,Se])],Te);let Ue=class{constructor(a,b){this.bootstrapConfig=a;this.eventBus=b;this._frame=document.createElement("iframe");if(!a.ccpaEnabled)b.marmaladeResponseLoaded.on(c=>{let d=c.recencyFrequency;Array.isArray(d)&&d.length&&void this.addIframeToPage().then(()=>{r.event("RecencyAndFrequencyIFrameManager",
"recencyFrequencyIframeAdded",`Found ${d.length} data elements`);this.setMcmpData(d);this.bootstrapConfig.ccpaConsentChange.on(e=>{e===a.ccpaOptOut&&this.deleteMcmpData()})})})}get recencyFrequencyIframeLocation(){return`${this.bootstrapConfig.baseUrl}/html/rnf.html`}addIframeToPage(){let a,b=new Promise(c=>{a=c});this._frame.onload=()=>{a()};try{this._frame.src=this.recencyFrequencyIframeLocation,this._frame.id="adthrive-mcmp",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(c){r.error("RecencyAndFrequencyIFrameManager",
"addIframeToPage","Failed to append rnf iframe to document",c)}return b}deleteMcmpData(){try{this._frame.contentWindow&&this._frame.contentWindow.postMessage({message:"deleteMcmpData"},window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com")}catch(a){r.error("RecencyAndFrequencyIFrameManager","deleteMcmpData","Failed to delete mcmp data",a)}}setMcmpData(a){try{if(this._frame.contentWindow){let b=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";
window.addEventListener("message",c=>{let d=c.data;c.origin===b&&"mcmpDataResponse"===d.message&&(r.event("RecencyAndFrequencyIFrameManager","recencyFrequencyDataSet"),this.eventBus.recencyFrequencyDataSet.emit(d.mcmpData))});this._frame.contentWindow.postMessage({message:"setMcmpData",mcmpData:a},b)}}catch(b){r.error("RecencyAndFrequencyIFrameManager","setMcmpData","Failed to set mcmp data",b)}}};Ue=k([p("RecencyAndFrequencyIFrameManager"),q(),l("design:paramtypes",[ka,Ga])],Ue);let Ve=class{constructor(a,
b,c,d,e,f,h){this._bootstrapConfig=a;this._bootstrapEventBus=b;this._amazon=c;this._gam=d;this._marmalade=e;this._prebid=f;this._floors=h;E.resolve(Ue)}async run(){let a=this._run(()=>this._floors.get(),qa.Floors),b;this.loadNonBlockingLibraries();let c=this._run(()=>this._gam.load(),qa.GAM,{required:!0}).catch(e=>this.gamFallback(e&&e.result,b)),d=b=this._run(()=>this._marmalade.get(),qa.Marmalade);return Promise.all([c,d,a,we()]).then(([e,f,h])=>({gam:e,marmalade:f,floors:h}))}get ccpaOptOut(){return this._bootstrapConfig.ccpaUserOptedOut}loadNonBlockingLibraries(){[this._prebid,
this._amazon].forEach(a=>{this._run(()=>this._bootstrapConfig.bootstrapLoaders[a.type]=a.load().catch(b=>{this._bootstrapEventBus.libraryLoadFailed.emit({bootstrapType:a.type});throw Error(b);}),a.type,{wait:a.wait}).catch(()=>!1)})}gamFallback(a,b){this._bootstrapConfig.gptLibFailed=!0;this._bootstrapConfig.webVitalsEnabled||(this._bootstrapConfig.webVitalsEnabled=!0);return b.then(c=>Promise.reject({message:a,marmalade:c}))}_run(a,b,{required:c=!1,wait:d=!0}={}){let e=fa(),f=h=>{const m=fa();h=
{result:h,started:e,finished:m,duration:m-e};this._bootstrapConfig.bootstrapResult.set(b,h);return h};a=a().then(f,h=>{r.error("Bootstrap","_start error",b,h);return c?Promise.reject(f(h.message)):f(h.message)});return d?a:Promise.resolve(f(!0))}};Ve=k([v(),l("design:paramtypes",[ka,Ub,Ne,Oe,Qe,Re,Te])],Ve);let We=class{constructor(a,b){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b";this.adUnitExclusions=new Set(["Interstitial"]);this.amznTargetingKeys=[];this.advertiserId=4526447244;this._amznDecryptedTargetingKeys=
["amz_pb","amz_bidder","amz_pb_sp","amz_bidder_sp"];this._amznEncryptedTargetingKeys=["amznbid","amzniid","amznp","amznsz","mediaType"];this.enabled=b.amazonEnabled&&!0===a.siteAds.adOptions.amazonUAM;this.amznTargetingKeys=["amzndeal_sp",...this._amznEncryptedTargetingKeys,...this._amznEncryptedTargetingKeys.map(c=>`${c}_sp`),...this._amznDecryptedTargetingKeys]}};We=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,ka])],We);let Xe=class{constructor(a){this._bootstrapConfig=a;this.nonCompliantBidders=
["unruly"];this.ccpaNotApplicable="1---";this.consentChange=new z;this.optOutText="Do not sell or share my personal information.";this.optInText="Customize my ad experience.";this.ccpaOptIn=this._bootstrapConfig.ccpaOptIn;this.ccpaOptOut=this._bootstrapConfig.ccpaOptOut;this.required=this._bootstrapConfig.ccpaRequired;this.consentChange=this._bootstrapConfig.ccpaConsentChange;this.privacyString=this._bootstrapConfig.ccpaPrivacyString;this.gpcEnabled=F.getLocalStorageValue("gpc");this.userOptedOut=
this._bootstrapConfig.ccpaUserOptedOut;this.consentChange.on(b=>{this.privacyString=b});this.userOptedOut=this.privacyString===this.ccpaOptOut?!0:!1;this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this._bootstrapConfig.ccpaEnabled}};Xe=k([q(),l("design:paramtypes",[ka])],Xe);let an=(a,b)=>{var c;a=a||navigator.userAgent;if(!ue(a,b||navigator.vendor))return!1;b=(null===(c=/ Version\/(1\d)\.(\d+)/.exec(a))||void 0===c?void 0:c.slice(-2))||[];c="15"===b[0]&&4>+b[1];
return"14"===b[0]||c},bn=()=>{an()&&window.addEventListener("beforeunload",()=>{window.addEventListener("visibilitychange",a=>{a.stopImmediatePropagation()},!0)},!0)},va=class{constructor(){this.beforeUnload=new z;this.pageHide=new z;this.resize=new z;this.scroll=new z;this.visibilityChange=new z;this.addEventListener("beforeunload",this.beforeUnload);this.addEventListener("pagehide",this.pageHide);this.addEventListener("resize",this.resize);this.addEventListener("scroll",this.scroll);this.addEventListener("visibilitychange",
this.visibilityChange,document);bn()}setupOnceEvent(a,b,c=window){let d=()=>{c.removeEventListener(a,d);b()};c.addEventListener(a,d)}setupOnceEventWithPromise(a,b=window){return new Promise(c=>{let d=e=>{b.removeEventListener(a,d);return c(e)};b.addEventListener(a,d)})}addEventListener(a,b,c=window){c.addEventListener(a,()=>{b.emit()},!1)}};va=k([p("PageManager"),q(),l("design:paramtypes",[])],va);let cn=a=>{const b=ha("_ga"),c=ha("_gid");if(b||c)r.event("Context","sessionLogger",{gaCookie:b,gidCookie:c,
sessionId:a,ua:navigator.userAgent});else E.resolve(va).beforeUnload.on(()=>{r.event("Context","sessionLogger",{gaCookie:ha("_ga"),gidCookie:ha("_gid"),sessionId:a,ua:navigator.userAgent})})},vb=class{constructor(a){this.connectionTargeting=[];this.sessionData={key:"session_key",timeout:864E5,rolling:!0,lowercase:!0,cb:P=>{F.removeLocalStorageValue("fpv");cn(P)}};let {bucket:b,core:c,plugin:d,branch:e,debug:f,deployment:h,baseUrl:m,fastAds:n,siteAds:u,styleUrl:w,invalidTraffic:t,integration:A,deliveryVersion:G}=
a,{tablet:N,desktop:O}=u.breakpoints;this.baseUrl=m;this.branch=e;this.bucket=b;this.country=c&&c.country;this.plugin=d;this.fastAds=n;this.invalidTraffic=t;this.deployment=h;this.domain=window.location.host;this.device=Mc(N,O);this.pageUrl=window.location.href;this.pageviewKey=tb();a=this.querystring=fb();this.sessionKey=this.setSessionKey();this.styleUrl=w;this.debug=f;this.integration=A;this.deliveryVersion=G;this.fledgeSupported=Wj();this.savedReferrer=F.getLocalStorageValue("referrer",!0,!0,
18E5);this.isFirstPageview=this.checkIsFirstPageview();try{var H=window.localStorage.getItem("id5id");this.gpid=H?JSON.parse(decodeURIComponent(H)).gp:void 0}catch(P){}this.ri=a.has("ri")?a.get("ri"):String(Math.floor(200*Math.random()));a=this.rsi=(H=F.getLocalStorageValue("rsi"))||String(Math.floor(200*Math.random()));H||F.setLocalStorageValue("rsi",a);if(H=window.performance.getEntriesByType("resource").filter(P=>P.name.includes("ads.min.js")&&P.name.includes("ads.adthrive.com"))[0])H=Math.round(H.responseEnd-
H.startTime).toString(),"NaN"!==H&&(this.adsMinLoadDuration=[H]);if(H=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection))H.effectiveType&&this.connectionTargeting.push(`niet:${H.effectiveType}`),(this.downlink=H.downlink||H.bandwidth)&&this.connectionTargeting.push(`dl:${this.downlink}`)}setSessionKey(){return F.getOrSetLocalStorageValue(this.sessionData,()=>tb())}checkIsFirstPageview(){let a=0;try{let b=F.getLocalStorageValue("fpv");
b&&(a=Date.now()-Date.parse(b));if(!b||864E5<a)return!0}catch(b){}return!1}};vb=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],vb);class wb{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&uk(this._clsGlobalData.siteAds)}get error(){return!(!this._clsGlobalData||!this._clsGlobalData.error)}set siteAds(a){this._clsGlobalData.siteAds=a}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(a){this._clsGlobalData.disableAds=
a}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(a){this._clsGlobalData.enabledLocations=a}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(a){this._clsGlobalData.injectedFromPlugin=a}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(a){this._clsGlobalData.injectedFromSiteAds=a}overwriteInjectedSlots(a){this._clsGlobalData.injectedSlots=
a}setInjectedSlots(a){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[];this._clsGlobalData.injectedSlots.push(a)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(a){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[];this._clsGlobalData.injectedVideoSlots.push(a)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(a){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||
[];this._clsGlobalData.injectedScripts.push(a)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(a,b,c=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{};this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(c?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[a]=b}getExperiment(a,b=!1){return(b=b?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)&&b[a]}setWeightedChoiceExperiment(a,b,c=
!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{};this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{};(c?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[a]=b}getWeightedChoiceExperiment(a,b=!1){var c,d;return(b=b?null===(c=this._clsGlobalData)||void 0===c?void 0:c.siteExperimentsWeightedChoice:null===(d=this._clsGlobalData)||void 0===d?void 0:d.experimentsWeightedChoice)&&
b[a]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(a){this._clsGlobalData.videoDisabledFromPlugin=a}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(a){this._clsGlobalData.targetDensityLog=a}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}get removeVideoTitleWrapper(){return this._clsGlobalData.siteAds.adOptions.removeVideoTitleWrapper}}let Ye=class{constructor(a,
b,c,d){this._context=b;this._abgroup=c;this._clsOptions=d;this._defaultHeight=250;this._map=new Map([["phone",{Content:250,Recipe:250,Header:50,Footer:50,Below_Post:250,Sidebar:250}],["tablet",{Content:250,Recipe:250,Header:90,Footer:90,Below_post:250,Sidebar:250}],["desktop",{Content:250,Recipe:250,Header:90,Footer:90,Below_Post:250,Sidebar:250}]]);this._clsOptimizedAds=a.siteAds.adOptions.clsOptimizedAds;this._clsOptions.enabled&&((a=this._clsOptions.getExperiment("clsins_ss"))&&this._abgroup.set("clsins_ss",
String(a)),["cls-insertion","cls-header-insertion","cls-disable-ads"].filter(e=>this._clsOptions.branch?0<document.querySelectorAll("script[id^="+`${e}-${this._clsOptions.branch}`+"]").length:!1).forEach(e=>this._clsOptions.setInjectedScripts(e)))}get enabled(){return this._clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(a,b){return(b=this._map.get(b))&&b[a]||this._defaultHeight}setStyle(a,b){if("Footer"===b||this.enabled&&
this._map.get(this._context.device)[b])a.style.minHeight=`${this._map.get(this._context.device)[b]}px`,a.classList.add("adthrive-ad-cls")}};Ye=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,vb,aa,wb])],Ye);let Ze=class{constructor(a,b){this._footerConfigEventBus=b;this.tracker=!0;this.gdpr=!1;this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle",
"CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);let {comscore:c,comscoreFooter:d}=a.siteAds.adOptions;this.category=B(c,"General");this.comscore=B(d,!0);this.comscoreMessage=B(this._footerMessages.get(this.category),"CafeMedia");this._footerConfigEventBus.comscoreInitialized.emit(this.comscore)}};Ze=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,Mb])],Ze);let $e=class{constructor(a,b){this.adthrive=a;this._clsOptions=b;this.video=
this.recipe=this.content=this.all=!1;this.locations=new Set;this.reasons=new Set;this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"];this.init=()=>{if(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs);try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&
(this.recipe=this.content=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(c){r.error("DisableAds","constructor",{message:c.message});let d="classList"in document.createElement("_");r.error("BodyDeviceClassComponent",
"init.support",{support:d});r.error("BodyDeviceClassComponent","init.supportBody",{supportBody:"classList"in document.body})}this._log("init")};this.clear=()=>{this.video=this.recipe=this.content=this.all=!1;this.locations=new Set;this.reasons=new Set};this._log=c=>{};this.init()}removeClsDivs(a){if(this._clsOptions.enabled){var b=this._clsOptions.injectedSlots.filter(c=>{const d=c.element;c=!1;d.parentNode&&a.some(e=>d.classList.contains(e))&&(d.parentNode.removeChild(d),c=!0);return!c});this._clsOptions.overwriteInjectedSlots(b)}}disableAllAds(a){if(!a||
De(a))this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs);this._log("disableAllAds")}disableContentAds(a){if(!a||De(a))this.recipe=this.content=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]);this._log("disableContentAds")}disablePlaylistPlayers(a){if(!a||De(a))this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():
this._removeLegacyCLSVideoPlayers();this._log("disablePlaylistPlayers")}_removeCLSVideoPlayers(){var a;null===(a=this.adthrive.siteAds.videoPlayers)||void 0===a?void 0:a.players.filter(b=>"stickyPlaylist"===b.type).map(b=>document.querySelectorAll(`#cls-video-container-${b.playlistId}`)).forEach(b=>{var c;for(let d=0;d<b.length;d++){let e=b[d];null===(c=e.parentNode)||void 0===c?void 0:c.removeChild(e)}})}_removeLegacyCLSVideoPlayers(){var a,b,c=null===(a=this.adthrive.siteAds.video)||void 0===a?
void 0:a.jwPlaylistId;if(c)for(a=document.querySelectorAll(`#cls-video-container-${c}`),c=0;c<a.length;c++){let d=a[c];null===(b=d.parentNode)||void 0===b?void 0:b.removeChild(d)}}urlHasEmail(a){return a?null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(a):!1}};$e=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,wb])],$e);class ib extends Wb{constructor(){super(...arguments);this._default=["none"]}get _choices(){return this._coreExperimentConfig.getMultivalueBernoulliVariants(this.key)}run(){var a=
this._choices;a&&(a=a.filter(b=>(new ba(b.weight/100)).get()).map(b=>b.choice),a.length&&(this._result=a));return this._result||this._default}}let af=class extends ib{init(){this._setAbGroup=!1;this._key="DisplayOpenBidderExperiment"}};af=k([p("DisplayOpenBidderExperiment"),q()],af);let bf=class{constructor(a){this.bidders=a.result||["none"]}};bf=k([q(),l("design:paramtypes",[af])],bf);let Zb=class extends sa{constructor(a,b){var c;super();this._abgroup=b;this._result=!1;this.key="ParallaxAdsExperiment";
this.abgroup="parallax";this._choices=[{choice:!0},{choice:!1}];this.weight=.5;this.shouldUseCoreOverride=!1;b=(b=window.adthriveCLS)&&b.experiments;a=null===(c=null===a||void 0===a?void 0:a.siteAds)||void 0===c?void 0:c.adTypes;c=I()?null===a||void 0===a?void 0:a.largeFormatsMobile:!1;b&&this.abgroup in b?(this._result=b[this.abgroup],this._abgroup.set(this.abgroup,this._result?"on":"off")):c&&(this._result=this.run(),this._abgroup.set(this.abgroup,this._result?"on":"off"))}get result(){return this._result}run(){return(new ba(this.weight)).get()}};
Zb=k([v(),p("ParallaxAdsExperiment"),S(0,R("AdThrive")),l("design:paramtypes",[Object,aa])],Zb);let Dk=a=>{const {tablet:b,desktop:c}=a.siteAds.breakpoints,d=Mc(b,c);var e=a.siteAds;const f=e.videoPlayers&&e.videoPlayers.partners&&e.videoPlayers.partners.stickyOutstream;a=a.siteAds.adOptions;e=e.video&&e.video.partners&&e.video.partners.stickyOutstream||f||a&&a.stickyOutstream;return!!(e&&("phone"===d?e.mobile.enabled:e.desktop.enabled))},Wc=class extends hb{constructor(a,b){super();this._siteExperiments=
a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=ra.StickyOutstream;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,
this._result?"on":"off")}else r.error("StickyOutstreamSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Wc.prototype,"run",null);Wc=k([q(),l("design:paramtypes",[Fa,xa])],Wc);let cf=class extends sa{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.key="MaxContent";this.abgroup="conmax99";
var b=window.adthriveCLS;this._result=(b=b&&b.experiments)&&this.abgroup in b?b[this.abgroup]:this.run();a.set(this.abgroup,this._result?"on":"off")}get result(){return this._result}run(){return(new ba(.02)).get()}};cf=k([p("MaxContentExperiment"),q(),l("design:paramtypes",[aa])],cf);let df=class extends sa{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.key="RemoveLargeSize";this.abgroup="smhd100";var b=window.adthriveCLS;
this._result=(b=b&&b.experiments)&&this.abgroup in b?b[this.abgroup]:this.run();a.set(this.abgroup,this._result?"on":"off")}get result(){return this._result}run(){return(new ba(.1)).get()}};df=k([p("RemoveLargeSizeExperiment"),q(),l("design:paramtypes",[aa])],df);let ef=class extends sa{constructor(a){super();this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.shouldUseCoreExperimentsConfig=!1;this.abgroup=this.key="mrsf";var b=window.adthriveCLS;(b=b&&b.experiments)&&this.abgroup in b?(this._result=
b[this.abgroup],a.set(this.abgroup,this._result?"on":"off")):I()&&(this._result=this.run(),a.set(this.abgroup,this._result?"on":"off"))}get result(){return this._result}run(){return(new ba(1)).get()}};ef=k([p("MobileRecipeSizeFilterExperiment"),q(),l("design:paramtypes",[aa])],ef);let ff=class{constructor(a,b,c,d,e,f,h){this._adOptions=b;this._removeLargeSizeExperiment=c;this._stickyOutstreamSiteExperiment=d;this._maxContentExperiment=e;this._parallaxAdsExperiment=f;this._mobileRecipeSizeFilterExperiment=
h;this._stickyOutstreamEnabled=!1;this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]];this._tallMobileContentAdsizes=[[300,600],[160,600]];this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]];this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",
5],["Sidebar_sticky",6],["Below Post",7]]);this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:"",name:""};this.isStickyUnit=(u,w)=>{let {location:t,sticky:A}=u;if("Recipe"===t&&w){let {recipeMobile:G,recipeDesktop:N}=w;if(I()&&(null===G||
void 0===G?0:G.enabled)||!I()&&(null===N||void 0===N?0:N.enabled))return!0}return"Footer"===t||A};let {tablet:m,desktop:n}=a.siteAds.breakpoints;this._device=Mc(m,n);this._adthriveSiteAds=a.siteAds;this._adthriveOptions=this._adthriveSiteAds.adOptions;this._adUnits=a.siteAds.adUnits;this.setupStickyOutstreamSettings(a);this.setupInterstitialSettings()}setupStickyOutstreamSettings(a){var b=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream;
b=a.siteAds.video&&a.siteAds.video.partners&&a.siteAds.video.partners.stickyOutstream||b;a=Dk(a);if(this._stickyOutstreamSiteExperiment.enabled?this._stickyOutstreamSiteExperiment.result:a)this._stickyOutstreamEnabled=!0,a={...this._adUnitSettingTemplate,sticky:!0,location:"Video_StickyOutstream",position:"beforeend"},a.pageSelector=B(b&&b.blockedPageSelectors,""),a.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=a}setupInterstitialSettings(){let a={...this._adUnitSettingTemplate},
b=this._adthriveOptions;a.location="Interstitial";a.sizes=this.interstitalSupportedSizes();a.pageSelector=B(b.interstitialBlockedPageSelectors,"");this._interstitialSettingTemplate=a}get(){this._adUnits.sort((b,c)=>{c="Sidebar"===c.location&&c.sticky?`${c.location}_sticky`:c.location;return this._adUnitAuctionPriorityMap.get("Sidebar"===b.location&&b.sticky?`${b.location}_sticky`:b.location)-this._adUnitAuctionPriorityMap.get(c)});let a=this._adUnits.filter(b=>void 0!==b.dynamic&&b.dynamic.enabled).map(b=>
{const c=b.location.replace(/\s+/g,"_"),d="Sidebar"===c?0:2,e=this._parallaxAdsExperiment.result;return{auctionPriority:this._adUnitAuctionPriorityMap.get(c)||8,location:c,sequence:B(b.sequence,1),sizes:this.onlySupportedAdSizes(b.adSizes).filter(f=>this.includeCertainTallSizes(b,f)).concat(e&&"Content"===b.location?this._tallMobileContentAdsizes:[]),devices:b.devices,pageSelector:B(b.dynamic.pageSelector,"").trim(),elementSelector:B(b.dynamic.elementSelector,"").trim(),position:B(b.dynamic.position,
"beforebegin"),max:this._maxContentExperiment.result&&"Content"===b.location?99:Math.floor(B(b.dynamic.max,0)),spacing:B(b.dynamic.spacing,0),skip:Math.floor(B(b.dynamic.skip,0)),every:Math.max(Math.floor(B(b.dynamic.every,1)),1),classNames:b.dynamic.classNames||[],sticky:this.isStickyUnit(b,this._adthriveSiteAds.adOptions.stickyContainerConfig),stickyOverlapSelector:B(b.stickyOverlapSelector,"").trim(),autosize:b.autosize,special:B(b.targeting,[]).filter(f=>"special"===f.key).reduce((f,h)=>f.concat(...h.value),
[]),lazy:B(b.dynamic.lazy,!1),lazyMax:B(b.dynamic.lazyMax,d),lazyMaxDefaulted:0===b.dynamic.lazyMax?!1:!b.dynamic.lazyMax,name:b.name}});this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&a.push(this._stickyOutstreamSettingTemplate);this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&a.push(this._interstitialSettingTemplate);return a}onlySupportedAdSizes(a){return this._supportedSizes.filter(([b,c])=>a.some(([d,e])=>b===d&&c===e))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter(([a,
b])=>"phone"!==this._device&&"320,50"===`${a},${b}`?!1:!0)}includeCertainTallSizes(a,[b,c]){let {location:d,sequence:e}=a;return"Footer"===d?!("phone"===this._device&&320===b&&100===c):"Header"===d?!(100<c&&this._removeLargeSizeExperiment.result):"Recipe"===d?!(this._mobileRecipeSizeFilterExperiment.result&&"phone"===this._device&&(300===b&&390===c||320===b&&300===c)):"Sidebar"===d?(b=a.adSizes.some(([,f])=>300>=f),(c=300<c)&&!b?!0:9===e?!0:e&&5>=e?c?a.sticky:!0:!c):!0}};ff=k([v(),S(0,R("AdThrive")),
l("design:paramtypes",[Object,Tc,df,Wc,cf,Zb,ef])],ff);let gf=class{constructor(){this.elements=[]}};gf=k([q()],gf);let Xc=class{constructor(a){this.prefix="AdThrive";this.networkCode="18190176";this._gamMCMEnabled=B(a.siteAds.adOptions.gamMCMEnabled,!1);this._gamMCMChildNetworkCode=B(a.siteAds.adOptions.gamMCMChildNetworkCode,"");this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:this.networkCode;let b=new Set(["service","bidding",
"dynamicVersion"]);this.targeting=a.siteAds.targeting.length&&a.siteAds.targeting.filter(({key:c})=>!b.has(c)).map(({key:c,value:d})=>{"boolean"===typeof d&&(d=String(d));return{key:c,value:d}})||[]}};Xc=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],Xc);let hf=class{constructor(a){this.cafeMediaVendorId=996;this.nonCompliantBidders=[g.Colossus,g.Concert,g.ResetDigital,g.Roundel,g.ThirtyThreeAcross,g.Rtbhouse];this.revokedPurposeConsent=this.consentCaptured=!1;this._isRequired="true"===
a.gdpr}get enabled(){return this._isRequired}};hf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],hf);let jf=class{constructor(){this.gpcUpdated=!1;this.globalPrivacyControl=!!window.navigator.globalPrivacyControl;this.gpcEnabled=!!window.localStorage.getItem("adthrive_gpc")}setGpcString(){!this.gpcEnabled&&this.globalPrivacyControl?(window.localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this._updateGPC()):this.gpcEnabled&&!this.globalPrivacyControl&&(window.localStorage.removeItem("adthrive_gpc"),
this._updateGPC())}_updateGPC(){this.gpcEnabled=!!this.globalPrivacyControl;this.gpcUpdated=!0}};jf=k([q(),l("design:paramtypes",[])],jf);let kf=class extends ib{init(){this._key="HBHO";this._default=["none"]}};kf=k([p("HBHOExperiment"),q()],kf);let lf=class extends J{init(){this._key="OptimalDisplayBidders";this._default=!1}};lf=k([p("OptimalDisplayBiddersExperiment"),q()],lf);let mf=class{constructor(a,b){this.bidders=a.result||["none"];this.useMlBidders=b.result}};mf=k([q(),l("design:paramtypes",
[kf,lf])],mf);let nf=class{constructor(a){this.apiReady=new z;this.optIn=new z;this._liveRampATS=B(a.siteAds.adOptions.liveRampATS,!1)}get enabled(){return this._liveRampATS}};nf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],nf);let $b=class extends ib{init(){this._key="IDHO"}setABGroup(a,b){let c=this._coreExperimentConfig.getCoreExperiment(this.key);c&&Array.isArray(a)&&(a=a.map(d=>`${d}`),this.abgroupClass.set(b||c.abgroup,a))}};$b=k([p("IDHOExperiment"),q()],$b);let of=class{constructor(a){this.subModule=
a.result;a=a._choices;this.percentages=null===a||void 0===a?void 0:a.map(b=>`${b.choice}:${"number"===typeof b.weight?b.weight:0}`)}};of=k([q(),l("design:paramtypes",[$b])],of);let pf=class extends J{init(){this._key="ImpressionLog";this._default=!1}};pf=k([p("EventLogExperiment"),q()],pf);let qf=class{constructor(a){this.enabled=a.result}};qf=k([q(),l("design:paramtypes",[pf])],qf);let rf=class{constructor(){this.refreshSlots=new Set(["Footer"]);this.ajaxType=!1}};rf=k([q()],rf);let Yc=class extends T{constructor(){super(...arguments);
this.abgroup="lzbpvp"}init(){this._key="BelowPostMargin"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Yc.prototype,"run",null);Yc=k([p("BelowPostMarginExperiment"),q()],Yc);let Zc=class extends T{constructor(){super(...arguments);this.abgroup="lzcvp"}init(){this._key="ContentMargin"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Zc.prototype,"run",null);Zc=
k([p("ContentMarginExperiment"),q()],Zc);let sf=class{constructor(a,b){var c,d;this._defaultViewPort=2;this._infScrollViewPort=4;this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700};this.lzhb=!0;this.viewports={content:null!==(c=a.result)&&void 0!==c?c:2,belowPost:null!==(d=b.result)&&void 0!==d?d:.75,default:this._defaultViewPort,infScroll:this._infScrollViewPort}}};
sf=k([q(),l("design:paramtypes",[Zc,Yc])],sf);let tf=class{constructor(a){this._id="69e75073-3763-483e-a64c-0d281bfd9225";this.url=`https://launchpad-wrapper.privacymanager.io/${this._id}/launchpad-liveramp.js`;this.enabled=B(a.siteAds.adOptions.liveRampATS,!0)}};tf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],tf);let uf=class{constructor(a){var b,c;this._adthrive=a;this.country=null===(c=null===(b=null===a||void 0===a?void 0:a.core)||void 0===b?void 0:b.country)||void 0===c?void 0:
c.toUpperCase();this.tz=Intl.DateTimeFormat().resolvedOptions().timeZone}get targetingValue(){return this.isNewZealand()?"nz":this.isUnitedStates()?"us":this.isUnitedKingdom()?"uk":this.isCanada()?"ca":this.isGDPR()?"gdpr":"o"}isNewZealand(){return"NZ"===this.country}isUnitedStates(){return"US"===this.country}isUnitedKingdom(){return this.country?"UK GB IM GG JE GI FK".split(" ").includes(this.country):!1}isCanada(){return"CA"===this.country}isGDPR(){var a;return this.country?"true"===(null===(a=
this._adthrive)||void 0===a?void 0:a.gdpr):!1}};uf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],uf);let dn={AS:{location:"Sponsor_Tile",selectors:"h1.entry-title;h1.post-title;h1.posttitle;h1.story-title;h1.heading;.post > .post-title".split(";"),size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:a=>document.querySelector(a),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,nativeRecipeSiteSpecificSelectors:{"5531445f4f3ba0833a7842a4":['[class*="recipe"] [class*="ingredient"] ul li:last-child']},
selectors:'[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child;[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child;[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child;.wprm-recipe-ingredient:last-child;#recipe .ingredients;.wprm-recipe-ingredients-container;.tasty-recipe-ingredients;[class*="recipe"] [class*="ingredient"] ul li:last-child;[class*="create-ingredient"] ul li:last-child;[class*="tasty-recipe"] [class*="ingredient"] p:last-child;[class*=recipe] [class*=recipe] ~ p + ul li:last-child'.split(";"),
size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:a=>{a=document.querySelectorAll(a);return 0<a.length?a[a.length-1]:null},requireSelectorMatch:!1,lazy:!0}},$c=class{constructor(a,b){this.loaded=!1;this.campaigns=[];this.siteCodes=[];this.adViewability=[];this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0";this.adUnits=dn;this.selectorMatches=[];this.ortbSegments=new Map;this.rfMcmpCodes=[];this.rfIabCodes=[];this.rfDataProcessed=
new z;this.hvThreshold=.6;this.mcmp=[];this.flpProdIds=[];this._targetCampaignSites=new Set(["divascancook.com","hungryhappens.net","whatsgabycooking.com","pinchofyum.com","isabeleats.com"]);this._activeCampaign=c=>{let d=Date.now();return d>=this._parseDate(c.start_date).getTime()&&d<=this._parseDate(c.expiration_date).getTime()};if(a&&0<Object.keys(a).length)this._setMarmaladeData(a,b);else b.marmaladeResponseLoaded.once(c=>{this._setMarmaladeData(c,b);b.resetMarmaladeData.emit()})}_setMarmaladeData(a,
b){var c;this.loaded=!0;let {host:d,page:e,adViewability:f,dcsllSiteSpecific:h}=a;d&&d.length&&(this.siteCodes=d[0].site_codes||[]);e&&e.length&&(this.campaigns=(e[0].campaigns||[]).filter(this._activeCampaign));f&&f.length&&(this.adViewability=f);h&&(this.dcsllSiteSpecific=h);a=null===(c=window.location.hostname)||void 0===c?void 0:c.replace("www.","");this._targetCampaignSites.has(a)&&(this.adUnits.NR.lazy=!1);this._targetCampaignSites.has(a)&&document.body.classList.contains("single-post")&&!this.campaigns.some(m=>
"NR_TNFLK23"===m.dfp_id)&&this.campaigns.push({casale_id:"NR_TNFLK23",dfp_id:"NR_TNFLK23",expiration_date:"2026-12-31",ingredient_line:"",internal_id:"NR_TNFLK23",lead_ingredient:"",start_date:"2023-08-15"});c=this._getMcmpFlpIds();this.mcmp=c.mcmp||[];this.flpProdIds=c.flpProdIds||[];this.ortbSegments=this._getOrtbSegments();b.recencyFrequencyDataSet.on(this._handleRecencyFrequencyDataSet.bind(this),{handleEventsAlreadyEmitted:!0})}_getOrtbSegments(){return this.campaigns.reduce((a,b)=>{let [,c,
,d]=(new RegExp(/(^iab(a|c))_(\d*)/)).exec(b.dfp_id)||[];d&&(b=a.get(c)||[],b.push({id:d}),c&&b.length&&a.set(c,b));return a},new Map)}_handleRecencyFrequencyDataSet(a){a.forEach(b=>{let c=b[0];b=b[1];if("_A"===c.substring(c.length-2))this.rfMcmpCodes.push([c,b]);else{let d=c.substring(c.indexOf("_")+1);this.ortbSegments.set("iaba",[{id:d}]);this.rfIabCodes.push([c,b])}});this.rfDataProcessed.emit()}_isValidMarmaladeCampaign(a){a=a.dfp_id.substring(0,2);a=this.adUnits[a];var b=window.adthrive.siteAds.siteId;
if(a){var c=a.find,d;b=(null===(d=a.nativeRecipeSiteSpecificSelectors)||void 0===d?0:d.hasOwnProperty(b))?a.nativeRecipeSiteSpecificSelectors[b]:a.selectors;(d=c.call(a,b.join(",")))&&this.selectorMatches.push({adUnit:a,match:d});return!a.requireSelectorMatch||!!d}return!0}_getMcmpFlpIds(){return this.campaigns.filter(a=>this._isValidMarmaladeCampaign(a)).reduce((a,b)=>{a.mcmp.push(b.dfp_id);b.flp_prod_id&&a.flpProdIds.push(...JSON.parse(b.flp_prod_id));return a},{mcmp:[],flpProdIds:[]})}_parseDate(a){a=
a.split("-");return new Date(Number(a[0]),Number(a[1])-1,Number(a[2]))}};$c=k([q(),S(0,R("RecencyFrequencyMarmaladeResponse")),l("design:paramtypes",[Object,Ga])],$c);let vf=class{constructor(a){this._biddersConfig=new Map;let b=a.siteAds.videoPlayers&&a.siteAds.videoPlayers.partners,c=a.siteAds.video&&a.siteAds.video.partners;this._adOptions=a.siteAds.adOptions;this._videoPartners=b||c||{};a&&a.core&&a.core.partners.forEach(d=>{if(d.bidder_name){let e=B(d.enabled,!0),f=new Map;d.cpm&&d.cpm.length&&
d.cpm.forEach(h=>{f.set(h.name,h)});this._biddersConfig.set(d.bidder_name,{bidder_name:d.bidder_name,enabled:e,cpmMap:f})}});this.display=new Map([[g.AppNexus,this.partnerEnabled(g.AppNexus,!1,!0,"appNexus")],[g.Concert,this.partnerEnabled(g.Concert,!1,!1,g.Concert)],[g.Colossus,this.partnerEnabled(g.Colossus,!0,!0,g.Colossus)],[g.Conversant,this.partnerEnabled(g.Conversant,!1,!0,g.Conversant)],[g.Criteo,this.partnerEnabled(g.Criteo,!0,!0,g.Criteo)],[g.ImproveDigital,this.partnerEnabled(g.ImproveDigital,
!0,!0,g.ImproveDigital)],[g.IndexExchange,this.partnerEnabled(g.IndexExchange,!1,!0,"indexExchange")],[g.GumGum,this.partnerEnabled(g.GumGum,!0,!0,g.GumGum)],[g.Kargo,this.partnerEnabled(g.Kargo,!0,!0,g.Kargo)],[g.MediaGrid,this.partnerEnabled(g.MediaGrid,!0,!0,"mediaGrid")],[g.MediaGridVideo,this.partnerEnabled(g.MediaGridVideo,!0,!0,"mediaGrid")],[g.Nativo,this.partnerEnabled(g.Nativo,!0,!0,g.Nativo)],[g.OpenX,this.partnerEnabled(g.OpenX,!1,!0,g.OpenX)],[g.Pubmatic,this.partnerEnabled(g.Pubmatic,
!0,!0,"pubMatic")],[g.ResetDigital,this.partnerEnabled(g.ResetDigital,!0,!0,g.ResetDigital)],[g.Rtbhouse,this.partnerEnabled(g.Rtbhouse,!0,!0,g.Rtbhouse)],[g.Rubicon,this.partnerEnabled(g.Rubicon,!0,!0,g.Rubicon)],[g.Roundel,this.partnerEnabled(g.Roundel,!0,!0,g.Roundel)],[g.Sharethrough,this.partnerEnabled(g.Sharethrough,!0,!0,g.Sharethrough)],[g.Teads,this.partnerEnabled(g.Teads,!0,!0,g.Teads)],[g.ThirtyThreeAcross,this.partnerEnabled(g.ThirtyThreeAcross,!0,!0,"thirtyThreeAcross")],[g.Triplelift,
this.partnerEnabled(g.Triplelift,!0,!0,"tripleLift")],[g.TTD,this.partnerEnabled(g.TTD,!0,!0,"theTradeDesk")],[g.Undertone,this.partnerEnabled(g.Undertone,!0,!0,g.Undertone)],[g.Unruly,this.partnerEnabled(g.Unruly,!0,!0,g.Unruly)],[g.Verizon,this.partnerEnabled(g.Verizon,!0,!0,g.Verizon)],[g.YahooSSP,this.partnerEnabled(g.YahooSSP,!0,!0,g.YahooSSP)],[g.Yieldmo,this.partnerEnabled(g.Yieldmo,!0,!0,g.Yieldmo)],["AmazonUAM",this.partnerEnabled("AmazonUAM",!0,!0,"amazonUAM")]]);this.video=new Map([["AmazonUAM",
this.videoPartnerEnabled("AmazonUAM",!0,"amazonUAM")],[g.AppNexus,this.videoPartnerEnabled(g.AppNexus,!0,"appNexus")],[g.Colossus,this.videoPartnerEnabled(g.Colossus,!0,g.Colossus)],[g.Conversant,this.videoPartnerEnabled(g.Conversant,!1,g.Conversant)],[g.Criteo,this.videoPartnerEnabled(g.Criteo,!0,g.Criteo)],[g.GumGum,this.videoPartnerEnabled(g.GumGum,!0,g.GumGum)],[g.ImproveDigital,this.videoPartnerEnabled(g.ImproveDigital,!0,g.ImproveDigital)],[g.IndexExchange,this.videoPartnerEnabled(g.IndexExchange,
!0,"indexExchange")],[g.MediaGridVideo,this.videoPartnerEnabled(g.MediaGridVideo,!0,"mediaGrid")],[g.OpenX,this.videoPartnerEnabled(g.OpenX,!0,g.OpenX)],[g.Pubmatic,this.videoPartnerEnabled(g.Pubmatic,!0,"pubMatic")],[g.ResetDigital,this.videoPartnerEnabled(g.ResetDigital,!0,g.ResetDigital)],[g.Rubicon,this.videoPartnerEnabled(g.Rubicon,!0,g.Rubicon)],[g.Sharethrough,this.videoPartnerEnabled(g.Sharethrough,!0,g.Sharethrough)],[g.ThirtyThreeAcross,this.videoPartnerEnabled(g.ThirtyThreeAcross,!0,"thirtyThreeAcross")],
[g.Triplelift,this.videoPartnerEnabled(g.Triplelift,!0,"tripleLift")],[g.TTD,this.videoPartnerEnabled(g.TTD,!0,g.TTD)],[g.Unruly,this.videoPartnerEnabled(g.Unruly,!0,g.Unruly)],[g.UndertoneServer,this.videoPartnerEnabled(g.Undertone,!0,g.Undertone)],[g.YahooSSP,this.videoPartnerEnabled(g.YahooSSP,!0,g.YahooSSP)],[g.Kargo,this.videoPartnerEnabled(g.Kargo,!0,g.Kargo)]])}getBidderConfig(a){return B(this._biddersConfig.get(a),{bidder_name:a,enabled:!0,cpmMap:new Map})}partnerEnabled(a,b=!0,c,d){var e;
b=d?B(this._adOptions[d],b):void 0;c=B(null===(e=this._biddersConfig.get(a))||void 0===e?void 0:e.enabled,c);return"AmazonUAM"===a?b:d?b&&c:c}videoPartnerEnabled(a,b,c){return!!B(this._videoPartners[c],b)}};vf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],vf);let wf=class extends sa{constructor(a){super();this.key="SensOff";this.abgroup="SensOffExperiment";this._choices=[];this._sensCategories=B(a.siteAds.adOptions.sensitiveCategories,[]);this._choices=this._sensCategories.map(b=>({choice:[b]}));
this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter(()=>(new ba(.01)).get())}};wf=k([p("SensOffExperiment"),q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],wf);let ad=class{constructor(a,b,c){this._sensOffExperiment=b;this._abgroup=c;this.enableCategoriesNetworkWide=["drg","conl"];this.disableCategoriesNetworkWide=["dlu"];this.id=a.siteAds.siteId;this.name=a.siteAds.siteName;this.verticals=a.siteAds.adOptions.verticals;this.sensitiveCategories=
B(a.siteAds.adOptions.sensitiveCategories,[]).filter(d=>!this.enableCategoriesNetworkWide.includes(d)&&!this.disableCategoriesNetworkWide.includes(d));this.sensCategoriesOff=this._sensOffExperiment.result;this.filteredSensitiveCategories=this.sensitiveCategories.filter(d=>-1===this.sensCategoriesOff.indexOf(d));this.breakpoints=a.siteAds.breakpoints;this.style=a.style;this.spa=B(a.siteAds.adOptions.spa,!1);this.siteIsEven=Fm(this.id);this._abgroup.set("bp1gpid",this.siteIsEven?"on":"off")}};ad=k([q(),
S(0,R("AdThrive")),l("design:paramtypes",[Object,wf,aa])],ad);let xf=class extends ib{init(){this._setAbGroup=!0;this._key="S2S2"}};xf=k([p("S2SExperiment"),q()],xf);let yf=class extends T{init(){this._key="AuctionDelay_2"}get result(){return this._result}};yf=k([p("AuctionDelayExperiment"),q()],yf);let zf=class extends J{init(){this._key="OrtbEnrich";this._default=!1}};zf=k([p("OrtbEnrichExperiment"),q()],zf);let ac=class extends T{init(){this._key="ColossusExperiment"}run(){return super.run()}};
k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],ac.prototype,"run",null);ac=k([p("ColossusExperiment"),q()],ac);let bc=class extends T{init(){this._key="Kargo"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],bc.prototype,"run",null);bc=k([p("KargoExperiment"),q()],bc);let cc=class extends T{init(){this._key="OpenX"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",
[]),l("design:returntype",void 0)],cc.prototype,"run",null);cc=k([p("OpenXExperiment"),q()],cc);let dc=class extends T{init(){this._key="Rubicon"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],dc.prototype,"run",null);dc=k([p("RubiconExperiment"),q()],dc);let ec=class extends T{init(){this._key="Triplelift"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],ec.prototype,
"run",null);ec=k([p("TripleLiftExperiment"),q()],ec);let fc=class extends T{init(){this._key="YahooSSP1"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],fc.prototype,"run",null);fc=k([p("YahooSSPExperiment"),q()],fc);let Af=class{constructor(a,b,c,d,e,f,h,m,n,u,w){var t,A;this._gam=d;this._site=e;this.bidPoolSlots=["Below_Post","Content"];this.deals=[];this.targetingKeys="ADOMAIN AD_ID BIDDER CACHE_ID CACHE_HOST DEAL FORMAT PRICE_BUCKET SIZE SOURCE UUID INTERSTITIAL DSP CRID".split(" ");
this.advertiserId=413678576;this.sendAllBidsTargetingKeys=this.targetingKeys.filter(G=>!["ADOMAIN","BIDDER","INTERSTITIAL","DSP","CRID"].includes(G));this._s2sBidders=[];this.addToS2SBidders(g.ColossusServer,f&&f.result);this.addToS2SBidders(g.KargoServer,h&&h.result);this.addToS2SBidders(g.OpenXServer,m&&m.result);this.addToS2SBidders(g.RubiconServer,n&&n.result);this.addToS2SBidders(g.TripleliftServer,u&&u.result);this.addToS2SBidders(g.YahooSSPServer,w&&w.result);!Le()||(null===(t=a.result)||void 0===
t?0:t.includes("gumgum"))||this._s2sBidders.push("gumgum");this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`;this.ortbEnrich=c.result;this.s2s={bidders:[...(a.result||[]),...this._s2sBidders]};this.auctionDelay=null!==(A=b.result)&&void 0!==A?A:0}addToS2SBidders(a,b){"both"!==b&&"server"!==b||this._s2sBidders.push(a)}};Af=k([q(),l("design:paramtypes",[xf,yf,zf,Xc,ad,ac,bc,cc,dc,ec,fc])],Af);let Ek=a=>{a=a.substring(13).split(".").map(b=>parseInt(b));
return{major:a[0],minor:a[1],patch:a[2]}},Fk=(a,b)=>{a=Ek(a);b=Ek(b);if(a.major>b.major)return!1;if(a.major<b.major)return!0;if(a.minor>b.minor)return!1;if(a.minor<b.minor)return!0;if(a.patch>b.patch)return!1;if(a.patch<=b.patch)return!0},Bf=class{constructor(a){this.settings=a.siteAds.adDensityLayout;this._adDensityEnabled=B(a.siteAds.adDensityEnabled,!0);this.enabled=this.isEnabled()}isEnabled(){var a=window,b=a.adthrive&&a.adthrive.plugin;a=(a=a.adthriveCLS)&&a.experiments;b=!!(a&&"clsins_ss"in
a)||!(!b||!Fk("adthrive-ads-1.1.0",b));return!!(this.settings&&this._adDensityEnabled&&b)}};Bf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],Bf);let en=a=>{var b=a.downlink;b=void 0===b?"unknown":10>b?"slow":"fast";if("desktop"===a.device)switch(b){case "fast":return"InitialTimeoutDesktopFastExperiment";case "slow":return"InitialTimeoutDesktopSlowExperiment";case "unknown":return"InitialTimeoutDesktopUnknownExperiment"}else switch(b){case "fast":return"InitialTimeoutMobileFastExperiment";
case "slow":return"InitialTimeoutMobileSlowExperiment";case "unknown":return"InitialTimeoutMobileUnknownExperiment"}},Cf=class extends T{init(){let a=E.resolve(vb);this._key=en(a)}};Cf=k([p("InitialTimeoutExperiment"),q()],Cf);let Df=class{constructor(a){var b;this.initialBidsRequest=null!==(b=a.result)&&void 0!==b?b:2400;this.refreshBidsRequest=5E3}};Df=k([q(),l("design:paramtypes",[Cf])],Df);let Ef=class{constructor(){this._data={}}set(a){this._data={...this._data,...a}}get(){return 0!==Object.keys(this._data).length?
this._data:void 0}getByKey(a){return this._data[a]}clear(){this.set({})}};Ef=k([p("UserPageDataLoggingStore"),q()],Ef);let xb=class{constructor(a){this._userPageDataLoggingStore=a;this.loggingData=new z;this._maxTimeOnPage=36E5;this._listeners=[];this._callbacks=new Set;this._requestSent=!1;setTimeout(()=>{this._callbacks.forEach(b=>this._executeCallback(b));this.cleanup()},this._maxTimeOnPage)}_executeCallback(a){a();this._callbacks.delete(a);0===this._callbacks.size&&this.logUserPageData()}setUserPageData(a){a&&
this._userPageDataLoggingStore.set(a)}logUserPageData(){this._requestSent||(r.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(a,b){this._callbacks.add(b);a.forEach(c=>{this._listeners.push(c.on(()=>this._executeCallback(b)))})}cleanup(){this._listeners.forEach(a=>{a()});this._listeners=[];this._callbacks.clear()}};xb=k([p("UserPageDataLoggingEvents"),q(),l("design:paramtypes",[Ef])],xb);let bd=class{constructor(a,
b){this._userPageDataLoggingEvent=a;this._pageManager=b;this.prebidDuration=this.prebidFinished=this.prebidStarted=this.floorsDuration=this.floorsFinished=this.floorsStarted=this.marmaladeDuration=this.marmaladeFinished=this.marmaladeStarted=this.gamDuration=this.gamFinished=this.gamStarted=this.amazonDuration=this.amazonFinished=this.amazonStarted=this.bootstrapFinished=this.totalTimeOnPage=this.loading=this.delay=this.started=0;this.started=fa();"visible"===document.visibilityState&&(this.timeOnPage=
this.started);this._pageManager.visibilityChange.on(()=>this.documentVisibilityChanged());a.loggingData.on(()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=fa()-this.timeOnPage)})}setNonBlockingLibraryTimingData(a){let b=a.get(qa.Prebid);a=a.get(qa.Amazon);this._setPrebidTimingData(b);this._setAmazonTimingData(a)}_setPrebidTimingData(a){this.prebidStarted=a&&a.started||0;this.prebidFinished=a&&a.finished||0;this.prebidDuration=a&&a.started&&a.finished&&a.finished-a.started||0}_setAmazonTimingData(a){this.amazonStarted=
a&&a.started||0;this.amazonFinished=a&&a.finished||0;this.amazonDuration=a&&a.started&&a.finished&&a.finished-a.started||0}get timingData(){return{started:this.started,delay:this.delay,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,
marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,floorsStarted:this.floorsStarted,floorsFinished:this.floorsFinished,floorsDuration:this.floorsDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,...(this.timeOnPage&&{timeOnPage:this.timeOnPage})}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=fa():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=fa()-this.timeOnPage,
this.timeOnPage=void 0)}};bd=k([q(),l("design:paramtypes",[xb,va])],bd);let Ff=class extends T{init(){this._key="TKHO"}};Ff=k([p("TKHOExperiment"),q()],Ff);let Gf=class{constructor(a){this.tracker=a.result}};Gf=k([q(),l("design:paramtypes",[Ff])],Gf);let Hf=class{constructor(){let a=F.getLocalStorageValue("adt_ei",!1);a&&(this.hash="string"===typeof a&&a.match(/value/i)?this._retrieve64BitString(a):a)}_retrieve64BitString(a){return(a=a.match(/\w{64}/))?a[0]:void 0}};Hf=k([q(),l("design:paramtypes",
[])],Hf);let If=class extends ib{init(){this._key="VBHO"}};If=k([p("VBHOExperiment"),q()],If);let Jf=class extends J{init(){this._key="OptimalVideoBidders";this._default=!1}};Jf=k([p("OptimalVideoBiddersExperiment"),q()],Jf);let Kf=class{constructor(a,b){this.bidders=a.result||["none"];this.useMlBidders=b.result}};Kf=k([q(),l("design:paramtypes",[If,Jf])],Kf);let gc=class extends T{constructor(){super(...arguments);this.abgroup="cbt"}init(){this._key="CloseButtonTimeout"}run(){return super.run()}};
k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],gc.prototype,"run",null);gc=k([p("CloseButtonTimeoutExperiment"),q()],gc);let hc=class extends T{constructor(){super(...arguments);this.abgroup="vast_to"}init(){this._key="VastTimeout"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],hc.prototype,"run",null);hc=k([p("VastTimeoutExperiment"),q()],hc);let cd=class extends hb{constructor(a,b){super();
this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=ra.VideoAdvancePlaylistRelatedPlayer;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);a=this._siteExperiments.getVideoPlaylistByType("stickyPlaylist");this.enabled&&this.experimentConfig&&0<a.length&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&
this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("VideoAdvancePlaylistRelatedPlayerSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],cd.prototype,"run",null);cd=k([q(),l("design:paramtypes",[Fa,xa])],cd);class ia{static getScrollTop(){return(window.pageYOffset||
document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static getScrollBottom(){return this.getScrollTop()+(document.documentElement.clientHeight||0)}static shufflePlaylist(a){let b=a.length,c,d;for(;0!==b;)d=Math.floor(Math.random()*a.length),--b,c=a[b],a[b]=a[d],a[d]=c;return a}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(a){a=a.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>
a.top+a.height/2&&0<a.top+a.height/2:window.innerHeight>a.top+a.height/2}static createQueryString(a){return Object.keys(a).map(b=>`${b}=${a[b]}`).join("&")}static createEncodedQueryString(a){return Object.keys(a).map(b=>`${b}=${encodeURIComponent(a[b])}`).join("&")}static setMobileLocation(a){a=a||"bottom-right";"top-left"===a?a="adthrive-collapse-top-left":"top-right"===a?a="adthrive-collapse-top-right":"bottom-left"===a?a="adthrive-collapse-bottom-left":"bottom-right"===a?a="adthrive-collapse-bottom-right":
"top-center"===a&&(a=I()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right");return a}static addMaxResolutionQueryParam(a){let b=`max_resolution=${I()?"320":"1280"}`,[c,d]=String(a).split("?");return`${c}?${d?d+`&${b}`:b}`}}let dd=class extends sa{constructor(a,b,c){super();this._result=!0;this.key="AdvancePlaylistRelated";this._choices=[{choice:!0},{choice:!1}];this.weight=1;var d=a.siteAds;a=d.adOptions.advancePlaylistOptions||{};d=d.videoPlayers;d=(d&&d.players||[]).filter(e=>"stickyPlaylist"===
e.type);(c=c.getCoreExperimentButMutateWeights(this.key))&&d.length&&B(a.relatedPlayer&&a.relatedPlayer.enabled,!0)&&(this._expConfigABGroup=c.abgroup,this.weight=c.variants[0].weight,this._result=this.run(),b.set(c.abgroup,this._result?"on":"off"))}get result(){return this._result}run(){return(new ba(this.weight)).get()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],dd.prototype,"run",null);dd=k([p("AdvancePlaylistRelatedExperiment"),q(),S(0,R("AdThrive")),
l("design:paramtypes",[Object,aa,Ma])],dd);let ed=class extends sa{constructor(a,b,c){super();this._result=!0;this.key="AdvancePlaylistExperiment";this._choices=[{choice:!0},{choice:!1}];this.weight=1;var d=a.siteAds.adOptions.advancePlaylist;d=(a=a.siteAds.adOptions.advancePlaylistOptions)?a&&a.playlistPlayer&&a.playlistPlayer.enabled:d;(c=c.getCoreExperimentButMutateWeights(this.key))&&B(d,!0)&&(this._expConfigABGroup=c.abgroup,this.weight=c.variants[0].weight,this._result=this.run(),b.set(c.abgroup,
this._result?"on":"off"))}get result(){return this._result}run(){return(new ba(this.weight)).get()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],ed.prototype,"run",null);ed=k([p("AdvancePlaylistExperiment"),q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,aa,Ma])],ed);let fd=class extends T{init(){this._key="JwRequestTimeout"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],fd.prototype,
"run",null);fd=k([p("JwRequestTimeoutExperiment"),q()],fd);let Lf=class extends J{init(){this._key="LogAdDuration";this._default=!1}};Lf=k([p("LogAdDurationExperiment"),q()],Lf);let Mf=class extends J{init(){this._key="LogAdLifeCycle";this._default=!1}};Mf=k([p("LogAdLifeCycleExperiment"),q()],Mf);let gd=class extends sa{constructor(a,b){super();this._result=!0;this.key="Playbackmethod";this._choices=[{choice:!0},{choice:!1}];this._map=new Map([[x.Video_In_Post_ClicktoPlay_SoundOn,[3]],[x.Video_Collapse_Autoplay_SoundOff,
[6]],[x.Video_Coll_SOff_Smartphone,[6]],[x.Video_Individual_Autoplay_SOff,[6]]]);this.weight=1;if(b=b.getCoreExperimentButMutateWeights(this.key))this._expConfigABGroup=b.abgroup,this.weight=b.variants[0].weight,this.playbackmethod=(this._result=this.run())?this._map:void 0,a.set(b.abgroup,this._result?"on":"off")}get result(){return this._result}run(){return(new ba(this.weight)).get()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],gd.prototype,"run",null);
gd=k([p("PlaybackmethodExperiment"),q(),l("design:paramtypes",[aa,Ma])],gd);let hd=class extends T{init(){this._key="Protocols"}setABGroup(){var a;if(this._result){let b=-1;null===(a=this._choices)||void 0===a?void 0:a.forEach(c=>{var d;c.choice.value===(null===(d=this._result)||void 0===d?void 0:d.value)&&(b=c.weight)});super.setABGroup(this._result.value,this.abgroup,b)}}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],hd.prototype,
"run",null);hd=k([p("ProtocolsExperiment"),q()],hd);let Nf=class extends J{init(){this._key="ContentSpecificPlaylists";this._default=!1}};Nf=k([p("ContentSpecificPlaylistExperiment"),q()],Nf);let fn=()=>{const a=gb(".adthrive-content-specific-playlist");return a.valid&&a.elements&&a.elements.length?a.elements[0].getAttribute("data-playlist-id"):null},gn=a=>{const b=[],c=[],d=fn();if(d)return d;a.forEach(e=>{e.isDraft||(e.categories.some(f=>{f=gb(`.adthrive-cat-${f}`);return f.valid&&f.elements&&f.elements.length})?
b.push(e.playlistId):0===e.categories.length&&c.push(e.playlistId))});a=0<b.length?b:c;return a[Math.floor(Math.random()*a.length)]},Of=a=>{if(E.resolve(Nf).result&&a.length)return gn(a)},Pf=class extends T{init(){this._key="OutstreamPlacementExperiment"}run(){return super.run()}};Pf=k([p("OutstreamPlacementExperiment"),q()],Pf);let Qf=class extends J{init(){this._default=!1;this._key="DisplayBackupRenderer"}};Qf=k([p("StandardOutstreamBackupRendererExperiment"),q()],Qf);let Rf=class extends J{init(){this._key=
"StickyOutstreamBottomLeftExperiment";this._default=!1}};Rf=k([p("StickyOutstreamBottomLeftExperiment"),q()],Rf);let Sf=class{constructor(a,b,c,d,e,f,h,m,n,u,w,t){var A;this.players=[];this.instreamAdUnits=new Set([x.Video_Collapse_Autoplay_SoundOff,x.Video_Individual_Autoplay_SOff,x.Video_Coll_SOff_Smartphone,x.Video_In_Post_ClicktoPlay_SoundOn]);this.closeButtonTimeout=B(b.result,4E3);this.vastTimeout=B(c.result,1E4);this.maxRedirect=8;this.apiValue=[2,7];this.videoWasClosed=B(F.getLocalStorageValue("video_closed",
!0,!0,18E5),!1);this.mobileStickyPlayerOnPage=!1;this.playbackmethod=e.playbackmethod;this.outstreamPlacement=u.result||0;this.logAdDuration=f.result;this.logAdLifeCycle=h.result;this.jwRequestTimeout=B(m.result,15E3);this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"];this.videoProtocols=d.result;this.position={id:1,name:"above"};this.removeVideoTitleWrapper=B(a.siteAds.adOptions.removeVideoTitleWrapper,
!1);b=a.siteAds.videoPlayers;this.footerSelector=B(b&&b.footerSelector,"");this.players=B(b&&b.players.map(G=>{G.mobileLocation=ia.setMobileLocation(G.mobileLocation);return G}),[]);this.contextualSettings=b&&b.contextual;this.jwPlaylist=this.getPlayListPlayerVideos(a);this.advancePlaylist=this.getAdvancePlaylistConfig(a,n);this.contentSpecificPlaylists=null===(A=a.siteAds.videoPlayers)||void 0===A?void 0:A.contentSpecificPlaylists;this.setStandardOutstreamBackupRenderer=w.result;this.stickyOutstreamBottomLeftResult=
t.result;this.stickyOutstreamSettings=this._getStickyOutstreamSettings(a)}setupAdvanceRelatedExperiment(a){let b=E.resolve(cd),c=E.resolve(dd),d=this.advancePlaylist.relatedPlayer;if(b.enabled)d.applyToFirst=b.result,d.shouldRun=this.jwPlaylist.then(e=>"object"===typeof e&&b.result).catch(()=>Promise.reject().catch(()=>!1));else{let e=(a=a?d.sticky:d.static)?a.enabled:d.enabled;d.applyToFirst=a?a.applyToFirst:d.applyToFirst;d.shouldRun=this.jwPlaylist.then(f=>"object"===typeof f&&e&&c.result).catch(()=>
Promise.reject().catch(()=>!1))}}getPlayListPlayerVideos(a){var b,c=a.siteAds.videoPlayers;c=(c&&c.players||[]).filter(d=>"stickyPlaylist"===d.type);return(b=(b=(a=null===(b=a.siteAds.videoPlayers)||void 0===b?void 0:b.contentSpecificPlaylists)&&Of(a))?b:c.length&&c[0].playlistId)?gk(ia.addMaxResolutionQueryParam(`${"https://cdn.jwplayer.com/v2/playlists/"}${b}`)):Promise.reject().catch(()=>!1)}getAdvancePlaylistConfig(a,b){a=(a.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:b.result},
relatedPlayer:{applyToFirst:B(a.applyToFirst,!0),enabled:B(a.enabled,!0),shouldRun:Promise.reject().catch(()=>!1),static:a.static,sticky:a.sticky}}}_getStickyOutstreamSettings(a){let b=a.siteAds.video&&a.siteAds.video.partners.stickyOutstream;a=B(a.siteAds.videoPlayers&&a.siteAds.videoPlayers.partners&&a.siteAds.videoPlayers.partners.stickyOutstream||b,{blockedPageSelectors:"",mobile:{enabled:!1},desktop:{enabled:!1},allowForPageWithStickyPlayer:{enabled:!1},allowOnHomepage:!1,mobileHeaderSelector:"",
mobileLocation:this.stickyOutstreamBottomLeftResult?"bottom-left":"bottom-right",saveVideoCloseState:!1});a.mobileLocation=this.stickyOutstreamBottomLeftResult?"bottom-left":a.mobileLocation;return a}};Sf=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object,gc,hc,hd,gd,Lf,Mf,fd,ed,Pf,Qf,Rf])],Sf);let id=class extends hb{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._choices=[];this._result=!1;this.key=ra.RemoveVideoTitleWrapper;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);
this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("RemoveVideoTitleWrapperSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};
k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],id.prototype,"run",null);id=k([q(),l("design:paramtypes",[Fa,xa])],id);let Tf=class extends T{init(){this._key="JWPVersionExperiment"}};Tf=k([p("JWPVersionExperiment"),q()],Tf);let Uf=class extends T{constructor(){super(...arguments);this.abgroup="vmaxdur"}init(){this._key="VideoDuration"}};Uf=k([p("VideoMaxDurationExperiment"),q()],Uf);let Vf=class{constructor(a,b,c,d,e,f){this._videoAdOptions=a;this.apiValue=
[2,7];this.hasStickyOutstream=this.preventStickyOutstream=this.hasJwPlayer=this.contextualPlayerAdded=this.playlistPlayerAdded=this.mobileStickyPlayerOnPage=!1;this.footerSelector="";this.removeVideoTitleWrapper=!1;this.instreamAdUnits=new Set([x.Video_Collapse_Autoplay_SoundOff,x.Video_Individual_Autoplay_SOff,x.Video_Coll_SOff_Smartphone,x.Video_In_Post_ClicktoPlay_SoundOn]);this.plcmtUnits=new Map([[x.Video_Collapse_Autoplay_SoundOff,2],[x.Video_Individual_Autoplay_SOff,2],[x.Video_Coll_SOff_Smartphone,
2],[x.Video_In_Post_ClicktoPlay_SoundOn,1]]);this.gamDiscount=.16;this.minFloor=.1753;this.jwpVersion=null;a=this._videoAdOptions;this.closeButtonTimeout=B(b.result,4E3);this.vastTimeout=c.result;this.position={id:1,name:"above"};this.maxRedirect=8;this.playbackmethod=a.playbackmethod;this.advancePlaylist=a.advancePlaylist;this.jwPlaylist=a.jwPlaylist;this.setupAdvanceRelatedExperiment=a.setupAdvanceRelatedExperiment;this.contextualSettings=a.contextualSettings;this.mimeType=a.mimeType;this.outstreamPlacement=
a.outstreamPlacement;this.videoProtocols=a.videoProtocols;this.closeButtonTimeout=a.closeButtonTimeout;this.jwRequestTimeout=a.jwRequestTimeout;this.logAdDuration=a.logAdDuration;this.logAdLifeCycle=a.logAdLifeCycle;this.vastTimeout=a.vastTimeout;this.videoWasClosed=a.videoWasClosed;this.removeVideoTitleWrapper=d.enabled?d.result:a.removeVideoTitleWrapper;this.players=a.players;this.footerSelector=a.footerSelector;this.stickyOutstreamSettings=a.stickyOutstreamSettings;this.maxDuration=e.result||30;
this.contentSpecificPlaylists=a.contentSpecificPlaylists;this.jwpVersion=f.result&&"none"!==f.result?f.result:null;this.setStandardOutstreamBackupRenderer=a.setStandardOutstreamBackupRenderer}};Vf=k([q(),l("design:paramtypes",[Sf,gc,hc,id,Uf,Tf])],Vf);let Wf=class extends ib{init(){this._setAbGroup=!1;this._key="VideoOpenBidderExperiment"}};Wf=k([p("VideoOpenBidderExperiment"),q()],Wf);let Xf=class{constructor(a){this.bidders=a.result||["none"]}};Xf=k([q(),l("design:paramtypes",[Wf])],Xf);let y=class{constructor(a,
b,c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P,K,Y,Q,ma,ua,Wa,ic,jc,yb,kc,zb,lc,mc,jb,Yf,Zf,$f,ag,bg,jd,cg){this.abGroup=a;this.act25=b;this.adOptions=c;this.adTypes=d;this.amazon=e;this.ccpa=f;this.gpc=h;this.clsOptimizedAds=m;this.comscore=n;this.context=u;this.disableAds=w;this.displayOpenBidding=t;this.impressionLog=A;this.floors=G;this.footer=N;this.gam=O;this.gdpr=H;this.hbho=P;this.identityApi=K;this.idho=Y;this.infiniteScroll=Q;this.lazyLoad=ma;this.liveRampAts=ua;this.locale=Wa;this.marmalade=ic;this.partners=
jc;this.pubAbGroup=yb;this.prebid=kc;this.site=zb;this.targetDensity=lc;this.timeouts=mc;this.timing=jb;this.tkho=Yf;this.user=Zf;this.vbho=$f;this.video=ag;this.videoOpenBidding=bg;this._dynamicAdsMapper=jd;this._bootstrapEventBus=cg;this.dynamicAds=jd.get();a=E.resolve(wb);a.enabled&&(this.clsOptions=a)}resetDynamicAds(){this.dynamicAds=this._dynamicAdsMapper.get()}};y=k([q(),l("design:paramtypes",[aa,Ge,Tc,Ke,We,Xe,jf,Ye,Ze,vb,$e,bf,qf,Yb,gf,Xc,hf,mf,nf,of,rf,sf,tf,uf,$c,vf,xa,Af,ad,Bf,Df,bd,Gf,
Hf,Kf,Vf,Xf,ff,Ub])],y);class Gk{constructor(a,b,c,d,e,f=!1,h=8,m,n=[],u=!0,w=!1){this.location=a;this.sequence=b;this.sizes=c;this.element=d;this.sticky=e;this.lazy=f;this.auctionPriority=h;this.stickyOverlapSelector=m;this.special=n;this.enabledForAuction=u;this.infinite=w;this.isRefreshing=this.refreshPaused=!1;this.slotFullyRenderedDuration=this.viewableDuration=0;this.outOfViewGPT=this.outOfViewIO=!0;this.displayed=this.alwaysInView=!1;this.viewability=this.refreshCount=0;this.highlyViewable=
!1;this.hvp=0;this.servedPrebidBidResponse=void 0;this.lazyDisabled=!1;this.transactionId="";"Video_StickyOutstream"===this.location&&(this.noAdRefreshCount=this.stickyOutstreamErrorCount=0,this.stickyOutstreamErrorLogged=!1)}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===this.location}setHighlyViewable(a){a=this.viewability>=Number(a&&a.hvThreshold);this.highlyViewable=this.lazy||a}setBidPoolId(a){var b=this.lazy;let c=this.location.toLowerCase().includes("content"),
d=this.sequence;b=c&&d&&4<=d&&!b?"_Nonlazy":c&&b?"_Lazy":"";!a.includes(this.location)||c&&!b||(this.bidPoolId=`${this.location}_BPID${b}`)}setPassiveBidPoolId(){let a=this.lazy,b=this.location.toLowerCase().includes("content");!a&&b&&(this.passiveBidPoolId="Content_BPID_Lazy")}isHighlyViewable(){return this.highlyViewable||this.lazy||0<this.refreshCount}get isAboveTheFold(){return 1E3<this.element.getBoundingClientRect().top+window.pageYOffset}hasSize([a,b]){return this.sizes.some(([c,d])=>a===c&&
b===d)}get name(){return[this.location,this.sequence].filter(sb).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&9<this.sequence?"Content_9":this.name.includes("Below_Post")?"Below_Post":"Sidebar"===this.location&&this.sequence&&9<this.sequence?"Sidebar_9":"Recipe"===this.location&&this.sequence&&5<this.sequence?"Recipe_2":this.name}pushToQueue(a){let b=window.googletag;b&&b.cmd&&b.cmd.push(a)}setViewability(a){let b=a.adViewability.length&&void 0!==a.adViewability[0].home&&
void 0!==a.adViewability[0].depth&&void 0!==a.adViewability[0].lazy,c="/"===window.location.pathname?"1":"0",d=F.getLocalStorageValue("session_fpv"),e=!0===d||null===d?"1":"0";a.adViewability.filter(f=>f.speed===a.speed&&window.innerWidth>=f.width[0]&&(!f.width[1]||window.innerWidth<=f.width[1])&&(!b||f.home===c&&f.depth===e&&this.lazy===f.lazy)).forEach(f=>{Object.keys(f.adUnits).forEach(h=>{h===this.name?this.viewability=f.adUnits[h]:"Content"===this.location&&9<this.sequence?this.viewability=f.adUnits.Content:
"Below_Post"===this.location&&1<this.sequence&&(this.viewability=f.adUnits.Below_Post)})})}clearTargeting(a){this.googleTagSlot?this.googleTagSlot.clearTargeting(a):r.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",a)}setTargeting(a){this.pushToQueue(()=>{if(this.googleTagSlot){let b=Array.isArray(a)?a:[a];for(let c of b)this.googleTagSlot.setTargeting(c.key,c.value)}else r.error("Slot","setTargeting","Attempted to set targeting before slot was defined",a)})}setSlotTargetingFlag(a,
b,c=!1){let d=()=>{if(this.googleTagSlot){const e=this.googleTagSlot.getTargeting("flag_slot").filter(f=>{[f]=f.split(":");return!c||f!==a});this.googleTagSlot.setTargeting("flag_slot",[...e,...b.map(f=>`${a}:${f}`)])}};b&&0<b.length&&this.pushToQueue(()=>d())}getTargeting(a){if(this.googleTagSlot)return this.googleTagSlot.getTargeting(a);r.error("Slot","getTargeting","Attempted to get targeting before slot was defined",a);return[]}setTransactionId(a){this.transactionId=a}getTargetingMap(){if(this.googleTagSlot){let a=
this.googleTagSlot;return a.getTargetingKeys().reduce((b,c)=>{b[c]=a.getTargeting(c);return b},{})}r.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined");return{}}}let la=class{constructor(){this.added=new z;this.bidServed=new z;this._slots=new Map}add(a){let b=sessionStorage.getItem("adthrive_footer_closed");a=this.castArray(a);b&&(a=a.filter(c=>"Footer"!==c.location));for(let c of a)if(!this._slots.has(c.id)){this._slots.set(c.id,c);try{this.added.emit(c)}catch(d){r.error("Slots",
"add",d)}}return a}remove(a){a=this.castArray(a);for(let b of a)this._slots.has(b.id)&&this._slots.delete(b.id)}get(a){return a?this._slots.get(a):[...this._slots.values()]}castArray(a){return"string"===typeof a?(a=this.get(a),void 0!==a?[a]:[]):Array.isArray(a)?a:[a]}};la=k([p("Slots"),q()],la);let dg=class{getBidWithBsidForSlot(a,b){let c=a.filter(d=>d.meta&&d.meta.dchain);b=new RegExp(`${b.location}_${b.sequence}(?!\d)`,"i");for(let d=a.length-1;0<=d;d--){let {adUnitCode:e,meta:f}=a[d];if(b.test(e)&&
this.getLastBsid(f))return c[d]}}getLastBsid(a={}){({dchain:a}=a);a=a&&a.nodes||[];for(let b=a.length-1;0<=b;b--)if(a[b].bsid)return a[b].bsid}};dg=k([p("DemandChain"),v()],dg);let nc=class{constructor(a,b){this._slots=a;this._slotEventBus=b;this.slotIntersectionObservers=new Map;this.unobservedSlotIntersectionObservers=new Map}observe(a,b){a=this.getIntersectionObserver(a);this.slotIntersectionObservers.set(b,a);this.unobservedSlotIntersectionObservers.set(b,a);a.observe(b.element)}unobserve(a){let b=
this.unobservedSlotIntersectionObservers.get(a);b&&(b.unobserve(a.element),this.unobservedSlotIntersectionObservers.delete(a))}unobserveAll(a=!0){this.unobservedSlotIntersectionObservers.forEach((b,c)=>{this.unobserve(c);a&&this._slotEventBus.displaySlot.emit(c)})}getIntersectionObserver(a){return new IntersectionObserver(b=>{for(const c of b)this.processEntry(c)},{rootMargin:`${a/100*window.innerHeight}px 0px`,threshold:[0]})}processEntry(a){let b=this._slots.get(a.target.id);b&&0<a.intersectionRatio&&
this.unobservedSlotIntersectionObservers.has(b)&&(this._slotEventBus.displaySlot.emit(b),this.unobserve(b))}};nc=k([p("IntersectionObserverManager"),q(),l("design:paramtypes",[la,Ia])],nc);let eg=class extends T{init(){this._key="DCSLLSiteSpecific"}};eg=k([p("DCSLLSiteSpecificExperiment"),q()],eg);let hn={phone:"mobile",desktop:"desktop",tablet:"tablet"},jn=a=>{if(!a||0===a.length)return!0;if(100!==a.reduce((c,{weight:d})=>c+d,0))return r.error("DCSLLSiteSpecificMarmaladeExperiment","validation",
"Sum of weights is not 100"),!1;a=a.map(({choice:c})=>c);const b=[...(new Set(a))];return a.length!==b.length?(r.error("DCSLLSiteSpecificMarmaladeExperiment","validation","Duplicate choices found in DCSLLM site specific experiment"),!1):a.filter(c=>"off"!==c).every(c=>!isNaN(Number(c)))?!0:(r.error("DCSLLSiteSpecificMarmaladeExperiment","validation","Non-numeric choices found in DCSLLM site specific experiment"),!1)},kn=a=>{const b=a.context.device;var c=(a=null===(c=a.marmalade)||void 0===c?void 0:
c.dcsllSiteSpecific)?a[hn[b]]:void 0;c=null===c||void 0===c?void 0:c.variants.map(({value:d,weight:e})=>({choice:`${d}`,weight:e}));return jn(c)?c:null},fg=class{constructor(a,b){this.abgroup="dcsllm_ss";this._choices=this._result=void 0;b=kn(b);this._choices=null!==b&&void 0!==b?b:void 0;this._result=this.run();a.set(this.abgroup,this._result)}get result(){return this._result}run(){return(new ub(this._choices)).get()}};fg=k([p("DCSLLSiteSpecificMarmaladeExperiment"),q(),l("design:paramtypes",[aa,
y])],fg);let gg=class extends C{constructor(a,b,c,d,e){super();this._slotEventBus=a;this._intersectionObserverManager=b;this._config=c;this.cpmThresholdMet=!1;this._dcsllSiteSpecificExperimentResult=this._config.adOptions.dynamicContentSlotLazyLoading?e.result||d.result:"off"}isContentSlot(a){return"Content"===a.location}isBelowPostSlot(a){return"Below_Post"===a.location}isRecipeSlot(a){return"Recipe"===a.location}isValidLocation(a){return this.isContentSlot(a)||this.isBelowPostSlot(a)||this.isRecipeSlot(a)}isValidSequence(a){return this.isBelowPostSlot(a)?
a.sequence&&1>=a.sequence:this.isRecipeSlot(a)?!0:a.sequence&&9>=a.sequence}isCPMSlot(a){return a.sequence&&2>=a.sequence&&this.isContentSlot(a)}isTargetSlot(a){return a.lazy&&!this.isCPMSlot(a)&&this.isValidSequence(a)&&this.isValidLocation(a)}_sortByCpm(a,b){return a.cpm===b.cpm?0:a.cpm<b.cpm?1:-1}getSlotCPM(a,b){return a.prebidAdUnit&&a.prebidAdUnit.length&&a.prebidAdUnit[0].code&&(a=b.getBidResponsesForAdUnitCode(a.prebidAdUnit[0].code).bids.sort(this._sortByCpm),0<a.length)?a[0].cpm:0}checkThresholdMet(a,
b){!this.cpmThresholdMet&&this.isCPMSlot(a)&&this._dcsllSiteSpecificExperimentResult&&(this.cpmThresholdMet=this.getSlotCPM(a,b)>=parseFloat(this._dcsllSiteSpecificExperimentResult))&&this.loadRemainingSlots();return this.cpmThresholdMet}loadRemainingSlots(){this._intersectionObserverManager.unobservedSlotIntersectionObservers.forEach((a,b)=>{this.isTargetSlot(b)&&(this._intersectionObserverManager.unobserve(b),this._slotEventBus.displaySlot.emit(b))})}lazyLoadingEnabledForSlot(a,b){if(!a||!a.googleTagSlot)r.error("DynamicContentSlotLazyLoadingComponent",
"lazyLoadingEnabledForSlot","Slot not configured");else if("off"!==this._dcsllSiteSpecificExperimentResult&&this.checkThresholdMet(a,b)&&this.isTargetSlot(a))return a.setSlotTargetingFlag("dcsll",["true"]),a.lazyDisabled=!0,!1;return a.lazy}};gg=k([p("DynamicContentSlotLazyLoadingComponent"),q(),l("design:paramtypes",[Ia,nc,y,eg,fg])],gg);var Ab;(function(a){a.GetPiiData="adthrive_GetPiiData";a.SetPiiData="adthrive_SetPiiData";a.DeletePiiData="adthrive_DeletePiiData";a.SendPiiData="adthrive_SendPiiData"})(Ab||
(Ab={}));let kd=class{constructor(a,b){this._bootstrapConfig=a;this._piiEventBus=b;this._host="adthriveDevelopmentMode"in window?"https://localhost:8080":"https://ads.adthrive.com";this._frame=document.createElement("iframe");this._frameSrc=`${this._bootstrapConfig.baseUrl.replace("/gdpr","")}/html/i.html`;this.enabled&&this._addIframeToPage().then(()=>{r.log("PiiIframeManager","constructor","Successfully initialized identity iframe");this._piiEventBus.iframeReady.emit();this._setupEventListeners()}).catch(c=>
{r.error("PiiIframeManager","constructor","Failed to initialize identity iframe",c)})}get enabled(){return!this._bootstrapConfig.ccpaUserOptedOut}deleteData(){try{this._frame.contentWindow&&this._frame.contentWindow.postMessage({action:Ab.DeletePiiData},this._host)}catch(a){r.error("PiiIframeManager","deleteIdentity","Failed to delete identity data",a)}}setData(a){try{this._frame.contentWindow&&this._frame.contentWindow.postMessage({action:Ab.SetPiiData,piiData:a},this._host)}catch(b){r.error("PiiIframeManager",
"setIdentity","Failed to set identity data",b)}}getData(){try{this._frame.contentWindow&&this._frame.contentWindow.postMessage({action:Ab.GetPiiData},this._host)}catch(a){r.error("PiiIframeManager","getIdentity","Failed to get identity data",a)}}_addIframeToPage(){return new Promise(a=>{this._frame.src=this._frameSrc;this._frame.id="adthrive-pii";this._frame.style.display="none";this._frame.onload=()=>{a()};document.body.appendChild(this._frame)})}_setupEventListeners(){this._piiEventBus.dataCaptured.on(a=>
{let {sha1Hash:b,sha256Hash:c}=a;(c||b)&&this.setData({sha1Hash:b,sha256Hash:c})},{handleEventsAlreadyEmitted:!0});this._bootstrapConfig.ccpaConsentChange.on(a=>{a===this._bootstrapConfig.ccpaOptOut&&this.deleteData()});this._frame.contentWindow&&window.addEventListener("message",this._handleMessageEvent.bind(this))}_handleMessageEvent(a){let b=a.data.piiData;a.origin===this._host&&a.data.action===Ab.SendPiiData&&this._piiEventBus.dataSentFromIframe.emit(b||null)}};kd=k([p("PiiIframeManager"),q(),
l("design:paramtypes",[ka,Va])],kd);let oc=class{constructor(a,b){this._piiEventBus=a;this._piiIframeManager=b;this._elements=[];this._emailProviderOnPage=!1;this.piiManagerReady=new z;this.emailCaptured=new z;this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}];this._emailCheckTimeout=1500;this._eventMap=new Map([["mousemove",window],["scroll",window],["mouseleave",document],["om.Campaign.startShow",
document]]);this._boundCallEventHandler=this.callCheckEmailProviders.bind(this);this._boundProcessEventHandler=this.processInputChange.bind(this);this._addElementListeners();this.addEmailProviderListeners()}captureEmail(a,b,c){b=this.checkSources(b);this.emailCaptured.emit({email:a,source:`${b}_c`})}checkSources(a){a="slickstream"===a?"ss":a;let b="url c nl ss l_s l_i api".split(" ");return a&&b.includes(a)?a:"o"}_processHash(a,b){return a&&"string"===typeof a&&a.match(/value/i)?this._retrieveBitHashString(a,
b):a||""}collectEmailFromStorage(){this.piiManagerReady.once(()=>{let [a,b]=this._getStoredHashInfo(),c=this._getStoredSource(b);a?this._processStoredHash(a,c):this._collectFromIframe()})}_getStoredHashInfo(){var a=ha("adt_ei");a=a?JSON.parse(a):null;let b=F.getLocalStorageValue("adt_ei",!1),c=null,d=!1;a?(c=a,d=!0):b&&(c="string"===typeof b?{sha256Hash:b,sha1Hash:""}:b);return[c,d]}_getStoredSource(a=!1){var b=ha("adt_emsrc");b=(b=(b?JSON.parse(b):null)||F.getLocalStorageValue("adt_emsrc",!1)||"l_s",
b.match(/value/i))?this._retrieveSourceString(b):b;let c="url"===b,d=b.includes("_c");b=c?"url_c":b;b=d?b.replace("_c","_s"):b;return a?"cki_s":b}_processStoredHash(a,b){var c=[{key:"sha256Hash",length:64},{key:"sha1Hash",length:40}];for(let d of c)c=a[d.key],c.length&&(a[d.key]=this._processHash(c,d.length));a&&(a.sha256Hash||a.sha1Hash)&&this.emailCaptured.emit({sha256Hash:a.sha256Hash,sha1Hash:a.sha1Hash,source:b})}_collectFromIframe(){this._piiEventBus.dataSentFromIframe.once(a=>{a&&this.emailCaptured.emit({...a,
source:"l_i"})});this._piiEventBus.iframeReady.on(()=>this._piiIframeManager.getData(),{handleEventsAlreadyEmitted:!0})}_retrieveBitHashString(a,b){return(a=a.match(`\\w{${b}}`))?a[0]:""}_retrieveSourceString(a){return(a=a.match(/[a-z]{1,3}_[a-z]{1}/))?a[0]:"l_s"}addEmailProviderListeners(){this._eventMap.forEach((a,b)=>{a.addEventListener(b,this._boundCallEventHandler)})}removeEmailProviderListeners(){this._eventMap.forEach((a,b)=>{a.removeEventListener(b,this._boundCallEventHandler)})}callCheckEmailProviders(a){("mouseleave"!==
a.type||0>=a.clientY)&&setTimeout(()=>{this._emailProviderOnPage||this.emailProviderHandler()},this._emailCheckTimeout)}emailProviderHandler(){for(let a of this._emailProviders)if(document.querySelectorAll(a.divSelector).length){this.removeEmailProviderListeners();this._emailProviderOnPage=!0;this._addElementListeners();break}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}_addElementListeners(){this.setElements();
for(let a of this._elements)a.addEventListener("blur",this._boundProcessEventHandler),a.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(let a of this._elements)a.removeEventListener("blur",this._boundProcessEventHandler),a.removeEventListener("change",this._boundProcessEventHandler)}sourceOrigin(a){if(a.form&&({id:a}=a.form,"string"===typeof a))return a.includes("comment")?"c":a.includes("subscribe")?"nl":void 0}processInputChange(a){var b=a.target;if(a=dk(b.value.toLowerCase().replace(/\s/g,
"")))b=this.sourceOrigin(b),this.captureEmail(a,b,"_processInputChange"),this.removeElementListeners()}};oc=k([p("EmailCaptureHandler"),q(),l("design:paramtypes",[Va,kd])],oc);class V{addAdUnits(a){this.addToQueue(()=>{window.pbjs.addAdUnits(a)})}getPrebidAdUnits(){return window.pbjs&&window.pbjs.adUnits}addToQueue(a){window.pbjs.que.push(a)}enableAnalytics(a){this.addToQueue(()=>{window.pbjs.enableAnalytics(a)})}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}getVersion(){return window.pbjs&&
window.pbjs.version||"nl"}markWinningBidAsUsed(a){this.addToQueue(()=>{window.pbjs.markWinningBidAsUsed(a)})}offEvent(a,b){this.addToQueue(()=>{window.pbjs.offEvent(a,b)})}onEvent(a,b){this.addToQueue(()=>{window.pbjs.onEvent(a,b)})}refreshUserIds(a,b){this.addToQueue(()=>{window.pbjs.refreshUserIds(a,b)})}requestBids(a){this.addToQueue(()=>{window.pbjs.requestBids(a)})}setAliasBidder(a,b,c){this.addToQueue(()=>{c?window.pbjs.aliasBidder(a,b,c):window.pbjs.aliasBidder(a,b)})}setBidderConfig(a,b=!1){this.addToQueue(()=>
{window.pbjs.setBidderConfig(a,b)})}setBidderSettings(a){this.addToQueue(()=>{window.pbjs.bidderSettings=a})}setBidsReceivedFilter(a){this.addToQueue(()=>{window.pbjs.setBidsReceivedFilter(a)})}setConfig(a){this.addToQueue(()=>{window.pbjs.setConfig(a)})}setTargetingForGPTAsync(a,b=null,c="",d,e,f){this.addToQueue(()=>{window.pbjs.setTargetingForGPTAsync(a,b,c,d,e,f)})}triggerUserSyncs(){this.addToQueue(()=>{window.pbjs.triggerUserSyncs()})}registerSignalSources(){this.addToQueue(()=>{window.pbjs.registerSignalSources()})}clearTargetingForSharedBidPool(a){this.addToQueue(()=>
{window.pbjs.clearTargetingForSharedBidPool(a)})}clearAllAuctions(){this.addToQueue(()=>{window.pbjs.clearAllAuctions()})}waitForQueue(){return new Promise(a=>{this.isPrebidLoaded()||a(!1);window.pbjs.que.push(()=>{a(!0)})})}getBidResponsesForAdUnitCode(a){return window.pbjs.getBidResponsesForAdUnitCode(a)}getUserIdsAsEids(){return window.pbjs.getUserIdsAsEids()}getBidResponsesForBidPoolId(a){return pbjs.getBidResponsesForBidPoolId(a)}getAdserverTargetingForAdUnitCode(a){return window.pbjs.getAdserverTargetingForAdUnitCode(a)}getAllPrebidWinningBids(){return window.pbjs.getAllPrebidWinningBids()}getConfig(a,
b){return b?window.pbjs.getConfig(a,b):window.pbjs.getConfig(a)}getHighestCpmBids(a){return window.pbjs.getHighestCpmBids(a)}getHighestCpmBidsForPoolId(a){return window.pbjs.getHighestCpmBidsForPoolId(a)}getUserIds(){return window.pbjs.getUserIds()}removeAdUnit(a){return window.pbjs.removeAdUnit(a)}removeAllAdUnits(){var a;let b=[...(null!==(a=pbjs.adUnits)&&void 0!==a?a:[])];window.pbjs.adUnits=[];return b}}var na;let D=na=class{constructor(a,b,c,d,e,f,h,m){this._config=a;this._bootstrapEventBus=
b;this._consentEventBus=c;this._slots=d;this.emailCapture=e;this._prebidMethods=f;this._demandChain=h;this._dynamicContentSlotLazyLoadingComponent=m;this._started=!1;this._postStartTargetingWhiteList="bms pvk flag hi_au abgroup pubab mcmp fpv rf".split(" ");this.impressionViewable=new z;this.slotOnload=new z;this.slotRenderEnded=new z;this.slotVisibilityChanged=new z;this.slotRequested=new z;this.slotResponseReceived=new z;this.started=new z}init(){this.emailCapture.collectEmailFromStorage();na.pushToQueue(()=>
{let a=window.googletag.pubads();a.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0});let b=Xb();a.set("page_url",this._config.context.pageUrl);a.enableSingleRequest();a.disableInitialLoad();a.setPrivacySettings({childDirectedTreatment:b});this._addGamEventListeners();this._bootstrapEventBus.libraryLoadFailed.on(({bootstrapType:c})=>{c===qa.Prebid&&this.setTargetingFlag("pbjs",["failed"])},{handleEventsAlreadyEmitted:!0});if(this._config.act25.required)this._consentEventBus.act25consentCaptured.on(c=>
{this.setNonPersonalizedAds(!c)},{handleEventsAlreadyEmitted:!0})})}start(){na.pushToQueue(()=>{window.googletag.enableServices();try{this.started.emit()}catch(a){r.error("GoogleAdManager","start","started",a)}this._started=!0})}reset(){this._started=!1}static pushToQueue(a){window.googletag.cmd.push(a)}waitForQueue(){return new Promise(a=>{window.googletag.cmd.push(()=>{a(!0)})})}setTargeting(a){a=(Array.isArray(a)?a:[a]).filter(c=>!(!c.value||!c.value.length));let b=this._started?a.filter(c=>!this._postStartTargetingWhiteList.includes(c.key)):
[];if(b.length)a=b.map(c=>c.key).join(""),r.error("GoogleAdManager","setTargeting","Attempted to set targeting after started",a);else for(let c of a)c&&na.pushToQueue(()=>{window.googletag.pubads().setTargeting(c.key,c.value)})}setSlotTargeting(a,b){a=Array.isArray(a)?a:[a];for(let c of a)c&&na.pushToQueue(()=>{b.setTargeting(c.key,Array.isArray(c.value)?c.value.join(","):c.value)})}setTargetingFlag(a,b,c=!1){let d=()=>{const e=window.googletag.pubads().getTargeting("flag").filter(f=>{[f]=f.split(":");
return!c||f!==a});this.setTargeting({key:"flag",value:[...e,...b.map(f=>`${a}:${f}`)]})};b&&0<b.length&&na.pushToQueue(()=>d())}getTargeting(){return window.googletag.pubads().getTargetingKeys().map(a=>({key:a,value:window.googletag.pubads().getTargeting(a)}))}getTargetingValuesForKey(a){return window.googletag.pubads().getTargeting(a)}getTargetingMap(){let a=window.googletag.pubads();return a.getTargetingKeys().reduce((b,c)=>{b[c]=a.getTargeting(c);return b},{})}clearTargetingForKey(a){na.pushToQueue(()=>
{window.googletag.pubads().clearTargeting(a)})}_getPathname(a){return"Content"===a.location&&a.sequence&&9<a.sequence||"Below_Post"===a.location&&a.sequence&&1<a.sequence?a.location:"Sidebar"===a.location&&a.sequence&&9<a.sequence?a.name.replace(/\d+/,"9"):"Recipe"===a.location&&a.sequence&&5<a.sequence?a.name.replace(/\d+/,"2"):a.name}defineSlots(a){let {id:b}=this._config.site,{account:c,prefix:d}=this._config.gam;return a.map(e=>{var f=this._getPathname(e);f=`/${c}/${d}_${f}/${b}`;let h="Video_StickyOutstream"===
e.location?[...e.sizes]:[...e.sizes,"fluid"];this._setupSlot(e,f,h);return e}).filter(sb)}displaySlots(a){na.pushToQueue(async()=>{let b=window.googletag.pubads();window.googletag&&!window.googletag.pubadsReady&&r.error("index","load",Error(`Unexpected googletag.pubadsReady: ${window.googletag.pubadsReady}`));let c=[];await this._prebidMethods.waitForQueue().then(e=>{!0===e&&(c=this._prebidMethods.getAllPrebidWinningBids())});for(let e of a){var d=this._demandChain.getBidWithBsidForSlot(c,e);d&&(d=
this._demandChain.getLastBsid(d.meta))&&e.googleTagSlot.setTargeting("hb_bsid",d);window.googletag.pubads().enableLazyLoad(this._dynamicContentSlotLazyLoadingComponent.lazyLoadingEnabledForSlot(e,this._prebidMethods)?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled);b.refresh([e.googleTagSlot])}})}refreshSlots(a){na.pushToQueue(()=>{window.googletag.pubads().refresh(a.map(b=>b.googleTagSlot))})}clearSlots(a){na.pushToQueue(()=>{let b=a.map(c=>
c.googleTagSlot);window.googletag.pubads().clear(b)})}destroySlots(a){na.pushToQueue(()=>{let b=a.map(c=>c.googleTagSlot);window.googletag.destroySlots(b)})}setSharedIdAsPPID(a){let b=a.replace(/[\W_]/g,"");32<=b.length&&150>=b.length&&na.pushToQueue(()=>{window.googletag.pubads().setPublisherProvidedId(b)})}setGPIDasPPID(a){na.pushToQueue(()=>{window.googletag.pubads().setPublisherProvidedId(a)})}setNonPersonalizedAds(a){na.pushToQueue(()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:a})})}_addGamEventListeners(){this._addEventListener(this.impressionViewable,
"impressionViewable");this._addEventListener(this.slotOnload,"slotOnload");this._addEventListener(this.slotRenderEnded,"slotRenderEnded");this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged");this._addEventListener(this.slotRequested,"slotRequested");this._addEventListener(this.slotResponseReceived,"slotResponseReceived")}_addEventListener(a,b){na.pushToQueue(()=>{window.googletag.pubads().addEventListener(b,c=>{let d=this._slots.get(c.slot.getSlotElementId());if(d)try{a.emit({slot:d,
event:c})}catch(e){r.error("GoogleAdManager","addEventListener","emit",e)}})})}_setupSlot(a,b,c){let d=window.googletag.pubads();a.googleTagSlot="Interstitial"===a.location?window.googletag.defineOutOfPageSlot(b,window.googletag.enums.OutOfPageFormat.INTERSTITIAL):window.googletag.defineSlot(b,c,a.element.id);a.googleTagSlot?(a.googleTagSlot.addService(d).setTargeting("location",a.location).setTargeting("sequence",String(a.sequence)).setTargeting("id",a.id),(1===a.sequence&&a.isAboveTheFold||"Footer"===
a.location)&&a.googleTagSlot.setTargeting("ATF","true"),a.isSticky&&"Video_StickyOutstream"!==a.location&&a.googleTagSlot.setTargeting("sticky","true"),a.special&&0<a.special.length&&a.googleTagSlot.setTargeting("special",a.special),"Sponsor_Tile"===a.location&&a.googleTagSlot.setCollapseEmptyDiv(!0,!0),a.location.includes("Native")&&a.googleTagSlot.setCollapseEmptyDiv(!0),d.isInitialLoadDisabled()&&window.googletag.display(a.googleTagSlot)):r.error("GoogleAdManager","defineSlots","Duplicate",b)}};
D=na=k([p("GoogleAdManager"),q(),l("design:paramtypes",[y,Ub,Vb,la,oc,V,dg,gg])],D);let Na=class{constructor(a,b,c,d,e){this._config=a;this._prebidMethods=b;this._slots=c;this._slotEventBus=d;this._videoEventBus=e;this._videoFlagSlot={};this._amazonFloors=new Map;this._amazonRaptiveFloorKeys=new Map;this._floorPriority=this._config.floors.cmPriority;this._floorResetTypes=[W.refresh,W.lazyBidPool,W.lazy];this._prioritizedFloors=new Map;this._vidDiscountRules={};this._host=window.location.hostname;
this._expirationThreshold=5;this._usedFloorMap=new Map;this._floorAbbrv={[W.refresh]:"lr",[W.lazyBidPool]:"lbp",[W.lazy]:"ll",[W.session]:"ls"};this._refreshFloors=new Map;this._setupEventListeners();this._setVidDiscountRules()}setValues(a,b,c){a.values[`${this._host}|${b}`]=0<c?c:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(a,b){0<a.modelGroups.length&&this._setPrebidFloors(a,b)}setRaptiveFloors(a,b){this._raptiveFloors=
a;b&&this._setPrebidFloors(a,W.raptive,!0);this.setAmazonFloors({values:a.modelGroups[0].values,currency:a.currency},!0)}saveBids(a,b){this._prebidMethods.getBidResponsesForAdUnitCode(a.id).bids.forEach(c=>{b.push(c.cpm)})}prioritizeFloorsConfig(a,b){if(Object.keys(a.values).length){var c=Object.keys(a.values),d=this._config.floors,e=this._prioritizedFloors.get(b);e=e&&e.values||{};for(let f of c)e=this._addVidDiscountFloor({...e,[f]:a.values[f]});a.values=e;d.savePriorityFloorData(a,b);this._prioritizedFloors.set(b,
a);return a}}setLegacyFloorsConfig(a){this.setAmazonFloors(a);let b=this._config.floors;a=!b.floorsExperiment.fbrap&&b.floorsData||{floorProvider:"legacy",floorsSchemaVersion:2,currency:"USD",modelGroups:[{...a,skipRate:0,modelWeight:100,modelVersion:"legacy"}]};this.setPrebidFloors(a);return a}updateBidTTL(a,b,c=""){(c?this._prebidMethods.getBidResponsesForBidPoolId(c):this._prebidMethods.getBidResponsesForAdUnitCode(a)).bids.filter(d=>"rendered"!==d.status&&d.ttl&&!d.expired&&!d.sharedBidInUse).forEach(d=>
{let e=d.ttl-this._expirationThreshold;Number(d.responseTimestamp)+1E3*Number(e)<b&&(d.ttl=e,d.expired=!0)})}setOGRefreshValue(a,b){this._refreshFloors.set(a,b)}get prioritizedFloorData(){return this._prioritizedFloors}createFloorValue(a=[],b=0){return 0===a.length?0:1<a.length?Oc(a,b):a[0]*b}getAmazonFloors(a,b){let c=this.getAmazonFloorsById(a);if(!c&&this._config.floors.floorsExperiment.raptive){a=this._getAmazonRaptiveFloorKeys([a,`${b||0}`]);for(let d of a)if(a=this.getAmazonFloorsById(d))return a}return c}getVideoFlagSlot(a){return this._videoFlagSlot[a]}setVideoFlagSlot(a,
b={}){return a&&(this._videoFlagSlot[a]={...this._videoFlagSlot[a],...b})}_addVidDiscountFloor(a){return{...this._vidDiscountRules,...a}}_setupEventListeners(){let {fbrap:a,legacy:b}=this._config.floors.floorsExperiment;if(b||a)this._slotEventBus.preRequestBids.on(this._setBannerAuctionFloor.bind(this)),this._videoEventBus.preRequestVideoBids.on(this._setVideoAuctionFloor.bind(this)),this._prebidMethods.onEvent("auctionEnd",c=>{c.adUnitCodes.forEach(d=>this._clearRefreshFloorValue(`${this._host}|${d}`))});
this._prebidMethods.onEvent("auctionEnd",c=>{this.setFloorTargeting("auctionEnd",c)})}_setVidDiscountRules(){Object.keys(x).forEach(a=>{this._vidDiscountRules[`${this._host}|${x[a]}`]=1E-5})}_clearRefreshFloorValue(a){this._floorResetTypes.forEach(b=>{let c=this._prioritizedFloors.get(b);c&&c.values&&c.values[a]&&(c.values[a],delete c.values[a],this._config.floors.savePriorityFloorData(c,b))})}_setBannerAuctionFloor(a){a.forEach(b=>{if(b=b.prebidAdUnit&&b.prebidAdUnit.length&&b.prebidAdUnit[0].code)this._usedFloorMap.delete(b),
this._setAuctionFloor(b)})}_setVideoAuctionFloor(a){a.videos.forEach(b=>{b=b.name;this._usedFloorMap.delete(b);this._setAuctionFloor(b)})}_setAuctionFloor(a){let b=this._raptiveFloors,c=this._floorPriority,d=!1;if(a){for(let e=0;e<=c.length;e++){let f=this._prioritizedFloors.get(c[e]);if(f&&f.values&&f.values[`${this._host}|${a}`]){d=!0;this.setLegacyFloorsConfig(f);this._usedFloorMap.set(a,c[e]);break}}!d&&b&&this._setPrebidFloors(b,W.raptive,!!b)}}_excludeSettingFloors(a){if(!a||a&&!this._config.floors.floorsTypeExcludes.has(a))return!1;
let {ccpa:b,gdpr:c}=this._config,d=b.enabled&&b.ccpaOptOut===b.privacyString,e=c.enabled&&c.revokedPurposeConsent;return a&&(d||e)}_setPrebidFloors(a,b,c){a=this._excludeSettingFloors(b)?{}:{floors:{enforcement:{enforceJS:!1},data:a,...(c&&{additionalSchemaFields:this._config.floors.customSchemaFields})}};this._prebidMethods.setConfig(a)}_getAmazonRaptiveFloorKeys(a){let b=a.join("-"),c=this._amazonRaptiveFloorKeys.get(b)||[];b&&!c.length&&(a=a.map(d=>[d,"*"]),c=Am(a,"-"),this._amazonRaptiveFloorKeys.set(b,
c));return c}setAmazonFloors({values:a,currency:b},c=!1){Object.keys(a).forEach(d=>{var e,f=d.split("|");let h=f.length&&f[c?null!==(e=this._config.floors.getSchemaFieldOrder("adUnitCode"))&&void 0!==e?e:1:1]||d;e=h;c&&(f=f[this._config.floors.getSchemaFieldOrder("hvp")||1],e=`${h}-${f}`);this._amazonFloors.set(e.toLowerCase(),{value:a[d],currency:b||"USD"})})}getAmazonFloorsById(a){return this._amazonFloors.get(a.toLowerCase())||null}_getTargetingValue(a,b){b=this._usedFloorMap.get(b);let c=a&&a.skipped&&
"s",d=null===a||void 0===a?void 0:a.modelVersion;return a&&"legacy"===a.floorProvider&&(b&&this._floorAbbrv[b]||"L")||c||`${d}`}_clearRefreshValue(a){return a&&this._refreshFloors.get(a)&&this._refreshFloors.set(a,0)}getFCVForAdUnit(a,b){let c=b?":":"%3A",d=[];this._config.floors.activeFloorsTypes.forEach(e=>{if(e===W.refresh){var f=this._refreshFloors.get(a)||0;this._clearRefreshValue(a)}else f=(f=this._prioritizedFloors.get(e))&&f.values[`${this._host}|${a}`]||0;f&&d.push(`${Be[e]}${c}${f}`)});
return d}setFloorTargeting(a,b){let c=b.adUnitCodes[0],d=this._slots.get(c);var e=b.adUnits&&b.adUnits[0].bids&&b.adUnits[0].bids[0].floorData;a=e&&"auctionEnd"===a?this._getTargetingValue(e,c):"f";e=d&&d.id===c;let f=Object.keys(x).some(n=>x[n]===c);var h=this._prebidMethods.getHighestCpmBids(c);let m=!b.bidsReceived.length&&!!h.length;b=this.getFloorPrice(m?h[0]:b.bidsReceived[0]);h=this.getFCVForAdUnit(c,!!e);e?(d.setSlotTargetingFlag("fv",[a],!0),d.setSlotTargetingFlag("hbf",[b],!0),h.length&&
d.setTargeting({key:"fcv",value:h}),m&&d.setSlotTargetingFlag("hbfcf",[b],!0)):f&&this.setVideoFlagSlot(c,{fv:a,hbf:b,...(h.length&&{fcv:h}),...(m&&{hbfcf:b})})}getFloorPrice(a){return a?a.floorData&&a.floorData.floorValue&&a.floorData.floorValue.toFixed(2)||"none":"0"}};Na=k([p("Floors"),q(),l("design:paramtypes",[y,V,la,Ia,wa])],Na);class Hk{get videoEnabled(){return!0}get enabled(){return!0}}class Ik{getSupplyChainConfig(a){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:a,hp:1}]}}}
let Jk=new Map([["10thu68",`a_${g.AppNexus}`],["16d9pts",`a_${g.GumGum}`],["1axt6o",`a_${g.OpenX}`],["1bkk3r4",`a_${g.Amazon}`],["1dfpj4",`a_${g.Amazon}`],["1e4ycjk",`a_${g.Triplelift}`],["1lcnshs",`a_${g.Sharethrough}`],["1skd8g0",`a_${g.Yieldmo}`],["1y4543k",`a_${g.Pubmatic}`],["3bcv7k",`a_${g.Amazon}`],["j27tog",`a_${g.Rubicon}`],["me2y9s",`a_${g.IndexExchange}`],["qtwge8",`a_${g.Verizon}`],["upqrr4",`a_${g.MediaGrid}`],["emebk0",`a_${g.Unruly}`],["f6dibk",`a_${g.Ogury}`]]),Kk={"138wa9s":.01,lhm9s0:.02,
"1l06ark":.03,clz9j4:.04,"1c4jaio":.05,ud9a0w:.06,"1tvtb0g":.07,"865reo":.08,"17opse8":.09,pxfrwg:.1,"1pfzsw0":.11,h1srnk:.12,"1gkcsn4":.13,yt2s5c:.14,"1ybmt4w":.15,"1ifi80":.16,"110zj7k":.17,j9pips:.18,"1is9jpc":.19,ae2igw:.2,"19wmjgg":.21,s5ciyo:.22,"1rnwjy8":.23,"5y90cg":.24,"15gt1c0":.25,npj0u8:.26,"1n831ts":.27,etw0lc:.28,"1ecg1kw":.29,wl6134:.3,"1w3q22o":.31,"2mdvr4":.32,"124xwqo":.33,kdnw8w:.34,"1jw7x8g":.35,bi0w00:.36,"1b0kwzk":.37,t9awhs:.38,"1sruxhc":.39,"727dvk":.4,"16krev4":.41,othedc:.42,
"1oc1fcw":.43,fxue4g:.44,"1fgef40":.45,xp4em8:.46,"1x7ofls":.47,eh4ow:.48,zx15og:.49,i5r56o:.5,"1hob668":.51,"9a44xs":.52,"18so5xc":.53,r1e5fk:.54,"1qjy6f4":.55,"4uamtc":.56,"14cunsw":.57,mlknb4:.58,"1m44oao":.59,dpxn28:.6,"1d8ho1s":.61,vh7nk0:.62,"1uzrojk":.63,"4abg1s":.64,"13svh1c":.65,m1lgjk:.66,"1lk5hj4":.67,d5ygao:.68,"1coiha8":.69,ux8gsg:.7,"1ufshs0":.71,"8q4y68":.72,"188oz5s":.73,qheyo0:.74,"1pzyznk":.75,hlryf4:.76,"1h4bzeo":.77,zd1yww:.78,"1yvlzwg":.79,"22eozk":.8,"11kypz4":.81,jtophc:.82,
"1jc8qgw":.83,ay1p8g:.84,"1aglq80":.85,spbpq8:.86,"1s7vqps":.87,"6i8740":.88,"160s83k":.89,o9i7ls:.9,"1ns28lc":.91,fdv7cw:.92,"1ewf8cg":.93,x557uo:.94,"1wnp8u8":.95,"36d2io":.96,"12ox3i8":.97,kxn30g:.98,"1kg7400":.99,c202rk:1,"1bkk3r4":1.01,tta39c:1.02,"1tbu48w":1.03,"7m6kn4":1.04,"174qlmo":1.05,pdgl4w:1.06,"1ow0m4g":1.07,ghtkw0:1.08,"1g0dlvk":1.09,y93lds:1.1,"1xrnmdc":1.11,ygbgg:1.12,"10h0cg0":1.13,ipqby8:1.14,"1i8acxs":1.15,"9u3bpc":1.16,"19cncow":1.17,rldc74:1.18,"1r3xd6o":1.19,"5e9tkw":1.2,"14wtukg":1.21,
n5ju2o:1.22,"1mo3v28":1.23,e9wtts:1.24,"1dsgutc":1.25,w16ubk:1.26,"1vjqvb4":1.27,"3gcnwg":1.28,"12ywow0":1.29,l7moe8:1.3,"1kq6pds":1.31,cbzo5c:1.32,"1bujp4w":1.33,u39on4:1.34,"1tltpmo":1.35,"7w660w":1.36,"17eq70g":1.37,png6io:1.38,"1p607i8":1.39,grt69s:1.4,"1gad79c":1.41,yj36rk:1.42,"1y1n7r4":1.43,"18fwu8":1.44,"10qzxts":1.45,izpxc0:1.46,"1ii9ybk":1.47,a42x34:1.48,"19mmy2o":1.49,rvcxkw:1.5,"1rdwykg":1.51,"5o9eyo":1.52,"156tfy8":1.53,nfjfgg:1.54,"1my3gg0":1.55,ejwf7k:1.56,"1e2gg74":1.57,wb6fpc:1.58,
"1vtqgow":1.59,"2ceadc":1.6,"11uybcw":1.61,k3oav4:1.62,"1jm8buo":1.63,b81am8:1.64,"1aqlbls":1.65,szbb40:1.66,"1shvc3k":1.67,"6s7shs":1.68,"16arthc":1.69,ojhszk:1.7,"1o21tz4":1.71,fnusqo:1.72,"1f6etq8":1.73,xf4t8g:1.74,"1wxou80":1.75,"4hjb4":1.76,zn1kao:1.77,hvrjsw:1.78,"1hebksg":1.79,"904jk0":1.8,"18iokjk":1.81,qrek1s:1.82,"1q9yl1c":1.83,"4kb1fk":1.84,"142v2f4":1.85,mbl1xc:1.86,"1lu52ww":1.87,dfy1og:1.88,"1cyi2o0":1.89,v78268:1.9,"1ups35s":1.91,"40buo0":1.92,"13ivvnk":1.93,lrlv5s:1.94,"1la5w5c":1.95,
cvyuww:1.96,"1ceivwg":1.97,un8veo:1.98,"1u5swe8":1.99,"8g5csg":2,"17ypds0":2.01,q7fda8:2.02,"1ppze9s":2.03,hbsd1c:2.04,"1guce0w":2.05,z32dj4:2.06,"1ylmeio":2.07,"1sf3ls":2.08,"11az4lc":2.09,jjp43k:2.1,"1j29534":2.11,ao23uo:2.12,"1a6m4u8":2.13,sfc4cg:2.14,"1rxw5c0":2.15,"688lq8":2.16,"15qsmps":2.17,nzim80:2.18,"1ni2n7k":2.19,f3vlz4:2.2,"1emfmyo":2.21,wv5mgw:2.22,"1wdpngg":2.23,"2wdh4w":2.24,"12exi4g":2.25,knnhmo:2.26,"1k67im8":2.27,bs0hds:2.28,"1bakidc":2.29,tjahvk:2.3,"1t1uiv4":2.31,"7c6z9c":2.32,
"16ur08w":2.33,p3gzr4:2.34,"1om10qo":2.35,g7tzi8:2.36,"1fqe0hs":2.37,xz4000:2.38,"1xho0zk":2.39,ogq2o:2.4,"1070r28":2.41,ifqqkg:2.42,"1hyark0":2.43,"9k3qbk":2.44,"192nrb4":2.45,rbdqtc:2.46,"1qtxrsw":2.47,"54a874":2.48,"14mu96o":2.49,mvk8ow:2.5,"1me49og":2.51,dzx8g0:2.52,"1dih9fk":2.53,vr78xs:2.54,"1v9r9xc":2.55,"3vc1z4":2.56,"13dw2yo":2.57,lmm2gw:2.58,"1l563gg":2.59,cqz280:2.6,"1c9j37k":2.61,ui92ps:2.62,"1u0t3pc":2.63,"8b5k3k":2.64,"17tpl34":2.65,q2fklc:2.66,"1pkzlkw":2.67,h6skcg:2.68,"1gpclc0":2.69,
yy2ku8:2.7,"1ygmlts":2.71,"1nfaww":2.72,"115zbwg":2.73,jepbeo:2.74,"1ix9ce8":2.75,aj2b5s:2.76,"1a1mc5c":2.77,sacbnk:2.78,"1rswcn4":2.79,"638t1c":2.8,"15lsu0w":2.81,nuitj4:2.82,"1nd2uio":2.83,eyvta8:2.84,"1ehfu9s":2.85,wq5ts0:2.86,"1w8purk":2.87,"2rdog0":2.88,"129xpfk":2.89,kinoxs:2.9,"1k17pxc":2.91,bn0oow:2.92,"1b5kpog":2.93,teap6o:2.94,"1swuq68":2.95,"7776kg":2.96,"16pr7k0":2.97,oyh728:2.98,"1oh181s":2.99,g2u6tc:3,"1020ydc":3.05,r6dy4g:3.1,"1m94gzk":3.15,"4fb8qo":3.2,"1cti9z4":3.25,qmercw:3.3,"1z0lslc":3.35,
b31hxc:3.4,"165s0sg":3.45,xa50jk:3.5,"1kl6wow":3.55,"7r6dc0":3.6,"1g5dekg":3.65,iuq4n4:3.7,"1r8x5vk":3.75,eewmio:3.8,"133whkw":3.85,u89hc0:3.9,"1pb0074":3.95,"1dfpj4":4,"19rmqrk":4.05,nkj85c:4.1,"1vyq9ds":4.15,bd13b4:4.2,"16frm68":4.25,xk4lxc:4.3,"1hjbdhc":4.35,"4pau4g":4.4,"1d3hvcw":4.45,lwlnuo:4.5,"1uasp34":4.55,hgs5q8:4.6,"11fyxa8":4.65,skbx1c:4.7,"1nn2fwg":4.75,"31d9ts":4.8,"1bfkb28":4.85,p8gsg0:4.9,"1xmntog":4.95,"9p3j0g":5,"14ru1vk":5.05,vw71mo:5.1,"1kxoef4":5.15,"83nv28":5.2,"1ghuwao":5.25,
j77mdc:5.3,"1rlenls":5.35,ere48w:5.4,"122g0e8":5.45,t6t05c:5.5,"1o9jj0g":5.55,bz8cg:5.6,"18q69kw":5.65,mj2qyo:5.7,"1ux9s74":5.75,d3gjy8:5.8,"18672tc":5.85,zak2kg:5.9,"1j9qu4g":5.95,"6fqark":6,"1etxc00":6.05,kv56o0:6.1,"1t9c7wg":6.15,gfbojk:6.2,"10eig3k":6.25,rivfuo:6.3,"1mllyps":6.35,"3durk0":6.4,"1bs1ssg":6.45,pkya68:6.5,"1xz5beo":6.55,a1l0qo:6.6,"154bjls":6.65,w8ojcw:6.7,"1jjqfi8":6.75,"6ppw5c":6.8,"1f3wxds":6.85,ht9ngg:6.9,"1q7goow":6.95,ddg5c0:7,"13gdzb4":7.05,ukqz28:7.1,"1pnhhxc":7.15,"1px79c":7.2,
"1a448hs":7.25,nx0pvk:7.3,"1wb7r40":7.35,bpil1c:7.4,"16s93wg":7.45,xwm3nk:7.5,"1hvsv7k":7.55,"51sbuo":7.6,"1dfzd34":7.65,lk464g:7.7,"1tyb7cw":7.75,h4ao00:7.8,"113hfk0":7.85,s7ufb4:7.9,"1naky68":7.95,"2ovs3k":8,ovzaps:8.1,"9cm1a8":8.2,"14fck5c":8.25,vjpjwg:8.3,"8smuio":8.4,jw6lts:8.5,fgd3pc:8.6,tvrzls:8.7,"1oyiigw":8.75,"10y7sw":8.8,n81qf4:8.9,cehkhs:9,yll340:9.1,"5qrbb4":9.2,"1e4ycjk":9.25,k6677k:9.3,fqcp34:9.4,qtwge8:9.5,"42tr0g":9.6,q9x9mo:9.7,"1yo4av4":9.75,aqk074:9.8,wxnitc:9.9,"7eovls":10,ii8mww:10.1,
e2f4sg:10.2,"137nc3k":10.25,uc0buo:10.3,"1h6k1s":10.4,noa2o0:10.5,bgrxts:10.6,xnvgg0:10.7,"1hn2800":10.75,"4t1on4":10.8,m0cidc:10.9,hkj08w:11,so2rk0:11.1,"3544cg":11.2,"1bjb5kw":11.25,pc7myo:11.3,"9sudj4":11.4,vzxw5c:11.5,"7ux7uo":11.6,iygz5s:11.7,"1rco0e8":11.75,einh1c:11.8,sy2cxs:11.9,"38l4w":12,mac3r4:12.1,cupwqo:12.2,"17xgfls":12.25,z1tfcw:12.3,"66znk0":12.4,kmejgg:12.5,g6l1c0:12.6,"1mcvbi8":12.7,ra4sn4:12.75,"3u33sw":12.8,q16mf4:12.9,ahtczk:13,wowvls:13.1,"75y8e8":13.2,"1fk59mo":13.25,i9hzpc:13.3,
dtohkw:13.4,v0zbb4:13.5,"265ji8":13.6,od924g:13.7,"1wrg3cw":13.75,c5qxa8:13.8,ycufwg:13.9,"5i0o3k":14,lbdiww:14.1,gvk0sg:14.2,"10uqscg":14.25,rz3s3k:14.3,"2g54w0":14.4,on8ni8:14.5,"93ve2o":14.6,vaywow:14.7,"1ldwqo0":14.75,"8jw7b4":14.8,jnfym8:14.9,f7mghs:15,tn1ce8:15.1,s7klc:15.2,"196elts":15.25,mzb37k:15.3,ci8f0g:15.4,ypbxmo:15.5,"5ui5ts":15.6,k9x1q8:15.7,"1so42yo":15.75,fu3jls:15.8,qxnaww:15.9,"46klj4":16,qdo45c:16.1,auaups:16.2,"15x1dkw":16.25,x1edc0:16.3,"7ifq4g":16.399999,ilzhfk:16.5,e65zb4:16.6,
tziu4g:16.7,"1p29czk":16.75,"14p2bk":16.8,nbskxs:16.9,b4ag3k:17,xbdyps:17.1,"4gk6ww":17.2,"1cur85c":17.25,lnv0n4:17.3,h81iio:17.4,sbl9ts:17.5,"2smmm8":17.6,ozq58g:17.7,"1xdx6gw":17.75,"9gcvsw":17.8,vngef4:17.9,"87epkw":18,jaygw0:18.1,ev4yrk:18.2,"1266uww":18.25,tajuo0:18.3,fq2v4:18.4,mmtlhc:18.5,d77egw:18.6,zeax34:18.7,"1jdhon4":18.75,"6jh5a8":18.8,kyw16o:18.9,gj2j28:19,rmmadc:19.1,"3hlm2o":19.2,"1bvsnb4":19.25,pop4ow:19.3,a5bv9c:19.4,wcfdvk:19.5,"6tgqo0":19.6,hx0hz4:19.7,"1qb7j7k":19.75,dh6zuo:19.8,
uohtkw:19.9,"1to1s0":20,lgzsow:20.5,"99hnuo":21,tsnm68:21.5,"5nmxvk":22,q6sw74:22.5,dzarcw:23,xthq80:23.5,"3aqe4g":24,j438xs:24.5,d0c6io:25,rfr2f4:25.5,"6z30g0":26,o6du68:26.5,goosu8:27,v43oqo:27.5,lccn4:28,kfjbi8:28.5,azx4hs:29,u553wg:29.5,"4m6gow":30,p5cf0g:30.5,es0lc0:31,zb6jnk:31.5,"3eh8n4":32,htw4jk:32.5,bq524g:33,s8gwe8:33.5,"8t9bls":34,n8o7i8:34.5,fqz668:35,wy9zwg:35.5,"1e26m8":36,lx84xs:36.5,"9pq03k":37,suxzi8:37.5,"63va4g":38,py28zk:38.5,dqk45c:39,y9q2gw:39.5,"2d0rgg":40,jkbl6o:40.5,cmai2o:41,
r1pdz4:41.5,"7mht6o":42,nfuo00:42.5,hc3lkw:43,vrihhc:43.5,js5xc:44,l2y48w:44.5,a9dybk:45,usjwn4:45.5,"59l9fk":46,oraqkg:46.5,fbojk0:47,ygwiyo:47.5,"3y56v4":48,idk2rk:48.5,bku0w0:49,ss4um8:49.5,"7yzaww":50,mee6tc:50.5,gan4e8:51,wk8bgg:51.5,"21gzcw":52,l6oyrk:52.5,"8z6txc":53,tics8w:53.5,"62b3eo":54,qlh1q8:54.5,edyww0:55,xj6wao:55.5,"30fk74":56,j69wqo:56.5,d2iubk:57,rhxq80:57.5,"6os6io":58,nw308w:58.5,h3cydc:59,viru9s:59.5,"100i68":60,k58hkw:60.5,apmakg:61,ucy1hc:61.5,"4tze9s":62,pd5clc:62.5,ejl6o0:63,
z2r4zk:63.5,"3v0tfk":64,iafpc0:64.5,c6omww:65,s01hq8:65.5,"8ktwxs":66,n08su8:66.5,fv198g:67,x2c2yo:67.5,"15mry8":68,losq9s:68.5,"9halfk":69,tbhkao:69.5,"6keuww":70,ppmubk:70.5,di4phc:71,y1answ:71.5,"2ktp1c":72,js4irk:72.5,cafhfk:73,qpudc0:73.5,"7amsjk":74,nsymtc:74.5,hp7ke8:75,w4mgao:75.5,"7x5a8":76,kr33ls:76.5,aa0feo:77,ut6dq8:77.5,"5a7qio":78,offpxc:78.5,eztiww:79,yu0hs0:79.5,"4b95og":80,iqo1kw:80.5,b8z08w:81,sg9tz4:81.5,"86bdog":82,mlq9kw:82.5,ghz75s:83,wbc1z4:83.5,"1skpvk":84,lmroqo:84.5,"9f9jwg":85,
tyfi80:85.5,"5tetxc":86,qcks8w:86.5,e52neo:87,xms4jk:87.5,"340sg0":88,ixdn9c:88.5,ctmku8:89,r91gqo:89.5,"74uwhs":90,oc5q80:90.5,gugow0:91,v9vksg:91.5,r48ow:92,kckkcg:92.5,awydc0:93,u26cqo:93.5,"4j7pj4":94,p2dnuo:94.5,exshds:95,zgyfpc:95.5,"3k94ow":96,hzo0lc:96.5,bvwy68:97,s1raps:97.5,"8mjpxc":98,n1ylts:98.5,fk9khs:99,wrke80:99.5,"1ju2o0":100},ld=class extends J{init(){this._key="AmazonHoldDisplay";this._default=!1}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),
l("design:returntype",void 0)],ld.prototype,"run",null);ld=k([p("AmazonLibraryExperiment"),q()],ld);class hg{isAmazonLoaded(){return!!window.apstag}init(a){this.isAmazonLoaded()&&window.apstag.init(a)}fetchBids(a,b){this.isAmazonLoaded()&&window.apstag.fetchBids(a,b)}setDisplayBids(){this.isAmazonLoaded()&&window.apstag.setDisplayBids()}targetingKeys(){return this.isAmazonLoaded()?window.apstag.targetingKeys():[]}rpa(a,b,c){this.isAmazonLoaded()&&window.apstag.rpa(a,b,c)}upa(a,b,c){this.isAmazonLoaded()&&
window.apstag.upa(a,b,c)}dpa(a){this.isAmazonLoaded()&&window.apstag.dpa(a)}}let ig=class extends T{init(){this._key="AdInViewExperiment_2"}};ig=k([p("AdInViewExperiment"),q()],ig);let Bb=class extends sa{constructor(a){super();this._result=!1;this.abgroup="scre";this.key="StickyContainerRecipe";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;this.shouldUseCoreOverride=!1;var b=window;this._result=(b=(b=b&&b.adthriveCLS)&&b.experiments)&&this.abgroup in b?b[this.abgroup]:this.run();a.set(this.abgroup,
this._result?"on":"off")}get result(){return this._result}run(){return(new ba(this.weight)).get()}};Bb=k([p("StickyContainerRecipeExperiment"),q(),l("design:paramtypes",[aa])],Bb);let U=class{constructor(a,b,c,d,e,f,h){this._config=a;this._googleAdManager=b;this._slots=c;this._eventBus=d;this._marmaladeEventBus=e;this._adInViewExperiment=f;this._stickyContainerRecipeExperiment=h;this.added=new z;this.cleared=new z;this.displayed=new z;this.displaying=new z;this.refreshed=new z;this.refreshing=new z;
this.refreshingBids=new z;this.refreshedBids=new z;this.requestingBids=new z;this.requestedBids=new z;this.displayRefreshInterval=25E3;this.stickyOutstreamRefreshInterval=4E4;this.slotAdvertiserID=new Map;this._eventBus.displaySlot.on(m=>this.display(m));this.setupSlotRenderedListener()}async add(a){await this._googleAdManager.waitForQueue();let b=sessionStorage.getItem("adthrive_footer_closed"),c=this._googleAdManager.defineSlots(this.castArray(a).filter(e=>"Footer"!==e.location||"Footer"===e.location&&
!b)),d=this._config.marmalade;if(!d.adViewability.length)this._marmaladeEventBus.resetMarmaladeData.once(()=>{c.forEach(e=>e.setViewability(d))});c.forEach(e=>{e.setViewability(d);e.setHighlyViewable(d);e.setBidPoolId(this._config.prebid.bidPoolSlots);e.setPassiveBidPoolId();"Recipe"===e.location&&e.sticky&&this._stickyContainerRecipeExperiment.result||this._config.clsOptimizedAds.setStyle(e.element,e.location)});this._eventBus.addSlots.emit(c);this._slots.add(c);await this.added.legacyEmit(c);return c}async clear(a){a=
this.castArray(a);a.forEach(b=>{b.displayed=!1;this.setMinDimensions(b.element)});this._googleAdManager.clearSlots(a);await this.cleared.legacyEmit(a);return a}destroy(a){a=this.castArray(a);this.pauseRefresh(a);this._slots.remove(a);this._googleAdManager.destroySlots(a);return a}destroyAll(){var a=this._slots.get();a=this.destroy(a);this._googleAdManager.reset();return a}rebuild(a){a=this.castArray(a);let b=this._googleAdManager;for(let c of a)D.pushToQueue(()=>{let d="refresh inf_scroll decref nref hvp lazy".split(" ").reduce((e,
f)=>{const h=c.getTargeting(f);h.length&&e.push({key:f,value:h});return e},[]);b.destroySlots(this.castArray(c));b.defineSlots(this.castArray(c));c.setTargeting(d)});return a}rebuildAll(){var a=this._slots.get();a=this.rebuild(a);this._googleAdManager.reset();return a}removeElement(a){a=this.castArray(a);let b=[];for(let c of a)c.element.remove(),b.push(c.element);return b}removeAllElements(){let a=this._slots.get();return this.removeElement(a)}async refresh(a,b=!0){let c=this.castArray(a);for(let d of c)d.refreshCount++,
d.servedPrebidBidResponse=void 0,d.isRefreshing=!0;await this.refreshing.legacyEmit(c);await Promise.all([b?bk(this._config.timeouts.refreshBidsRequest):!0,this.refreshBids(c)]).then(()=>this._googleAdManager.refreshSlots(c));await this.refreshed.legacyEmit(c);for(let d of c)d.isRefreshing=!1;return c}async display(a){let b=this.castArray(a);await this.displaying.legacyEmit(b);await this.requestBids(b).then(()=>this._googleAdManager.displaySlots(b));b.forEach(c=>{c.displayed=!0});await this.displayed.legacyEmit(b);
return b}inView(a){a=this.castArray(a);a.forEach(b=>this.setRefreshTimeout(b));return a}outOfView(a){a=this.castArray(a);a.filter(b=>!b.alwaysInView).filter(b=>"IntersectionObserver"in window?b.outOfViewGPT&&b.outOfViewIO:b.outOfViewGPT).forEach(b=>{let c=b.element.querySelector("div > iframe");Qb(b.element)&&c&&Qb(c)&&this.clearRefreshTimeout(b)});return a}pauseRefresh(a){a=this.castArray(a);a.filter(b=>b.refreshTimeout).forEach(b=>{b.refreshPaused=!0;this.clearRefreshTimeout(b)});return a}resumeRefresh(a){a=
this.castArray(a);a.filter(b=>b.refreshPaused).forEach(b=>{b.refreshPaused=!1;this.setRefreshTimeout(b)});return a}updateRefreshTimeout(a,b){a=this.castArray(a);a.forEach(c=>{c.refreshInterval=b;var d=c.element.querySelector("div > iframe");d=Qb(c.element)&&d&&Qb(d)&&!document.hidden;c.refreshTimeout&&("Video_StickyOutstream"!==c.location||d)?(this.clearRefreshTimeout(c),this.setRefreshTimeout(c)):c.refreshTimeout&&!d&&(this.setRefreshTimeout(c),this.clearRefreshTimeout(c))});return a}clearRefreshTimeout(a,
b=!1){this.castArray(a).filter(c=>c.refreshTimeout).forEach(c=>{window.clearTimeout(c.refreshTimeout);c.refreshTimeout=void 0;b?(c.viewableDuration=0,c.slotFullyRenderedDuration=0):(c.viewableSince&&(c.viewableDuration+=Date.now()-c.viewableSince.getTime()),c.slotFullyRenderedSince&&(c.slotFullyRenderedDuration=Date.now()-c.slotFullyRenderedSince.getTime()))})}getSlot(a){return this._slots.get(a)}getAllSlots(){return this._slots.get()}setRefreshTimeout(a){this.castArray(a).filter(b=>!b.refreshTimeout).forEach(b=>
{let c=this.calculateRemainingRefreshDuration(b,"Video_StickyOutstream"===b.location?this.stickyOutstreamRefreshInterval:this.displayRefreshInterval);b.viewableSince=new Date;0!==b.refreshInterval&&(b.refreshTimeout=window.setTimeout(()=>{b.viewableDuration=0;b.slotFullyRenderedDuration=0;b.refreshInterval=void 0;b.refreshTimeout=void 0;this.refresh(b).catch(d=>{})},Math.max(c,0)))})}getAmazonBidderCode(a){var b,c;return 4526447244===this.slotAdvertiserID.get(a.element.id)?(null===(c=null===(b=a.getTargeting("amz_bidder"))||
void 0===b?void 0:b[0])||void 0===c?void 0:c.substring(2))||"":""}getBidderAdInViewDurationOverride(a){var b;let c=new Set("kargo krgo_ss tripl_ss triplelift ogury nativo".split(" ")),d=(null===(b=a.servedPrebidBidResponse)||void 0===b?void 0:b.bidderCode)||"";a=this.getAmazonBidderCode(a);return c.has(d)||c.has(a)?1E4:void 0}calculateRemainingRefreshDuration(a,b=25E3){var c=this._adInViewExperiment.result?this.getBidderAdInViewDurationOverride(a):void 0;c=B(c||this._adInViewExperiment.result,b);
c=B(a.refreshInterval,c);b=Math.max(b-a.slotFullyRenderedDuration,c-a.viewableDuration);return"Video_StickyOutstream"===a.location||"Video_StickyOutstream_1"===a.location?B(a.refreshInterval,"Video_StickyOutstream"===a.location?this.stickyOutstreamRefreshInterval:this.displayRefreshInterval)-a.viewableDuration:b}async requestBids(a){a=this.castArray(a).filter(b=>b.enabledForAuction&&(!b.lazy||this._config.lazyLoad.lzhb));if(0===a.length)return a;await this.requestingBids.legacyEmit(a);await this._eventBus.preRequestBids.legacyEmit(a);
await this._eventBus.requestingBids.legacyEmit(a);await this.requestedBids.legacyEmit(a);return a}async refreshBids(a){a=this.castArray(a).filter(b=>b.enabledForAuction);0<a.length&&(await this.refreshingBids.legacyEmit(a),await this._eventBus.preRequestBids.legacyEmit(a),await this._eventBus.refreshingBids.legacyEmit(a),await this.refreshedBids.legacyEmit(a));return a}castArray(a){return"string"===typeof a?(a=this._slots.get(a),void 0!==a?[a]:[]):Array.isArray(a)?a:[a]}setMinDimensions(a){let b=
getComputedStyle(a,null);a.style.minHeight=b.getPropertyValue("height");a.style.minWidth=b.getPropertyValue("width")}setupSlotRenderedListener(){this._googleAdManager.slotRenderEnded.on(a=>{let b=this._slots.get(a.slot.id);this.slotAdvertiserID.set(a.slot.id,a.event.advertiserId);b&&(b.slotFullyRenderedSince=new Date)})}};U=k([p("SlotManager"),q(),l("design:paramtypes",[y,D,la,Ia,Ga,ig,Bb])],U);let kb=class{constructor(a){this._videoEventBus=a;this.refreshingVideoBids=new z;this.requestingVideoBids=
new z}addVideoSlots(a){this._videoEventBus.videoPlayerAdded.emit(a)}async requestVideoBids(a,b){await this.requestingVideoBids.legacyEmit(a).catch();await this._determineIsRefreshing(a).catch();await this._videoEventBus.preRequestVideoBids.legacyEmit({videos:a,timeout:b});await this._videoEventBus.requestingVideoBids.legacyEmit({videos:a,timeout:b})}async _determineIsRefreshing(a){a=a.filter(b=>0<b._prerollNum);a.length&&await this.refreshingVideoBids.legacyEmit(a)}};kb=k([p("VideoRequestManager"),
q(),l("design:paramtypes",[wa])],kb);let Cb=class{constructor(a){this._spaEventBus=a;this.segmentName="www.iris.tv";this.segtax=501;this._irisEndpoint="https://context.iris.tv/video_info";this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c";this._clientToken="EXJQESR8SMWMZCJ";this._spaEventBus.routeChanged.on(()=>{this._resetIrisData()})}async setContextualData(a){return this.fetchIrisResponse(a).then(b=>{if(b&&"boolean"!==typeof b){let c=(b=b.video_info)&&b.context;c&&c.length&&
(this._contextualData=c,this._irisId=b.iris_id)}return!0}).catch(()=>!1)}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}fetchIrisResponse(a){return gk(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${a}`)}_resetIrisData(){this._irisId=this._contextualData=void 0}};Cb=k([q(),l("design:paramtypes",[ja])],Cb);let jg=class extends C{constructor(a,b){super();this._config=a;this._eventBus=b;this.setMcmpWithRFCodes=
c=>new Promise(d=>{this._eventBus.recencyFrequencyDataSet.on(()=>{this.getMcmpWithRFCodes(c);d(!0)},{handleEventsAlreadyEmitted:!0})})}getMcmpWithRFCodes(a){let b=this._config.marmalade,c=b.mcmp;if(!a)return c;[...b.rfMcmpCodes,...(a===g.IndexExchange?b.rfIabCodes:[])].forEach(d=>{let e=d[0];d[1].includes(a)&&c.push(e)});return c}};jg=k([p("RecencyAndFrequencyCodesComponent"),v(),l("design:paramtypes",[y,Ga])],jg);let md=class extends J{init(){this._key="FledgeGPT";this._default=!1}};md=k([p("FledgeGPTExperiment"),
q()],md);let kg=class extends T{init(){this._key="ttddealflr"}};kg=k([p("TTDDealFloorExperiment"),q()],kg);let nd=class extends C{constructor(a,b,c,d,e,f,h,m,n){super();this._slotManager=a;this._config=b;this._prebidMethods=c;this._videoRequestManager=d;this._irisTv=e;this._rfcodes=f;this._fledgeGPTExperiment=h;this._spaEventBus=m;this._ttdDealFloorExperiment=n;this._siteAndSensData={site_code:this._config.marmalade.siteCodes.filter(Ta),sens:this._config.site.filteredSensitiveCategories};this._staticFirstPartyData=
{...this._siteAndSensData,site_id:[this._config.site.id],verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]};this._staticIXFirstPartyData={...this._siteAndSensData,topic:this._config.site.verticals,pd:`${this._config.adOptions.pmp?"":"no"}${this._config.context.device}`,pmp_elig:this._config.adOptions.pmp,source:""};a=Nc(this._config.context.savedReferrer);this._staticIXFirstPartyData.source=a?jk(a):"direct"}get staticFirstPartyData(){return this._staticFirstPartyData}init(){this._onAddedEvent();
this._onRequestingEvent();this._onRefreshingEvent();this._onVideoRequestingEvent();this._onVideoRefreshingEvent();this._setBidderSpecificFpdForFledge();this._spaEventBus.routeChanged.on(()=>{this._onAddedEvent()})}_getTheTradeDeskFirstPartyData(){var a=this._ttdDealFloorExperiment.result||"1";a=+("off"===a?"1":a).replace("_",".");return{deals:[{id:"opath-192-1-xpscexs57t",at:1,bidfloor:10*a,bidfloorcur:"USD",isVideo:!0},{id:"opath-192-1-47pf1rhzaq",at:1,bidfloor:2.5*a,bidfloorcur:"USD",isVideo:!1}],
private_auction:0}}_onAddedEvent(){this._slotManager.added.once(()=>{var a=this._getTheTradeDeskFirstPartyData();this._setBidderSpecificFpd({bidders:[g.TTD],location:"pmp",fpdData:a,addStaticFpd:!1,isExtData:!1});this._setBidderSpecificFpd({bidders:[g.IndexExchange],fpdData:{refresh:"0",vp:"0"},rfCodeBidder:"ix"});this._setBidderSpecificFpd({bidders:[g.Rubicon,g.RubiconServer],fpdData:{refresh:["false"],vp:"0"},rfCodeBidder:"rubi"});a=this._config.site.filteredSensitiveCategories;a.length&&this._setBidderSpecificFpd({bidders:[g.Triplelift,
g.TripleliftServer,g.YahooSSP],fpdData:{sens:a},addStaticFpd:!1})})}_onRequestingEvent(){this._slotManager.requestingBids.on(a=>{a.forEach(b=>{this.setIXHVPParam(b,this._prebidMethods);b.lazy&&(this._setBidderSpecificFpd({bidders:[g.Rubicon,g.RubiconServer],fpdData:{refresh:["false"],vp:"0"}}),this._setBidderSpecificFpd({bidders:[g.IndexExchange],fpdData:{refresh:"0",vp:"0"},rfCodeBidder:"ix"}))})})}_onRefreshingEvent(){this._slotManager.refreshingBids.on(a=>{a.forEach(b=>{this.setIXHVPParam(b,this._prebidMethods)});
a=a[0]&&a[0].refreshCount;this._setBidderSpecificFpd({bidders:[g.Rubicon,g.RubiconServer],fpdData:{refresh:["true"],vp:"0"},rfCodeBidder:"rubi"});this._setBidderSpecificFpd({bidders:[g.IndexExchange],fpdData:{refresh:`${a}`,vp:"0"},rfCodeBidder:"ix"})})}_onVideoRequestingEvent(){this._videoRequestManager.requestingVideoBids.on(a=>{a.forEach(()=>{let b=this._irisTv,c=b.irisContextualData;c&&c.length&&this._setBidderSpecificFpd({bidders:[g.Pubmatic,g.PubmaticServer],fpdData:{content:{id:b.irisId}},
addStaticFpd:!1,isExtData:!1})})})}_onVideoRefreshingEvent(){this._videoRequestManager.refreshingVideoBids.on(a=>{a.forEach(b=>{if(0<b.vp&&10>=b._prerollNum){let c=b.vp.toString();this._setBidderSpecificFpd({bidders:[g.Rubicon,g.RubiconServer],fpdData:{refresh:["true"],vp:c},rfCodeBidder:"rubi"});this._prebidMethods.addToQueue(()=>{this.setIXVPParam(b.vp)});this._setBidderSpecificFpd({bidders:[g.IndexExchange],fpdData:{refresh:`${b._prerollNum}`,vp:c},rfCodeBidder:"ix"})}})})}setIXHVPParam(a,b){D.pushToQueue(()=>
{b.addToQueue(()=>{var c=b.getConfig(g.IndexExchange);if(c&&c.firstPartyData){c=c.firstPartyData.HVP||{};var d=ye(a);d=d?d:0;d=kk.includes(d)?d:0;c[a.id]=d;0<a.refreshCount?Pb({HVP:c,Refresh:"True"},b):Pb({HVP:c},b,!0)}})})}setIXVPParam(a){let b=this._prebidMethods.getConfig(g.IndexExchange);b&&b.firstPartyData&&0<a&&Pb({vp:a.toString()},this._prebidMethods)}_setBidderSpecificFpd({bidders:a,fpdData:b,addStaticFpd:c=!0,location:d="site",isExtData:e=!0,rfCodeBidder:f=""}){let h=this._rfcodes.getMcmpWithRFCodes(f),
m=this._getFPD(h,b,c,e,a);!this._config.marmalade.rfDataProcessed.emitted&&f&&this._rfcodes.setMcmpWithRFCodes(f).then(()=>this._setPrebidFirstPartyData(a,m,d)).catch(()=>{});this._setPrebidFirstPartyData(a,m,d)}_getFPD(a,b,c,d,e){a={...(c&&{...(e.includes(g.IndexExchange)?this._staticIXFirstPartyData:this._staticFirstPartyData),mcmp:a}),...b};return d?{ext:{data:a}}:a}_setBidderSpecificFpdForFledge(){this._config.context.fledgeSupported&&this._fledgeGPTExperiment.result&&this.setPrebidFledgeForGPT([g.OpenX,
g.Rtbhouse])}_setPrebidFirstPartyData(a,b,c){this._prebidMethods.setBidderConfig({bidders:a,config:{ortb2:{[c]:b}}})}setPrebidFledgeForGPT(a){this._prebidMethods.setBidderConfig({bidders:a,config:{fledgeEnabled:!0}})}};nd=k([p("FirstPartyDataComponent"),v(),l("design:paramtypes",[U,y,V,kb,Cb,jg,md,ja,kg])],nd);let lg=class extends J{init(){this._key="TopicsAPI";this._default=!1}isEnabled(){return super.isEnabled()&&eb()}};lg=k([p("TopicsAPIExperiment"),q()],lg);let pc=class{constructor(a,b){this._bootstrapConfig=
a;this.topicsDataRecevied=new z;this.topics=[];this._frame=document.createElement("iframe");(this.enabled=!this._bootstrapConfig.isGDPR&&!this._bootstrapConfig.ccpaUserOptedOut&&b.result)&&void this._addIframeToPage().then(()=>{this._setupPostMessaging()})}get topicsApiIframeLocation(){return`${this._bootstrapConfig.baseUrl}/html/topics.html`}_setupPostMessaging(){try{if(this._frame&&this._frame.contentWindow){let a=window.adthriveDevelopmentMode?"https://localhost:8080":"https://ads.adthrive.com";
window.addEventListener("message",b=>{if(b.origin===a&&"adthrive_topics"===b.data.message&&b.data.topics&&b.data.topics.length){this.topics=this.topics.concat(b.data.topics);try{this.topicsDataRecevied.emit(this.topics)}catch(c){r.error("TopicsApiIframeManager","topics","received",c)}}});this._frame.contentWindow.postMessage({message:"getTopicsApi"},a)}}catch(a){r.error("TopicsApiIframeManager","setupPostMessaging","Failed to set mcmp data",a)}}_addIframeToPage(){let a,b=new Promise(c=>{a=c});this._frame.onload=
()=>{a()};try{this._frame.src=this.topicsApiIframeLocation,this._frame.id="adthrive-topics-api",this._frame.style.display="none",document.body.appendChild(this._frame)}catch(c){r.error("TopicsApiIframeManager","addIframeToPage","Failed to append iframe to document",c)}return b}};pc=k([p("TopicsApiIframeManager"),q(),l("design:paramtypes",[ka,lg])],pc);let qc=class extends J{init(){this._key="JwBoost";this._default=!1}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",
[]),l("design:returntype",void 0)],qc.prototype,"run",null);qc=k([p("JwBoostExperiment"),q()],qc);let mg={Crafts:{id:"540522cb5c0eb47de4152801",iabCode:"IAB9-2",iabCat:"Arts & Crafts"},Family_and_Parenting:{id:"540522cb5c0eb47de4152802",iabCode:"IAB9-2",iabCat:"Family & Parenting"},Personal_Finance:{id:"540522cb5c0eb47de4152803",iabCode:"IAB13",iabCat:"Personal Finance"},Food:{id:"540522cb5c0eb47de4152804",iabCode:"IAB8",iabCat:"Food & Drink"},Home_Decor_and_Design:{id:"540522cb5c0eb47de4152807",
iabCode:"IAB10",iabCat:"Home & Garden"},Sports:{id:"540522cb5c0eb47de4152809",iabCode:"IAB17",iabCat:"Sports"},Entertainment:{id:"55d374253d3884315c3d0bca",iabCode:"IAB1",iabCat:"Arts & Entertainment"},Gardening:{id:"5a4fab0ce6ec1959fd678d46",iabCode:"IAB10-4",iabCat:"Gardening"},Mens_Style_and_Grooming:{id:"5a4fab1de6ec1959fd678d47",iabCode:"IAB18",iabCat:"Style & Fashion"},Pets:{id:"5a4fab2ee6ec1959fd678d49",iabCode:"IAB16",iabCat:"Pets"},Tech:{id:"5a4fab38e6ec1959fd678d4a",iabCode:"IAB19",iabCat:"Technology & Computing"},
Wedding:{id:"5a4fab42e6ec1959fd678d4b",iabCode:"IAB14-7",iabCat:"Weddings"},Professional_Finance:{id:"5aa2f3a7fdf4d60603ab3a65",iabCode:"IAB13",iabCat:"Personal Finance"},Deals:{id:"5c05a3d19e385c167333449c",iabCode:"IAB13",iabCat:"Personal Finance"},Vegetarian:{id:"5c113968b4fc765c1cbd3a54",iabCode:"IAB8-17",iabCat:"Vegetarian"},Auto:{id:"5c11399bb4fc765c1cbd3a91",iabCode:"IAB2",iabCat:"Automotive"},Fitness:{id:"5e5571361237cb073f4c414a",iabCode:"IAB7-1",iabCat:"Exercise"},Gaming:{id:"615cb84741a24b73b7c34703",
iabCode:"IAB9-30",iabCat:"Video & Computer Games"},Beauty:{id:"540522cb5c0eb47de4152800",iabCode:"IAB18-1",iabCat:"Beauty"},Health_and_Wellness:{id:"540522cb5c0eb47de4152806",iabCode:"IAB7",iabCat:"Health & Fitness"},Clean_Eating:{id:"58ebb95fb628206640771353",iabCode:"IAB8-12",iabCat:"Health/Lowfat Cooking"},Natural_Parenting:{id:"58ebba85b628206640771355",iabCode:"IAB6",iabCat:"Family & Parenting"},Baby:{id:"58ebba8bb628206640771356",iabCode:"IAB6-2",iabCat:"Babies & Toddlers"},Pregnancy:{id:"58ebba92b628206640771357",
iabCode:"IAB6-7",iabCat:"Pregnancy"},Toddler:{id:"58ebba9ab628206640771358",iabCode:"IAB6-2",iabCat:"Babies & Toddlers"},Womens_Style:{id:"58ebbaccb628206640771359",iabCode:"IAB18",iabCat:"Style & Fashion"},Travel:{id:"58ebbafbb62820664077135a",iabCode:"IAB20",iabCat:"Travel"},"History_&_Culture":{iabCode:"IAB14",iabCat:"Society"},"Arts_&_Creativity":{iabCode:"IAB1",iabCat:"Arts & Entertainment"},Education:{iabCode:"IAB5",iabCat:"Education"},Business:{iabCode:"IAB3",iabCat:"Business"},"Hobbies_&_Interests":{iabCode:"IAB9",
iabCat:"Hobbies & Interests"},Science:{iabCode:"IAB15",iabCat:"Science"},"Religion_&_Spirituality":{iabCode:"IAB23",iabCat:"Religion & Spirituality"},Shopping:{iabCode:"IAB22",iabCat:"Shopping"},"Law,_Gov't_&_Politics":{iabCode:"IAB11",iabCat:"Law, Gov't & Politics"},Careers:{iabCode:"IAB4",iabCat:"Careers"},Real_Estate:{iabCode:"IAB21",iabCat:"Real Estate"}};var ln=Array.prototype.splice;Ka.prototype.clear=function(){this.__data__=[];this.size=0};Ka.prototype["delete"]=function(a){var b=this.__data__;
a=Ec(b,a);if(0>a)return!1;a==b.length-1?b.pop():ln.call(b,a,1);--this.size;return!0};Ka.prototype.get=function(a){var b=this.__data__;a=Ec(b,a);return 0>a?void 0:b[a][1]};Ka.prototype.has=function(a){return-1<Ec(this.__data__,a)};Ka.prototype.set=function(a,b){var c=this.__data__,d=Ec(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};var Lk="object"==typeof global&&global&&global.Object===Object&&global,mn="object"==typeof self&&self&&self.Object===Object&&self,Ra=Lk||mn||Function("return this")(),
od=Ra.Symbol,Mk=Object.prototype,Ml=Mk.hasOwnProperty,Nl=Mk.toString,Lb=od?od.toStringTag:void 0,Ol=Object.prototype.toString,Bj=od?od.toStringTag:void 0,ng=Ra["__core-js_shared__"],Cj=function(){var a=/[^.]+$/.exec(ng&&ng.keys&&ng.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Rl=Function.prototype.toString,Ql=/^\[object .+?Constructor\]$/,Pl=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
"$1.*?")+"$"),Nk=ee(Ra,"Map"),rc=ee(Object,"create"),nn=Object.prototype.hasOwnProperty,on=Object.prototype.hasOwnProperty;cb.prototype.clear=function(){this.__data__=rc?rc(null):{};this.size=0};cb.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};cb.prototype.get=function(a){var b=this.__data__;return rc?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):nn.call(b,a)?b[a]:void 0};cb.prototype.has=function(a){var b=this.__data__;return rc?void 0!==b[a]:
on.call(b,a)};cb.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=rc&&void 0===b?"__lodash_hash_undefined__":b;return this};pb.prototype.clear=function(){this.size=0;this.__data__={hash:new cb,map:new (Nk||Ka),string:new cb}};pb.prototype["delete"]=function(a){a=Fc(this,a)["delete"](a);this.size-=a?1:0;return a};pb.prototype.get=function(a){return Fc(this,a).get(a)};pb.prototype.has=function(a){return Fc(this,a).has(a)};pb.prototype.set=function(a,b){var c=Fc(this,a),
d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};qb.prototype.clear=function(){this.__data__=new Ka;this.size=0};qb.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};qb.prototype.get=function(a){return this.__data__.get(a)};qb.prototype.has=function(a){return this.__data__.has(a)};qb.prototype.set=function(a,b){var c=this.__data__;if(c instanceof Ka){var d=c.__data__;if(!Nk||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=
new pb(d)}c.set(a,b);this.size=c.size;return this};var Gc=function(){try{var a=ee(Object,"defineProperty");a({},"",{});return a}catch(b){}}(),Yl=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var h=d.length;h--;){var m=d[a?h:++e];if(!1===c(f[m],m,f))break}return b}}(),Lj=Ra.Uint8Array,Ok=Object.create,bm=function(){function a(){}return function(b){if(!Ca(b))return{};if(Ok)return Ok(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}(),Mj=function(a,b){return function(c){return a(b(c))}}(Object.getPrototypeOf,
Object),Sl=Object.prototype,Pk=Object.prototype,pn=Pk.hasOwnProperty,qn=Pk.propertyIsEnumerable,ke=Ej(function(){return arguments}())?Ej:function(a){return rb(a)&&pn.call(a,"callee")&&!qn.call(a,"callee")},je=Array.isArray,Qk="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rk=Qk&&"object"==typeof module&&module&&!module.nodeType&&module,Sk=Rk&&Rk.exports===Qk?Ra.Buffer:void 0,Ij=(Sk?Sk.isBuffer:void 0)||Tl,Nj=Function.prototype.toString,Zl=Object.prototype.hasOwnProperty,$l=Nj.call(Object),
Z={};Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0;Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object Boolean]"]=Z["[object DataView]"]=Z["[object Date]"]=Z["[object Error]"]=Z["[object Function]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=
Z["[object Set]"]=Z["[object String]"]=Z["[object WeakMap]"]=!1;var Tk="object"==typeof exports&&exports&&!exports.nodeType&&exports,sc=Tk&&"object"==typeof module&&module&&!module.nodeType&&module,og=sc&&sc.exports===Tk&&Lk.process,Uk=function(){try{var a=sc&&sc.require&&sc.require("util").types;return a?a:og&&og.binding&&og.binding("util")}catch(b){}}(),Vk=Uk&&Uk.isTypedArray,Jj=Vk?Vl(Vk):Ul,am=Object.prototype.hasOwnProperty,Wl=/^(?:0|[1-9]\d*)$/,Xl=Object.prototype.hasOwnProperty,Pj=Math.max,
rn=Date.now,gm=function(a){var b=0,c=0;return function(){var d=rn(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}(Gc?function(a,b){return Gc(a,"toString",{configurable:!0,enumerable:!1,value:em(b),writable:!0})}:Oj),sn=function(a){return fm(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:void 0,h=2<e?c[2]:void 0;f=3<a.length&&"function"==typeof f?(e--,f):void 0;var m;if(m=h){m=c[0];var n=c[1];if(Ca(h)){var u=typeof n;m=("number"==u?he(h)&&Gj(n,h.length):
"string"==u&&n in h)?Dc(h[n],m):!1}else m=!1}m&&(f=3>e?void 0:f,e=1);for(b=Object(b);++d<e;)(h=c[d])&&a(b,h,d,f);return b})}(function(a,b,c){Kj(a,b,c)});let Db=class{constructor(a,b,c,d,e,f){this._config=a;this._jwBoostExperiment=b;this._topicsApiIframeManager=c;this._prebidMethods=d;this._spaEventBus=e;this._marmaladeEventBus=f;this._data={};this.createOrtbDataObj();this._onConsentEvent();this._marmaladeEventBus.resetMarmaladeData.once(()=>{this._setORTB2Data()});this._config.marmalade.rfDataProcessed.on(()=>
{this._setORTB2Data()})}_setORTB2Data(){this._prebidMethods.addToQueue(()=>{var a=this._prebidMethods.getConfig("ortb2")||{};this.createOrtbDataObj();a=sn(a,this._data);this._prebidMethods.setConfig({ortb2:a})});this._spaEventBus.routeChanged.on(()=>{this._prebidMethods.addToQueue(()=>{this.createOrtbDataObj();this._prebidMethods.setConfig({ortb2:{...this._data}})})})}createOrtbDataObj(){var a;this._userSegments=this._getUserSegments();this._siteSegments=this._getSiteSegments();var b=null!==(a=navigator.userAgentData&&
navigator.userAgentData.mobile)&&void 0!==a?a:I();let c=document.documentElement.lang,d=this._config.site.verticals,e=d.length?d[0].replace(/ /g,"_"):"";a={site:{content:{...(this._siteSegments.length&&{data:this._siteSegments})}},...(!this._config.ccpa.userOptedOut&&this._userSegments.length&&{user:{data:this._userSegments}})};b={cur:["USD"],at:1,device:{deviceType:b?1:2,language:navigator.language.slice(0,2),js:1},site:{content:{...(this._siteSegments.length&&{data:this._siteSegments}),...(c&&{language:c.slice(0,
2)})},...(d.length&&mg[e]&&{cat:[mg[e].iabCode],pagecat:[mg[e].iabCode]}),privacypolicy:1,mobile:1},...(this._userSegments.length&&{user:{data:this._userSegments}}),source:{fd:0}};this._data=this._config.prebid.ortbEnrich?{...b}:{...a}}get data(){return this._data}_onConsentEvent(){let a=this._config.ccpa;a.consentChange.on(b=>{this._prebidMethods.addToQueue(()=>{if(b===a.ccpaOptOut){let c=this._prebidMethods.getConfig("ortb2")||{};c.user&&(delete c.user,this._prebidMethods.setConfig({ortb2:c}))}})})}_getSiteSegments(){return this.buildSegmentData(this._config.marmalade.ortbSegments.get("iabc")||
[],6)}_getUserSegments(){if(this._config.ccpa.userOptedOut)return[];let a=this.buildSegmentData(this._config.marmalade.ortbSegments.get("iaba")||[],4),b=this._convertTopicData(this._topicsApiIframeManager.topics);if(!b.length)this._topicsApiIframeManager.topicsDataRecevied.on(c=>{this._setDelayedTopicsData(this._convertTopicData(c))});return a.concat(b)}_convertTopicData(a){return this.buildSegmentData(a.reduce((b,c)=>b.concat({id:String(c.topic)}),[]),600,"adthrive.com")}_setDelayedTopicsData(a){this._prebidMethods.addToQueue(()=>
{let b=this._prebidMethods.getConfig("ortb2")||{};b.user=b.user||{};b.user.data=b.user.data||[];b.user.data=b.user.data.concat(a);this._prebidMethods.setConfig({ortb2:b})})}buildSegmentData(a,b,c="cafemedia.com"){return a.length?[{name:c,segment:a,ext:{segtax:b}}]:[]}buildSegmentDataFromArray(a,b,c){return this.buildSegmentData(a.map(d=>({id:d})),b,c)}setOrtb2Imp(a,b){if(b)for(let c of Object.keys(a))b[c]=a[c]}setOrtb2ImpExt(a,b){b&&(b.ext={...b.ext,...a})}setOrtb2ImpExtData(a,b){var c;b&&(b.ext=
null!==(c=b.ext)&&void 0!==c?c:{},b.ext.data={...b.ext.data,...a})}_setVideoOrtb2ImpData(a,b){this.setOrtb2ImpExtData({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${b.name}/${this._config.site.id}`}},a);!this._config.ccpa.userOptedOut&&this._jwBoostExperiment.result&&this.setOrtb2ImpExtData({jwTargeting:b.getJwBoostTargeting()},a)}addOrtb2Imp(a,b=!1,c){let {slot:d,video:e}=a;a=c||{ext:{data:{}}};this._config.context.fledgeSupported&&this.setOrtb2ImpExt({ae:1},
a);e?this._setVideoOrtb2ImpData(a,e):d&&(c=(c=ye(d))?c:0,c=kk.includes(c)?c:0,this.setOrtb2ImpExtData({hvp:`${c}`},a));d&&b&&this.setOrtb2Imp({instl:1},a);d&&d.isHighlyViewable()&&this.setOrtb2ImpExtData({pos:"atf"},a);return a}addOrtb2Reg(a,b){this._prebidMethods.addToQueue(()=>{let c=this._prebidMethods.getConfig("ortb2")||{};c.regs={gpp:a,gpp_sid:b};this._prebidMethods.setConfig({ortb2:c})})}};Db=k([q(),l("design:paramtypes",[y,qc,pc,V,ja,Ga])],Db);let Wk=class extends C{constructor(a){super();
this._config=a}init(){Xb()||this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){let a=document.createElement("div");a.className="adthrive-privacy-preferences";let b=document.createElement("a");b.href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);";b.innerText="Update Privacy Preferences";a.appendChild(b);this._config.footer.elements.push({order:1,element:a})}};Wk=k([p("GDPRComponent"),v(),l("design:paramtypes",[y])],Wk);let Oa=class{constructor(){this.consentCaptured=
new z}};Oa=k([q()],Oa);let lb=class extends C{constructor(a,b){super();this._events=a;this._config=b;this._queues=[F,r]}init(){this.checkConsentOnLoad().then(a=>{let b=a&&a.tcString;b?(this._config.gdpr.consentCaptured=!0,this._config.gdpr.revokedPurposeConsent=this._checkForRevokedPurpose(a.purpose),this._events.consentCaptured.emit(b),this._clearGdprQueues()):this._listenForConsentSubmit().catch(c=>{r.error("init","listenForConsentSubmit",c)})}).catch(a=>{r.error("init","checkConsentOnLoad",a)})}checkConsentOnLoad(){return new Promise(a=>
{window.__tcfapi("addEventListener",2,(b,c)=>{let d=Xb();return c&&b&&"tcloaded"===b.eventStatus&&b.tcString&&!d?a(b):a({})})})}checkConsentForVendor(a,b){return new Promise(c=>{window.__tcfapi("checkConsent",2,(d,e)=>e?c(d):c(!1),{data:[{vendorId:a,purposeIds:b}]})})}_clearGdprQueues(){this._queues.forEach(a=>{this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,a.purposes).then(b=>{b?a.clearQueue(!0):(a.disable=!0,a.clearQueue(!1))}).catch(b=>{r.error("listenForConsentSubmit","checkConsentForVendor",
b)})})}_listenForConsentSubmit(){return new Promise(a=>{window.__tcfapi("addEventListener",2,(b,c)=>{c&&(b&&"useractioncomplete"===b.eventStatus&&(this._config.gdpr.consentCaptured=!0,this._config.gdpr.revokedPurposeConsent=this._checkForRevokedPurpose(b.purpose),this._events.consentCaptured.emit(b.tcString),this._clearGdprQueues(),window.__tcfapi("removeEventListener",2,d=>{},b.listenerId)),a(!0));a(!1)})})}_checkForRevokedPurpose(a){a=a&&a.consents||{};return!a[1]||!a[4]}get enabled(){return"function"===
typeof window.__tcfapi}};lb=k([p("GDPREnforcementComponent"),v(),l("design:paramtypes",[Oa,y])],lb);let pd=class extends Hk{constructor(a,b,c,d,e,f,h,m,n,u){super();this._config=a;this._amazonMethods=b;this._amazonHoldDisplayExperiment=c;this._floors=d;this._videoEventBus=e;this._bootstrapConfig=f;this._firstPartyDataComponent=h;this._ortb2=m;this._gdprEnforcement=n;this._gdprEvents=u;this.holdDisplayExperiment=!1;this.videoSlotNames=new Map;this._gptSlot=new Map;this._amazonConfig={pubID:this._config.amazon.pubId,
deals:this._config.adOptions.pmp,adServer:"googletag",videoAdServer:"DFP",...(this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}}),schain:(new Ik).getSupplyChainConfig(this._config.site.id)}}init(){void this._checkLibLoaded().then(()=>{this._setupFpdForCCPA();this._setupFpdForGDPR();this._config.ccpa.required||this._config.gdpr.enabled||this._toggleFPDToAmzConfig(!0);this._amazonMethods.init(this._amazonConfig)}).catch(a=>{r.error("AmazonAuctionManager",
"init","Failed to initialize apstag",a)});this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result;this.videoSlotNames=this._initVideoSlotMap()}_setupFpdForGDPR(){if(this._config.gdpr.enabled)this._gdprEvents.consentCaptured.on(()=>{this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]).then(a=>{this._toggleFPDToAmzConfig(!!a);this._amazonMethods.init(this._amazonConfig)}).catch(()=>{})})}_setupFpdForCCPA(){this._config.ccpa.required&&(this._config.ccpa.userOptedOut||
this._toggleFPDToAmzConfig(!0),this._config.ccpa.consentChange.on(a=>{this._amazonConfig.params&&a&&(this._amazonConfig.params.us_privacy=a);this._toggleFPDToAmzConfig(a!==this._config.ccpa.ccpaOptOut);this._amazonMethods.init(this._amazonConfig)}))}_toggleFPDToAmzConfig(a=!0){if(a){a={site:{...this._ortb2.data.site,cattax:1},user:{...this._ortb2.data.user}};let b={ext:{data:{mcmp:[...this._config.marmalade.mcmp,...this._config.marmalade.rfMcmpCodes.map(c=>c[0])],...this._firstPartyDataComponent.staticFirstPartyData}}};
a.site={...a.site,...b};this._amazonConfig={...this._amazonConfig,signals:{ortb2:{...a}}}}else delete this._amazonConfig.signals}requestBids(a,b=this._config.timeouts.initialBidsRequest-200,c=!1){let d=this._amazonMethods,{id:e}=this._config.site,{networkCode:f,prefix:h}=this._config.gam;a=a.filter(m=>"Native_Recipe"!==m.location);return new Promise(m=>{this._checkLibLoaded().then(n=>{if(!n||!a.length)return m();D.pushToQueue(()=>{let u=a.filter(w=>void 0!==w.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(w.location)).map(w=>
{const t=w.element.id;var A=this._floors.getAmazonFloors(t,w.hvp);A={slotID:t,slotName:`/${f}/${h}_${w.name}/${e}`,sizes:w.sizes,...("Video_StickyOutstream"===w.location&&{mediaType:"video"}),...(A&&0<A.value&&A.currency&&{floor:{value:Math.ceil(100*A.value),currency:A.currency}})};this._gptSlot.set(t,w.googleTagSlot);return A});u.length?(d.fetchBids({slots:u,timeout:b,params:{adRefresh:c?"1":"0"}},w=>{D.pushToQueue(()=>{w.length?w.forEach(t=>{let A=this._gptSlot.get(t.slotID),{bidder:G,cpm:N,mediaType:O,
pmpCpm:H,pmpBidder:P}=this._decryptAmazonBid(t.targeting||t);if(A&&G&&N){let K=Lc(this._config,t,G,N,O);A.setTargeting("amz_pb",K);A.setTargeting("amz_bidder",G);H&&P&&(t=Lc(this._config,t,P,H,O),A.setTargeting("amz_pb_sp",t),A.setTargeting("amz_bidder_sp",P))}d.setDisplayBids();m(N)}):(d.setDisplayBids(),m())})}),this.holdDisplayExperiment||m()):m()})}).catch(n=>{r.error("AmazonAuctionManager","requestBids",n)})})}refreshBids(a){this._clearAmazonKeys(a);return this.requestBids(a,this._config.timeouts.refreshBidsRequest-
200,!0)}_clearAmazonKeys(a){a.forEach(b=>{if(b.googleTagSlot){let c=b.googleTagSlot.getTargetingKeys();this._config.amazon.amznTargetingKeys.forEach(d=>c.includes(d)&&b.googleTagSlot.clearTargeting(d))}})}requestVideoBids(a,b=this._config.timeouts.initialBidsRequest-200){let c=this._amazonMethods;return Promise.all(a.map(d=>{let e=this._floors.getAmazonFloors(d.name)||{value:0,currency:"USD"},f=Math.ceil(100*(Number(e&&e.value||0)+this._config.video.minFloor)),h={slotID:this.videoSlotNames.get(d.name),
mediaType:"video",floor:{value:f,currency:e.currency||"USD"}};return new Promise(m=>{this._checkLibLoaded().then(n=>{if(!n)return m();h?c.fetchBids({slots:[h],timeout:b},u=>{u.length&&u.forEach(w=>{let {cpm:t,amznBid:A}=this._setDecryptedAmazonVideoKVs(w);this._videoEventBus.addAPStagSlotBidResponse.legacyEmit({playlistId:d._playlistId,bid:A});m(t)});m()}):m()}).catch(n=>{r.error("AmazonAuctionManager","requestVideoBids",n)})})})).then(()=>Promise.resolve()).catch()}get videoEnabled(){return this._config.partners.video.get("AmazonUAM")}get enabled(){return this._amazonMethods.isAmazonLoaded()&&
this._config.amazon.enabled}_decryptAmazonBid(a){var b=a[Rb.amznbid]||"",c=b.includes("_")?b.substring(2):b;c=Kk[c];let d=Jk.get(a[Rb.amznp]||"")||"",e=a.amznbid_sp||"",f=a.mediaType_sp||"";var h=e.includes("_")?e.substring(2):e;h=Kk[h];a=Jk.get(a[`${Rb.amznp}_sp`]||"")||"";b=b.includes("o_")?"stickyOutstream":b.includes("v_")?"instream":"default";return{bidder:d,cpm:c,mediaType:b,...(e.length&&{pmpCpm:h,pmpBidder:a,pmpMediaType:f})}}async _checkLibLoaded(){try{return await this._bootstrapConfig.bootstrapLoaders[qa.Amazon],
!0}catch(a){return r.error("AmazonAuctionManager","checkLibLoaded",a),!1}}_initVideoSlotMap(){var a=new Map([[x.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[x.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[x.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),b=new Map([[x.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[x.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[x.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]]);return pa()?a:b}_setDecryptedAmazonVideoKVs(a){let b=
{...a},{bidder:c,cpm:d,mediaType:e,pmpCpm:f,pmpBidder:h}=this._decryptAmazonBid(a.targeting||a);c&&d&&(a=Lc(this._config,b,c,d,e),b.amz_pb=`${a}`,b.amz_bidder=c);f&&h&&(a=Lc(this._config,b,h,f,e),b.targeting?(b.targeting.amz_pb_sp=`${a}`,b.targeting.amz_bidder_sp=`${h}`):(b.amz_pb_sp=`${a}`,b.amz_bidder_sp=`${h}`));return{amznBid:b,cpm:d}}};pd=k([p("AmazonAuctionManager"),v(),l("design:paramtypes",[y,hg,ld,Na,wa,ka,nd,Db,lb,Oa])],pd);let Xk=class extends J{init(){this._key="OpenXLiveIntent";this._default=
!1}};var tn=Xk=k([p("OpenXLiveIntentExperiment"),q()],Xk);let ta=(a,b)=>{var c;return!(null===(c=a.idho.subModule)||void 0===c?0:c.some(d=>d===b))},Pa=class{constructor(a,b,c,d){this._config=a;this._context=b;this._piiEventBus=c;this._openXLiveIntentExperiment=d;this._pixelUrl=`${window.location.origin}/wp-json/adthrive-pubcid/v1/extend`;this._sharedIdCookie=ha("_pubcid");this._sharedIdLocalNew=F.getLocalStorageValue("_pubcid",!1);this._sharedIdLocalLegacy=F.getLocalStorageValue("pbjs-pubcommonid",
!1);this._sharedIdExpLocalLegacy=F.getLocalStorageValue("pbjs-pubcommonid_exp",!1);this._connectIdConfig=["connectId",{id:{name:"connectId",params:{pixelId:58404,...(this._getSharedId()&&{puid:this._getSharedId()}),...(this._config.user.hash&&{he:this._config.user.hash})},storage:{name:"connectid",type:"html5",expires:15}},enabled:ta(this._config,"connectId")&&this._config.liveRampAts.enabled,targetingKey:"cid"}];this._unifiedIdConfig=["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},
storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled:ta(this._config,"unifiedId"),targetingKey:"uid1"}];this._unifiedId2Config=["uid2",{id:{name:"uid2",params:{uid2ServerCookie:"__uid2_server_token"},storage:{type:"cookie",name:"__uid2_advertising_token"}},enabled:ta(this._config,"unifiedId2")&&!this._config.gdpr.enabled,targetingKey:"uid2"}];this._id5IdConfig=["id5Id",{id:{name:"id5Id",params:{partner:367,...(this.sharedIdValue&&this._config.user.hash&&{pd:btoa(`1=${this._config.user.hash}&5=${this.getSharedIdValue()}&12=${ca}`)})},
storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled:ta(this._config,"id5Id"),targetingKey:"id5-d"}];this._identityLinkConfig=["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled:ta(this._config,"identityLink"),targetingKey:"idl"}];this._pairIdConfig=["pairId",{id:{name:"pairId",params:{liveramp:{}},storage:{type:"html5",name:"pbjs-pairId",expires:30,refreshInSeconds:1800}},enabled:ta(this._config,
"pairId")&&this._config.liveRampAts.enabled,targetingKey:"pair"}];this._criteoIdConfig=["criteo",{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled:ta(this._config,"criteo"),targetingKey:"cri"}];this._sharedIdConfigStorage=["sharedId",{id:{name:"sharedId",storage:{type:"html5",name:this._validateLegacySharedId()?"pbjs-pubcommonid":"_pubcid",expires:60}},enabled:ta(this._config,"sharedId"),targetingKey:"shl"}];this._sharedIdConfigCookie=["sharedId",{id:{name:"sharedId",
storage:{type:"cookie",name:"_pubcid",expires:60},params:this._context.integration&&Fk("adthrive-ads-2.3.0",this._context.plugin)?{create:!1,pixelUrl:this._pixelUrl}:void 0},enabled:ta(this._config,"sharedId"),targetingKey:"shc"}];this._fabrickIdConfig=["fabrickId",{id:{name:"fabrickId",params:{apiKey:"2215608639",...(void 0!==this._config.user.hash&&{e:this._config.user.hash})},storage:{type:"html5",name:"pbjs_fabrickId",expires:60}},enabled:ta(this._config,"fabrickId")&&!this._config.gdpr.enabled,
targetingKey:"fab"}];this._fTrackIdConfig=["ftrack",{id:{name:"FTrack",params:{url:"https://d9.flashtalking.com/d9core",ids:{"device id":!0,"single device id":!0,"household id":!0}},storage:{type:"html5",name:"FTrackId",expires:60,refreshInSeconds:28800}},enabled:ta(this._config,"FTrack")&&!this._config.gdpr.enabled,targetingKey:"ftr"}];this._33AcrossIdConfig=["33acrossId",{id:{name:"33acrossId",params:{pid:"0013300001i0fyfAAA"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}},
enabled:ta(this._config,"33acrossId")&&!this._config.gdpr.enabled,targetingKey:"33a"}];this._liveIntentIdConfig=["liveIntentId",{id:{name:"liveIntentId",params:{distributorId:"did-001w",requestedAttributesOverrides:{uid2:!0,medianet:!0,bidswitch:!0,magnite:!0,index:!0,pubmatic:!0,openx:this._openXLiveIntentExperiment.result},emailHash:this._config.user.hash},storage:{name:"pbjs_li_nonid",type:"html5",expires:1,refreshInSeconds:28800}},enabled:ta(this._config,"liveIntentId"),targetingKey:"liid"}];
this._lotamePanoramaIdConfig=["lotamePanoramaId",{id:{name:"lotamePanoramaId",params:{clientId:"17297"}},enabled:ta(this._config,"lotamePanoramaId"),targetingKey:"lpid"}];this._piiEventBus.dataCaptured.on(async e=>{a.gdpr.enabled||await this._setTTDUId2ServerCookie(e)});this.ids=new Map([this._getSharedIdConfig(),this._connectIdConfig,this._unifiedIdConfig,this._unifiedId2Config,this._id5IdConfig,this._identityLinkConfig,this._pairIdConfig,this._criteoIdConfig,this._fabrickIdConfig,this._fTrackIdConfig,
this._33AcrossIdConfig,this._liveIntentIdConfig,this._lotamePanoramaIdConfig])}get sharedIdValue(){return this.getSharedIdValue()}get(a){return this.ids.get(a)}forEach(a){return this.ids.forEach(a)}values(){return this.ids.values()}getSharedIdValue(){let a=ha("_pubcid"),b=localStorage.getItem("_pubcid");return a||b}_getSharedIdConfig(){let a=this._sharedIdCookie;this._sharedIdCookie||this._sharedIdLocalNew||this._validateLegacySharedId()||(F.setLocalStorageValue("_pubcid","null",!1),F.setLocalStorageValue("_pubcid_exp",
"Sun, 20 Nov 2022 18:48:47 GMT",!1));return a?this._sharedIdConfigCookie:this._sharedIdConfigStorage}_validateLegacySharedId(){var a;if(a=this._sharedIdExpLocalLegacy&&this._sharedIdLocalLegacy)a=(new Date(this._sharedIdExpLocalLegacy)).getTime(),a=!(a?a<(new Date).getTime():1);return a}_getSharedId(){return this._sharedIdCookie?this._sharedIdCookie:this._validateLegacySharedId()?this._sharedIdLocalLegacy:this._sharedIdLocalNew}async _setTTDUId2ServerCookie(a){let b=ha("__uid2_server_token"),c=`https://ads.adthrive.com/api/v2/uid?format=email_hash&value=${a.sha256Hash}`;
b||await new Promise((d,e)=>{fetch(c).then(f=>f.json().then(({body:h})=>{let m=new Date;m.setTime(m.getTime()+5184E6);let n=JSON.stringify(h);document.cookie=`__uid2_server_token=${n}; expires=${m.toUTCString()}; path=/; domain=.${location.hostname}`;d(h.advertising_token)})).catch(f=>{r.error("UserIds","_setTTDUId2ServerCookie",f);e(f)})})}};Pa=k([p("UserIds"),q(),l("design:paramtypes",[y,vb,Va,tn])],Pa);let pg=class{constructor(a,b){this._userIds=a;this._prebidMethods=b}getStoredIdValue(a){let b;
"cookie"===a.type&&window.navigator.cookieEnabled?b=ha(a.name):"html5"===a.type&&(b=F.getLocalStorageValue(a.name,!1,!1));return b}getSyncedIdModules(a){return[...a].reduce((b,c)=>{var d;return void 0!==c.storage&&this.getStoredIdValue(c.storage)?(b.push(c.name),b):"lotamePanoramaId"===c.name&&window.localStorage.getItem("panoramaId")?Number(null!==(d=window.localStorage.getItem("panoramaId_expiry"))&&void 0!==d?d:0)>Date.now()?[...b,c.name]:b:b},[])}getSyncedPartners(a){let b=this.getSyncedIdModules(a).map(c=>
{c="FTrack"===c?c.toLowerCase():c;return this._userIds.get(c).targetingKey});this._prebidMethods.addToQueue(()=>{let c;try{(c=this._prebidMethods.getUserIds().lipb.uid2)&&b.push("li_uid2")}catch(d){}});a=this.getMagniteCarbonId();return[...b,...a]}getMagniteCarbonId(){let a=F.getLocalStorageValue("carbon_ccuid"),b=ha("ccuid"),c=ha("ccsid");return a||b||c?["mgncrbn"]:[]}};pg=k([p("UserIdTargeting"),v(),l("design:paramtypes",[Pa,V])],pg);let qd=class extends C{constructor(a,b,c,d,e,f){super();this._prebidMethods=
a;this.userIdTargeting=b;this._userIds=c;this._gam=d;this._slotEventBus=e;this._idhoExperiment=f;this._enabledUserIds=[];this._ppid=null;this._enabledUserIds=[...c.values()].filter(h=>h.enabled).map(h=>{"sharedId"===h.id.name&&(this._ppid=F.getLocalStorageValue(h.id.storage&&h.id.storage.name||"",!1))&&(h.id.value={pubcid:this._ppid});return h.id});this._slotEventBus.requestingBids.once(this._setPPID.bind(this));this._slotEventBus.refreshingBids.once(this._setPPID.bind(this))}getTargetingData(){return this.userIdTargeting.getSyncedPartners(this._enabledUserIds)}get enabledUserIds(){return[...this._userIds.values()].map(a=>
a.id)}init(){let a={userIds:this._enabledUserIds};this._ppid&&(a={ppid:"pubcid.org",...a});this._prebidMethods.setConfig({userSync:a})}convertToBinary(a){return a.split("").map(b=>b.charCodeAt(0).toString(2)).join(" ")}_setPPID(){let a=this._userIds.sharedIdValue,b=e=>{this._gam.setTargetingFlag("ppid",e,!0);return e};if(this._idhoExperiment.result&&this._idhoExperiment.result.includes("id5Id"))a?(b(["sh_id"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a)):b(["no_sharedIDAvail_noPPIDSet"]);
else{var c=window.localStorage.getItem("id5id");if(!c&&a)b(["no_id5StorageAvail_sharedIdSent"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a);else if(c){if((c=JSON.parse(decodeURIComponent(c)).gp)||a){if(!c){b(["gpid_na_sharedIdSent"]);this._prebidMethods.setConfig({ppid:a});this._gam.setSharedIdAsPPID(a);return}if(!a){b(["no_sharedIdAvail_gpidSent"]);this._prebidMethods.setConfig({ppid:c});this._gam.setGPIDasPPID(c);return}}else b(["both_na_noPPIDSet"]);var d=this.convertToBinary(c);
"error during binary conversion"===d?(b(["errorDuringGPIDBinaryConversion_sharedIdSent"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a)):0===parseInt(d.charAt(d.length-1))%2?(b(["gpid"]),this._prebidMethods.setConfig({ppid:c}),this._gam.setGPIDasPPID(c)):(b(["sh_id"]),this._prebidMethods.setConfig({ppid:a}),this._gam.setSharedIdAsPPID(a))}else b(["no_id5StorageAvail_noSharedIdAvail_noPPIDset"])}}};qd=k([p("UserIdComponent"),v(),l("design:paramtypes",[V,pg,Pa,D,Ia,$b])],qd);
class un{}let rd=class extends T{init(){this._key="Analytics"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],rd.prototype,"run",null);rd=k([p("AnalyticsExperiment"),q()],rd);let qg=class extends un{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._analyticsExperiment=c;this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],
host:`${this._config.context.bucket}.com`}})}catch(a){r.error("RoxotAnalytics","init - ignored",a)}else r.error("RoxotAnalytics","init",Error("Disabled roxot because localStorage is undefined"))}get enabled(){return"roxot"===this._analyticsExperiment.result}};qg=k([p("RoxotAnalytics"),v(),l("design:paramtypes",[y,V,rd])],qg);class vn{updateBidParams(a,b){}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}_addPositionParam(a,b){a.params.position=b}_addPlacementIdParam(a,
b){a.params.placementId=b}_addBidLabel(a,b){let c=[];b.outstreamActive&&c.push(`outstreamActive_${a}`);b.outstreamCapable&&c.push(`outstreamCapable_${a}`);b.refresh&&c.push("refresh");return c.length?{labelAll:c}:{}}}class X extends vn{getSlotBidRequests(a){}getBannerSlotBidRequests(a){}getOutstreamSlotBidRequests(a){}getVideoSlotBidRequests(a){}getBannerBidRequests(a){return a.reduce((b,c)=>{b.set(c.id,this.getBannerSlotBidRequests(c));return b},new Map)}getOutstreamBidRequests(a){return a.reduce((b,
c)=>{b.set(c.id,this.getOutstreamSlotBidRequests(c));return b},new Map)}getVideoBidRequests(a){return a.reduce((b,c)=>{b.set(c.name,this.getVideoSlotBidRequests(c));return b},new Map)}}let rg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.ThirtyThreeAcross);this.videoCreativeIds=[["138395447475",g.ThirtyThreeAcross],["138395937226",g.ThirtyThreeAcross],["138395937256",g.ThirtyThreeAcross],["138395937310",g.ThirtyThreeAcross],["138395937325",
g.ThirtyThreeAcross],["138395447241",g.ThirtyThreeAcross],["138395937274",g.ThirtyThreeAcross],["138395937313",g.ThirtyThreeAcross],["138395937319",g.ThirtyThreeAcross],["138395937343",g.ThirtyThreeAcross],["138395937349",g.ThirtyThreeAcross],["138395937304",g.ThirtyThreeAcross],["138395937307",g.ThirtyThreeAcross],["138395937322",g.ThirtyThreeAcross],["138395937346",g.ThirtyThreeAcross],["138395445846",g.ThirtyThreeAcross]];this._bannerProductId="siab";this._videoProductId="instream";this._bannerMap=
new Map([["Below_Post","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],
["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9","cggK7W_Lur6ikfaKlId8sQ"]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"a_lKMg0Iar7k8brkHcnlxd"],[x.Video_Coll_SOff_Smartphone,
"b7sKMM0Iar7ikGrkHcnnVW"],[x.Video_In_Post_ClicktoPlay_SoundOn,"c98www0Iar7ioerkHcnlKl"],[x.Video_Individual_Autoplay_SOff,"bhUZlu0Ier7ioerkHcnlKl"]])}get enabled(){return this._config.partners.display.get(g.ThirtyThreeAcross)}get videoEnabled(){let a=this._config;return a.partners.video.get(g.ThirtyThreeAcross)&&!!a.video.playbackmethod}getBannerSlotBidRequests(a){return this._getBidParams(a)}getOutstreamSlotBidRequests(a){return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){let b=this._videoMap;
if(a=b.has(a.name)&&b.get(a.name))return[{bidder:this.name,params:{siteId:a,productId:this._videoProductId}}]}_getBidParams(a,b=!1){var c=this._bannerMap;if(c=c.has(a.placementMapName)&&c.get(a.placementMapName))return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:b}),params:{siteId:c,productId:this._bannerProductId}}]}};rg=k([p("ThirtyThreeAcrossBidder"),v(),l("design:paramtypes",[y])],rg);let Ya=class{constructor(a,b,c){this._gam=a;this._pageManager=b;this._spaEventBus=
c;this.scroll=new z;this.resize=new z;this.pageVisibility=new z;this.videoPlaying=new z;this.videoSlotRendered=new z;this.footerRefreshed=new z;this.spaListeners=[];this._setupSpaListeners();this.addEventListeners();this._gam.slotResponseReceived.on(({slot:d})=>{"Footer"===d.location&&void this.footerRefreshed.emit()})}_setupSpaListeners(){this._spaEventBus.routeChanged.on(()=>{this.spaListeners.forEach(a=>a());this.spaListeners.length=0});this._spaEventBus.resetCompleted.on(()=>{this.addEventListeners()})}addEventListeners(){let a=
!1,b=!1,c=()=>{a||(a=!0,setTimeout(()=>{void this.scroll.emit();a=!1},100))},d=()=>{b||(b=!0,setTimeout(()=>{void this.resize.emit();b=!1},100))};this.spaListeners.push(this._pageManager.scroll.on(()=>c()));this.spaListeners.push(this._pageManager.resize.on(()=>d()));this.spaListeners.push(this._pageManager.visibilityChange.on(()=>{void this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(a){this.videoPlaying.emit(a)}emitVideoSlotRenderedEvent(a){this.videoSlotRendered.emit(a)}};Ya=
k([q(),l("design:paramtypes",[D,va,ja])],Ya);var M;(function(a){a.AD_BREAK_READY="adBreakReady";a.AD_BUFFERING="adBuffering";a.AD_ERROR="adError";a.AD_CAN_PLAY="adCanPlay";a.ADS_MANAGER_LOADED="adsManagerLoaded";a.AD_METADATA="adMetadata";a.AD_PROGRESS="adProgress";a.ALL_ADS_COMPLETED="allAdsCompleted";a.CLICK="click";a.COMPLETE="complete";a.CONTENT_PAUSE_REQUESTED="contentPauseRequested";a.CONTENT_RESUME_REQUESTED="contentResumeRequested";a.DURATION_CHANGE="durationChange";a.EXPANDED_CHANGED="expandedChanged";
a.FIRST_QUARTILE="firstQuartile";a.IMPRESSION="impression";a.INTERACTION="interaction";a.LINEAR_CHANGED="linearChanged";a.LOADED="loaded";a.LOG="log";a.MIDPOINT="midpoint";a.PAUSED="pause";a.RESUMED="resume";a.SKIPPABLE_STATE_CHANGED="skippableStateChanged";a.SKIPPED="skip";a.STARTED="start";a.THIRD_QUARTILE="thirdQuartile";a.USER_CLOSE="userClose";a.VIDEO_CLICKED="videoClicked";a.VIDEO_ICON_CLICKED="videoIconClicked";a.VIEWABLE_IMPRESSION="viewable_impression";a.VOLUME_CHANGED="volumeChange";a.VOLUME_MUTED=
"mute"})(M||(M={}));var Yk;(function(a){a.AD_LOAD="adLoadError";a.AD_PLAY="adPlayError"})(Yk||(Yk={}));var Zk;(function(a){a[a.ADSLOT_NOT_VISIBLE=-1]="ADSLOT_NOT_VISIBLE";a[a.ADS_REQUEST_NETWORK_ERROR=1012]="ADS_REQUEST_NETWORK_ERROR";a[a.ASSET_FALLBACK_FAILED=1021]="ASSET_FALLBACK_FAILED";a[a.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED";a[a.COMPANION_AD_LOADING_FAILED=-1]="COMPANION_AD_LOADING_FAILED";a[a.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR";a[a.CONSENT_MANAGEMENT_PROVIDER_NOT_READY=
1300]="CONSENT_MANAGEMENT_PROVIDER_NOT_READY";a[a.DEPRECATED_ERROR_CODE=-1]="DEPRECATED_ERROR_CODE";a[a.FAILED_TO_REQUEST_ADS=1005]="FAILED_TO_REQUEST_ADS";a[a.INVALID_AD_TAG=1013]="INVALID_AD_TAG";a[a.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS";a[a.NATIVE_MESSAGE_ERROR=1204]="NATIVE_MESSAGE_ERROR";a[a.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR";a[a.OVERLAY_AD_LOADING_FAILED=-1]="OVERLAY_AD_LOADING_FAILED";a[a.OVERLAY_AD_PLAYING_FAILED=500]="OVERLAY_AD_PLAYING_FAILED";a[a.Rh=2002]=
"Rh";a[a.STREAM_INITIALIZATION_FAILED=1020]="STREAM_INITIALIZATION_FAILED";a[a.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE";a[a.UNKNOWN_ERROR=900]="UNKNOWN_ERROR";a[a.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE";a[a.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND";a[a.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE";a[a.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH";a[a.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT";a[a.VAST_MALFORMED_RESPONSE=-1]="VAST_MALFORMED_RESPONSE";a[a.VAST_MEDIA_ERROR=
-1]="VAST_MEDIA_ERROR";a[a.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT";a[a.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH";a[a.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER";a[a.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE";a[a.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR";a[a.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS";a[a.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR";a[a.VAST_UNEXPECTED_DURATION_ERROR=
202]="VAST_UNEXPECTED_DURATION_ERROR";a[a.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY";a[a.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION";a[a.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR";a[a.VIDEO_ELEMENT_REQUIRED=-1]="VIDEO_ELEMENT_REQUIRED";a[a.VIDEO_ELEMENT_USED=-1]="VIDEO_ELEMENT_USED";a[a.VIDEO_PLAY_ERROR=400]="VIDEO_PLAY_ERROR";a[a.VPAID_ERROR=901]="VPAID_ERROR"})(Zk||(Zk={}));let sg=class extends J{init(){this._default=!1;this._key="PlayInline"}};sg=k([p("PlayInlineExperiment"),
q()],sg);class wn extends C{constructor(a,b,c,d,e,f,h,m,n){super();this._playerId=a;this._playlistId=b;this._playerType=c;this._pageElement=d;this._eventProxy=e;this._size=f;this._autoplay=h;this._vastLoadTimeout=m;this._maxRedirect=n;this.state="idle";this.adClick=new z;this.adError=new z;this.adCompleted=new z;this.adFirstQuartile=new z;this.adImpression=new z;this.adLoaded=new z;this.adMidpoint=new z;this.adRequest=new z;this.adPause=new z;this.adPlay=new z;this.adSkipped=new z;this.adStarted=
new z;this.adThirdQuartile=new z;this.adTime=new z;this.adViewableImpression=new z;this.allAdsCompleted=new z;this.contentPauseRequested=new z;this.contentResumeRequested=new z;this.error=new z;this.firstFrame=new z;this.fullscreen=new z;this.mute=new z;this.loaded=new z;this.pause=new z;this.play=new z;this.ready=new z;this.setupError=new z;this.time=new z;this.volume=new z;this._adContainer=document.createElement("DIV");this._container=document.createElement("DIV");this._videoElement=document.createElement("VIDEO");
this._imaLibraryEnpoint="https://imasdk.googleapis.com/js/sdkloader/ima3.js";this._muted=!0;this._userPaused=!1;this._playInlineExperiment=E.resolve(sg)}async init(){await this._importIMAScript();(this._ima=window.google&&window.google.ima)?(this._injectPlayer(),this.ready.emit()):r.error("VideoPlayer","init",this._playerType,"Failed to initialize player. IMA is not defined.")}playAd(a){let b=this._adsLoader,c=this._adsRequest,d=this._size,{adResponse:e,adTagUrl:f}=a;c.linearAdSlotWidth=d[0];c.linearAdSlotHeight=
d[1];c.nonLinearAdSlotWidth=d[0];c.nonLinearAdSlotHeight=d[1];e&&(c.adsResponse=e);f&&(c.adTagUrl=f);b.addEventListener(M.ADS_MANAGER_LOADED,this._adsManagerLoaded.bind(this),!1);b.addEventListener(M.AD_ERROR,this._adError.bind(this),!1);b.requestAds(c)}_adComplete(a){a=this._getAdRenderDetails(a);this.adCompleted.emit(a)}_adError(a){a=a&&a.error&&a.error.data;this.adError.emit(a?{code:a.errorCode,message:a.errorMessage,type:a.type}:{})}_adImpression(a){a=this._getAdRenderDetails(a);this.adImpression.emit(a)}_adLoaded(a){this._enablePlayerAdControls();
a=this._getAdRenderDetails(a);this.adLoaded.emit(a);document.hidden&&this._pauseAd()}_adStarted(a){a=this._getAdRenderDetails(a);this.adStarted.emit(a);this.state="playing";this._container.classList.remove("adthrive-player-idle");this._container.classList.add("adthrive-player-playing");this._adsManager.setVolume(0)}_adProgress(a){(a=a.getAdData())&&this.adTime.emit({duration:a.duration,position:a.currentTime})}_allAdsComplete(a){a=this._getAdRenderDetails(a);this.allAdsCompleted.emit(a)}_adSkipped(a){a=
this._getAdRenderDetails(a);this.adSkipped.emit(a)}_click(a){a=this._getAdRenderDetails(a);this.adClick.emit(a)}_contentPauseRequested(a){a=this._getAdRenderDetails(a);this.contentPauseRequested.emit(a)}_contentResumeRequested(a){a=this._getAdRenderDetails(a);this.contentResumeRequested.emit(a)}_firstQuartile(a){a=this._getAdRenderDetails(a);this.adFirstQuartile.emit(a)}handlePageVisibilityChange(a){"playing"===this.state&&a?this._pauseAd():"paused"!==this.state||a||this._userPaused||this._playAd()}_midpoint(a){a=
this._getAdRenderDetails(a);this.adMidpoint.emit(a)}_paused(a){a=this._getAdRenderDetails(a);this.adPause.emit(a);this.state="paused";let b=(a=document.getElementById(`adthrive-player-icon-pause-${this._playerId}`))&&a.previousSibling;a&&this._toggleClass(a,"adthrive-player-icon-hidden");b&&this._toggleClass(b,"adthrive-player-icon-hidden")}_resumed(a){a=this._getAdRenderDetails(a);this.adPlay.emit(a);this.state="playing";this._userPaused=!1;let b=(a=document.getElementById(`adthrive-player-icon-play-${this._playerId}`))&&
a.nextSibling;b&&this._toggleClass(b,"adthrive-player-icon-hidden");a&&this._toggleClass(a,"adthrive-player-icon-hidden")}_thirdQuartile(a){a=this._getAdRenderDetails(a);this.adThirdQuartile.emit(a)}_pauseAd(a){a&&(this._userPaused=!0);"paused"!==this.state&&this._adsManager.pause()}_playAd(){"playing"!==this.state&&this._adsManager.resume()}_remove(){this._removeAdsManagerEvents();this._removePlayer();this._muted=!0;this.state="idle";this._adDisplayContainer&&this._adDisplayContainer.destroy();this._adsLoader&&
this._adsLoader.destroy();this._adsManager&&this._adsManager.destroy()}_toggleClass(a,b){b=this._castArray(b);b.forEach(c=>{a.classList.contains(c)?a.classList.remove(c):a.classList.add(c)})}_volume(a){a=this._getAdRenderDetails(a);this.volume.emit(a)}_adsManagerLoaded(a){let b=this._ima;var c=new b.AdsRenderingSettings;c.restoreCustomPlaybackStateOnAdBreakComplete=!0;c.loadVideoTimeout=this._vastLoadTimeout;a=this._adsManager=a.getAdsManager(this._videoElement,c);c=this._size;this._setAdsManagerEvents();
try{a.init(c[0],c[1],b.ViewMode.NORMAL),a.start()}catch(d){r.error("VideoPlayer","_adsManagerLoaded",this._playerType,d)}}_castArray(a){return Array.isArray(a)?a:[a]}_createPauseButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-pause");a.id=`adthrive-player-icon-pause-${this._playerId}`;let b=this._createSvg("white",!1);b.appendChild(this._createRect("white","5","18","2.29"));b.appendChild(this._createRect("white","5","18","10.71"));a.addEventListener("click",
this._pauseAd.bind(this));a.appendChild(b);return a}_createPlayButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-play","adthrive-player-icon-hidden");a.id=`adthrive-player-icon-play-${this._playerId}`;let b=this._createSvg("white",!1);b.appendChild(this._createPolygon("white","2.29,0 2.29,18 15.71,9"));a.addEventListener("click",this._playAd.bind(this));a.appendChild(b);return a}_createPath(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg",
"path");c.setAttribute("d",b);c.setAttribute("fill",a);return c}_createPolygon(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttribute("points",b);c.setAttribute("fill",a);return c}_createRect(a,b,c,d,e,f){let h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x",d);h.setAttribute("height",c);h.setAttribute("width",b);h.setAttribute("fill",a);e&&h.setAttribute("y",e);f&&h.setAttribute("transform",f);return h}_createSvg(a,b){let c=document.createElementNS("http://www.w3.org/2000/svg",
"svg");c.setAttribute("focusable",`${b}`);c.setAttribute("width","18");c.setAttribute("height","18");c.setAttribute("viewBox","0 0 18 18");c.setAttribute("fill",a);return c}_createVolumeSlider(){let a=document.createElement("DIV");a.className="adthrive-player-volume-control adthrive-player-icon-hidden";let b=document.createElement("INPUT");b.setAttribute("type","range");b.setAttribute("min","0");b.setAttribute("max","100");b.setAttribute("step","1");b.addEventListener("input",this._volumeChange.bind(this),
!1);a.appendChild(b);return a}_createVolumeMutedButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-volume-muted");let b=this._createSvg("white",!1);b.appendChild(this._createPath("white","M16.45,9.02c0,1.64-0.57,2.97-1.33,4.03l1.2,1.15C17.29,12.94,18,11.26,18,9.04c0-6.95-6.96-8.7-6.96-8.7v1.32C11.04,1.66,16.45,3.96,16.45,9.02z"));b.appendChild(this._createPath("white","M13.27,14.94c-1.18,0.91-2.23,1.33-2.23,1.33v1.44c0,0,1.68-0.42,3.39-1.67L13.27,14.94z"));
b.appendChild(this._createRect("white","1.71","22.61","8.15","-2.28","matrix(0.6917 -0.7222 0.7222 0.6917 -3.7421 9.2833)"));b.appendChild(this._createPath("white","M12.98,11c0.31-0.55,0.52-1.2,0.52-1.98c0-2.95-2.99-4.24-2.99-4.24v3.86L12.98,11z"));b.appendChild(this._createPath("white","M10.52,12.3v0.86c0,0,0.24-0.1,0.58-0.3L10.52,12.3z"));b.appendChild(this._createPolygon("white","9.21,7.4 9.24,0.74 5.82,4.15"));b.appendChild(this._createPolygon("white","3.69,5.77 0.06,5.77 0,12.07 4.14,12.07 9.18,17.11 9.2,11.04"));
a.addEventListener("click",this._toggleVolume.bind(this));a.appendChild(b);return a}_createVolumeUnMutedButton(){let a=document.createElement("DIV");a.classList.add("adthrive-player-icon","adthrive-player-icon-volume-unmuted","adthrive-player-icon-hidden");let b=this._createSvg("white",!1);b.appendChild(this._createPolygon("white","9.18,17.11 4.14,12.07 0,12.07 0.06,5.77 4.2,5.77 9.24,0.74"));b.appendChild(this._createPath("white","M11.04,0.34c0,0,6.96,1.75,6.96,8.7s-6.96,8.67-6.96,8.67v-1.44c0,0,5.42-2.18,5.42-7.25s-5.42-7.37-5.42-7.37V0.34z"));
b.appendChild(this._createPath("white","M10.52,4.79c0,0,2.99,1.28,2.99,4.24s-2.99,4.14-2.99,4.14V4.79z"));a.addEventListener("click",this._toggleVolume.bind(this));a.appendChild(b);return a}_enablePlayerAdControls(){let a=document.createElement("DIV");a.className="adthrive-player-ad-controls";let b=document.createElement("DIV");b.className="adthrive-player-ad-controls-play";let c=document.createElement("DIV");c.className="adthrive-player-ad-controls-volume";c.addEventListener("mouseenter",this._toggleVolumeControl.bind(this));
c.addEventListener("mouseleave",this._toggleVolumeControl.bind(this));let d=this._createPlayButton(),e=this._createPauseButton(),f=this._createVolumeMutedButton(),h=this._createVolumeUnMutedButton(),m=this._createVolumeSlider();b.appendChild(d);b.appendChild(e);c.appendChild(f);c.appendChild(h);c.appendChild(m);a.appendChild(b);a.appendChild(c);this._adContainer.appendChild(a);this._visibilityListener=this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this))}_importIMAScript(){return window.google&&
window.google.ima?new Promise(a=>{a(!0)}):Ea(this._imaLibraryEnpoint,!1,!1,!0)}_injectPlayer(){var a=this._container;let b=this._videoElement,c=this._adContainer;var d=this._ima;let e=this._playerType,f=this._size,h=this._videoContentSource;"outstream"!==e&&"stickyoutstream"!==e||this._pageElement.classList.add("adthrive-video-stickyoutstream-new-player");a.className=`adthrive-${e}-container adthrive-player-idle`;a.style.width=`${f[0]}px`;a.style.height=`${f[1]}px`;a.id=`adthrive-${e}`;c.id=`adthrive-${e}-ad-container`;
c.className="adthrive-player-ad-container";c.style.width=`${f[0]}px`;c.style.height=`${f[1]}px`;b.style.width=`${f[0]}px`;b.style.height=`${f[1]}px`;this._playInlineExperiment.result&&(b.setAttribute("webkit-playsinline",""),b.setAttribute("playsinline",""));h&&(b.src=h);a.appendChild(b);a.appendChild(c);this._pageElement.appendChild(a);a=this._adDisplayContainer=new d.AdDisplayContainer(c,b);a.initialize();b.load();a=(this._adsLoader=new d.AdsLoader(a)).getSettings();a.setNumRedirects(this._maxRedirect);
a.setVpaidMode(d.ImaSdkSettings.VpaidMode.ENABLED);a.setVpaidMode(d.ImaSdkSettings.VpaidMode.INSECURE);this._playInlineExperiment.result&&a.setDisableCustomPlaybackForIOS10Plus(!0);d=this._adsRequest=new d.AdsRequest;this._autoplay&&(b.volume=0,b.muted=!0,d.setAdWillAutoPlay(!0),d.setAdWillPlayMuted(!0))}_getAdRenderDetails(a){var b=this._adsRequest;let c=b.adTagUrl;b=b.adsResponse;if(a&&a.getAd){var d=a.getAd();var e=Object.keys(d)||[];d=d&&e.length&&d[e[0]]}e=a&&Object.keys(a)||[];d=d||e.reduce((f,
h)=>{a[h]&&"object"===typeof a[h]&&!Array.isArray(a[h])&&(f=Object.keys(a[h]),f&&f.length&&a[h][f[0]])},{});return{ad:d,userRequestContext:{...(c&&{adTagUrl:c}),...(b&&{vastXml:b})}}}_removeAdsManagerEvents(){let a=this._adsLoader,b=this._adsManager;a&&(a.removeEventListener(M.ADS_MANAGER_LOADED,this._adsManagerLoaded.bind(this),!1),a.removeEventListener(M.AD_ERROR,this._adError.bind(this),!1));b&&(b.removeEventListener(M.AD_ERROR,this._adError.bind(this)),b.removeEventListener(M.ALL_ADS_COMPLETED,
this._allAdsComplete.bind(this)),b.removeEventListener(M.CLICK,this._click.bind(this)),b.removeEventListener(M.COMPLETE,this._adComplete.bind(this)),b.removeEventListener(M.CONTENT_PAUSE_REQUESTED,this._contentPauseRequested.bind(this)),b.removeEventListener(M.CONTENT_RESUME_REQUESTED,this._contentResumeRequested.bind(this)),b.removeEventListener(M.FIRST_QUARTILE,this._firstQuartile.bind(this)),b.removeEventListener(M.IMPRESSION,this._adImpression.bind(this)),b.removeEventListener(M.LOADED,this._adLoaded.bind(this)),
b.removeEventListener(M.MIDPOINT,this._midpoint.bind(this)),b.removeEventListener(M.PAUSED,this._paused.bind(this)),b.removeEventListener(M.RESUMED,this._resumed.bind(this)),b.removeEventListener(M.STARTED,this._adStarted.bind(this)),b.removeEventListener(M.THIRD_QUARTILE,this._thirdQuartile.bind(this)),b.removeEventListener(M.VOLUME_CHANGED,this._volume.bind(this)),b.removeEventListener(M.AD_PROGRESS,this._adProgress.bind(this)),b.removeEventListener(M.SKIPPED,this._adSkipped.bind(this)));this._visibilityListener&&
this._visibilityListener()}_removePlayer(){let a=this._container;a&&a.parentElement&&a.parentElement.removeChild(a)}_setAdsManagerEvents(){let a=this._adsManager;a.addEventListener(M.AD_ERROR,this._adError.bind(this));a.addEventListener(M.ALL_ADS_COMPLETED,this._allAdsComplete.bind(this));a.addEventListener(M.CLICK,this._click.bind(this));a.addEventListener(M.COMPLETE,this._adComplete.bind(this));a.addEventListener(M.CONTENT_PAUSE_REQUESTED,this._contentPauseRequested.bind(this));a.addEventListener(M.CONTENT_RESUME_REQUESTED,
this._contentResumeRequested.bind(this));a.addEventListener(M.FIRST_QUARTILE,this._firstQuartile.bind(this));a.addEventListener(M.IMPRESSION,this._adImpression.bind(this));a.addEventListener(M.LOADED,this._adLoaded.bind(this));a.addEventListener(M.MIDPOINT,this._midpoint.bind(this));a.addEventListener(M.PAUSED,this._paused.bind(this));a.addEventListener(M.RESUMED,this._resumed.bind(this));a.addEventListener(M.STARTED,this._adStarted.bind(this));a.addEventListener(M.THIRD_QUARTILE,this._thirdQuartile.bind(this));
a.addEventListener(M.VOLUME_CHANGED,this._volume.bind(this));a.addEventListener(M.AD_PROGRESS,this._adProgress.bind(this));a.addEventListener(M.SKIPPED,this._adSkipped.bind(this))}_toggleVolume(a){a=a.target;let b=a.nextElementSibling,c=a.previousElementSibling,d=this._adsManager,e=this._toggleClass.bind(this);this._muted?(d.setVolume(.5),this._muted=!1,a&&b&&(e(a,"adthrive-player-icon-hidden"),e(b,"adthrive-player-icon-hidden"))):(d.setVolume(0),this._muted=!0,a&&c&&(e(a,"adthrive-player-icon-hidden"),
e(c,"adthrive-player-icon-hidden")))}_toggleVolumeControl(a){(a=(a=a.target)&&a.lastElementChild)&&this._toggleClass(a,"adthrive-player-icon-hidden")}trimEventData(a){var b,c;a={...a};let d=a.ima&&a.ima.ad;(null===a||void 0===a?0:a.tag)&&delete a.tag;d&&d.traffickingParameters&&delete d.traffickingParameters;(null===(c=null===(b=null===a||void 0===a?void 0:a.ima)||void 0===b?void 0:b.userRequestContext)||void 0===c?0:c.adTagUrl)&&delete a.ima.userRequestContext.adTagUrl;(null===a||void 0===a?0:a.mediaFile)&&
delete a.mediaFile;return a}_volumeChange(a){if(a=a.target){if(this._muted){let b=this._toggleClass.bind(this),c=a&&a.parentElement,d=c&&c.previousElementSibling,e=d&&d.previousElementSibling;if(!c||!d||!e)return;b(d,"adthrive-player-icon-hidden");b(e,"adthrive-player-icon-hidden");this._muted=!1}this._adsManager.setVolume(Number(a.value)/100)}}}class xn extends wn{constructor(a,b,c,d,e,f,h,m,n,u){super(a,b,c,d,e,f,h,m,n);this.adId=u;this.adPlaying=!1;this.ready.on(this._handleReady.bind(this));this.adStarted.on(this._handleAdStart.bind(this));
this.allAdsCompleted.on(this._handleAdErrorOrComplete.bind(this));this.adError.on(this._handleAdErrorOrComplete.bind(this))}_handleReady(){this.adPlaying=!1;let a=document.getElementsByClassName("adthrive-sticky-outstream-idle")[0],b=document.getElementsByClassName("adthrive-sticky-outstream-active")[0];a?a.classList.add("adthrive-new-outstream-player"):b&&this._toggleActive()}_handleAdStart(){this.adPlaying=!0;this._toggleActive()}_handleAdErrorOrComplete(){this.adPlaying=!1;this._toggleActive();
this._remove()}_toggleActive(){let a=document.getElementsByClassName("adthrive-new-outstream-player")[0];a&&(this._toggleClass(a,"adthrive-sticky-outstream-active"),this._toggleClass(a,"adthrive-sticky-outstream-idle"))}}let sd=class{constructor(a,b,c,d){this._config=a;this._slotManager=b;this._videoEventProxy=c;this._gam=d;this._sharedConfig={context:"outstream",mimes:["video/mp4","application/javascript"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:this._config.video.maxDuration,
playbackmethod:[2],plcmt:4};this._forcedRefreshLimit=3;this._imaEndpoint="https://imasdk.googleapis.com/js/sdkloader/ima3.js";this._viewableImpressionDelay=1001;this._rendererConfig={renderer:{url:this._imaEndpoint,render:h=>{this._renderer(h)}}};this._offEvents=[];let {desktop:e,tablet:f}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===Mc(f,e)?[178,100]:[227,150];this._gam.slotRenderEnded.on(h=>this._noFillForceRefresh(h))}callRendererWithUrl(a,b,c=!1){this._callRenderAd({adTagUrl:a},
b,c?"stickyoutstream":"outstream",c?this._stickyOutstreamSize:[300,225])}get standardOutstreamConfig(){let a=this._config.video,b={...this._rendererConfig},c=a.outstreamPlacement;a.setStandardOutstreamBackupRenderer&&(b.renderer.backupOnly=!0);return{playerSize:[640,480],...(c&&{placement:c}),...this._sharedConfig,...b}}get stickyOutstreamConfig(){return{...this._sharedConfig,...this._rendererConfig,startdelay:0,placement:5,playerSize:this._stickyOutstreamSize}}_callRenderer(a,b,c,d=!1){let e=this._slotManager.getSlot(a),
f=d?"stickyoutstream":"outstream";e&&d&&(e.stickyOutstreamErrorLogged=!1,e.stickyOutstreamRenderedTimestamp=Date.now());this._callRenderAd(b,a,f,c)}_callRenderAd(a,b,c,d){let e=document.getElementById(b);if(e){let f=this._config.video;b=new xn(Math.floor(1E8*Math.random()).toString(),"",c,e,this._videoEventProxy,d,!0,f.vastTimeout,f.maxRedirect,b);this._setPlayerEvents(b,a);b.init()}}_handleComplete(a){this._slotManager.getSlot(a);a.includes("StickyOutstream")}_handleErrorEvent(a,b){this._handleOffEvent();
a.includes("StickyOutstream")&&(r.error("StickyOutstream","adError",{adId:a,...b}),this._setSlotForceRefresh(a,!0))}_handleAdTimeChange(a,b){let c=this._slotManager.getSlot(b);if(b.includes("StickyOutstream")&&c){var {duration:d,position:e}=a;a=(d||30)-e;(0<a&&5>=a||30<e)&&!c.isRefreshing&&this._setSlotForceRefresh(b)}}_handleAdSkip(a){a.includes("StickyOutstream")&&this._setSlotForceRefresh(a)}_handleOffEvent(){this._offEvents=this._offEvents.filter(a=>{a();return!1})}_renderer(a){let b=a.ad||a.vastXml,
c=-1!==a.adUnitCode.indexOf("StickyOutstream");this._callRenderer(a.sharedBidInUse||a.adUnitCode,b?{adResponse:b}:{adTagUrl:a.vastUrl},c?this._stickyOutstreamSize:[300,225],c)}_setPlayerEvents(a,b){let c=this._offEvents;c.push(a.adError.on(d=>this._handleErrorEvent(a.adId,d)));c.push(a.adCompleted.on(()=>this._handleComplete(a.adId)));c.push(a.ready.on(()=>a.playAd(b)));c.push(a.adTime.on(d=>this._handleAdTimeChange(d,a.adId)));c.push(a.adSkipped.on(()=>this._handleAdSkip(a.adId)))}_setSlotForceRefresh(a,
b=!1,c=!1){let d=this._slotManager,e=d.getSlot(a),f=a.includes("StickyOutstream");a=!b&&!c;e&&f&&!e.isRefreshing&&(e.isRefreshing=!0,c=c&&void 0!==e.noAdRefreshCount&&e.noAdRefreshCount<this._forcedRefreshLimit,b&&void 0!==e.stickyOutstreamErrorCount&&e.stickyOutstreamErrorCount<this._forcedRefreshLimit?(e.stickyOutstreamErrorCount++,a=!0):c?(e.noAdRefreshCount++,e.setSlotTargetingFlag("fref",[`${e.noAdRefreshCount}`],!0),a=!0):(e.stickyOutstreamErrorCount=0,e.setSlotTargetingFlag("fref",["off"],
!0)),d.updateRefreshTimeout(e,a?this._viewableImpressionDelay:15E3))}_noFillForceRefresh({event:a,slot:b}){"Video_StickyOutstream"===b.location&&(a.isEmpty?this._setSlotForceRefresh(b.id,!1,!0):(b.noAdRefreshCount=0,b.setSlotTargetingFlag("fref",[`${b.noAdRefreshCount}`],!0)))}};sd=k([q(),l("design:paramtypes",[y,U,Ya,D])],sd);let tg=class extends J{init(){this._key="OneVideoStreamNoVideo";this._default=!1}isEnabled(){let a=E.resolve(y);return super.isEnabled()&&!a.video.hasJwPlayer}};tg=k([p("OneVideoStreamNoVideoExperiment"),
q()],tg);let ug=class extends J{init(){this._key="OneVideoStream";this._default=!1}};ug=k([p("OneVideoStreamExperiment"),q()],ug);let vg=class extends T{init(){this._key="SuppressOutreamSlowConnection"}};vg=k([p("OutstreamSOCONExperiment"),q()],vg);let ya=class{constructor(a,b,c,d,e){this._config=a;this._gam=b;this._outstream=c;this._oneVideoStreamExperiment=d;this._soconExperiment=e;this._standardOutstreamSlots=["Content_1","Below_Post"];this.oneStreamExpResult=!1}runOneStreamExperiment(){let a=
E.resolve(tg);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")});(this.oneStreamExpResult=a.result)&&["Content_3","Content_5","Recipe_1"].forEach(b=>{this._standardOutstreamSlots.push(b)})}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}isSlowConnection(){var a;let b=null!==(a=this._soconExperiment.result)&&void 0!==a?a:0;return void 0!==this._config.context.downlink?this._config.context.downlink<=b:!1}outstreamEnabled(a){var b=
a.viewability;let c="Video_StickyOutstream"===a.location;b=1<=a.refreshCount||.5<=b||c;let d=!c&&this.isSlowConnection();a=(this._config.adTypes.outstreamEnabled||c)&&this.outstreamSlots.has(a.placementMapName)&&this.isOutstreamAllowed()&&!d;return{outstreamCapable:a,currentlyActive:a&&b}}getMediaType(a,b=!1){let c={},{slot:d,video:e}=a;e&&this._config.video.instreamAdUnits.has(e.name)&&this._config.video.plcmtUnits.has(e.name)&&(a=this.getInstreamConfig(e),c.video=a);d&&(a={sizes:d.sizes,...(d.isHighlyViewable()&&
{pos:1})},b?c.video="Video_StickyOutstream"!==d.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig:c.banner=a);return c}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(a){var b,c,d;return{context:"instream",playerSize:a.size,mimes:this._config.video.mimeType,protocols:null===(b=this._config.video.videoProtocols)||
void 0===b?void 0:b.protocols,...((null===(c=this._config.video.plcmtUnits)||void 0===c?void 0:c.get(a.name))&&{plcmt:this._config.video.plcmtUnits.get(a.name)}),maxduration:this._config.video.maxDuration,...((null===(d=this._config.video.playbackmethod)||void 0===d?void 0:d.get(a.name))&&{playbackmethod:this._config.video.playbackmethod.get(a.name)}),...(a.collapsible&&{playbackend:3}),linearity:1,api:this._config.video.apiValue,w:a.size[0],h:a.size[1],pos:this._config.video.position.id,minduration:1,
startdelay:0,placement:1,skip:0}}};ya=k([q(),l("design:paramtypes",[y,D,sd,ug,vg])],ya);let wg=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(g.AppNexus);this.videoCreativeIds=[["138323232312",g.AppNexus],["138323908966",g.AppNexus],["138323900998",g.AppNexus],["138323900548",g.AppNexus],["138323457386",g.AppNexus],["138323908963",g.AppNexus],["138323908960",g.AppNexus],["138323901004",g.AppNexus],["138323901001",g.AppNexus],
["138323521089",g.AppNexus],["138323457473",g.AppNexus],["138323908969",g.AppNexus],["138323908957",g.AppNexus],["138323908954",g.AppNexus],["138323900995",g.AppNexus],["138323521092",g.AppNexus]];this._keywords={keywords:{...(this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories}),bucket:[this._config.context.bucket],Chrome:`${eb()}`,Mobile:(!!(navigator.userAgent&&-1<navigator.userAgent.search(/Mobi/i))).toString(),...(this._config.site.verticals.length&&
{verticals:this._config.site.verticals})}};this.outstreamType=I()?"outstreamMobile":"outstreamDesktop";this._map=new Map([["Below_Post",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],
["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],
["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[x.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[x.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[x.Video_Individual_Autoplay_SOff,[{placementId:17947919,
playback_method:["auto_play_sound_off"]}]]]);this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.display.get(g.AppNexus)}get videoEnabled(){return this._config.partners.video.get(g.AppNexus)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({adType:b})=>!b||this._config.adTypes.has(b)).map(({placementId:b})=>({bidder:this.name,params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,
placementId:b,...(a.isHighlyViewable()&&{position:"above"})}}))}getOutstreamSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({adType:b})=>!b||this._config.adTypes.has(b)).map(({placementId:b,playback_method:c})=>({bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:"Video_StickyOutstream"!==a.location}),params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:b,video:{playback_method:c},
...(a.isHighlyViewable()&&{position:"above"})}}))}getVideoSlotBidRequests(a){var b;if(this._map.has(a.name))return[{bidder:this.name,params:{...this._keywords,placementId:this._map.get(a.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...((null===(b=this._config.video.playbackmethod)||void 0===b?void 0:b.get(a.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(a.name)[0])}),frameworks:this._config.video.apiValue}}}]}updateBidParams(a){this._addPositionParam(a,
"above")}};wg=k([p("AppNexusBidder"),v(),l("design:paramtypes",[y,ya])],wg);let xg=class extends X{constructor(a,b){super();this._config=a;this._colossusExperiment=b;this.adapterName="colossusssp";this.bidderConfig=this._config.partners.getBidderConfig(g.Colossus);this.videoCreativeIds=[["138384629372",g.Colossus],["138384629375",g.Colossus],["138384699576",g.Colossus],["138384629339",g.Colossus],["138384699561",g.Colossus],["138384699546",g.Colossus],["138384629351",g.Colossus],["138384629381",g.Colossus],
["138384629366",g.Colossus],["138384629378",g.Colossus],["138384629384",g.Colossus],["138384699564",g.Colossus],["138384629363",g.Colossus],["138384699582",g.Colossus],["138384699579",g.Colossus]];this._desktopBannerMap=new Map([["Below_Post",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,
250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,
250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]);this._mobileBannerMap=new Map([["Below_Post",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",
size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",
size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]);this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"368"],[x.Video_Coll_SOff_Smartphone,"369"],[x.Video_In_Post_ClicktoPlay_SoundOn,"370"],[x.Video_Individual_Autoplay_SOff,"371"]]);a=this._bannerMap;
this._map=I()?a.mobile:a.desktop}get enabled(){return this._config.partners.display.get(g.Colossus)&&"server"!==this._colossusExperiment.result}get videoEnabled(){return this._config.partners.video.get(g.Colossus)&&"server"!==this._colossusExperiment.result}getBannerSlotBidRequests(a){let b=this._map.get(a.placementMapName);if(b&&a.hasSize(b.size))return[{bidder:this.name,params:{group_id:b.id,traffic:"banner"}}]}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(a.name),
traffic:"video"}}]}};xg=k([p("ColossusBidder"),v(),l("design:paramtypes",[y,ac])],xg);let yg=class extends X{constructor(a){super();this._config=a;this.adapterName="colossus";this.bidderConfig=this._config.partners.getBidderConfig(g.ColossusServer);this.videoCreativeIds=[["138399171431",g.ColossusServer],["138396598194",g.ColossusServer],["138397072123",g.ColossusServer],["138397072117",g.ColossusServer],["138397070791",g.ColossusServer],["138396598191",g.ColossusServer],["138397072120",g.ColossusServer],
["138397070788",g.ColossusServer],["138396598197",g.ColossusServer],["138396598188",g.ColossusServer],["138396598158",g.ColossusServer],["138396598152",g.ColossusServer],["138397073191",g.ColossusServer],["138397072102",g.ColossusServer],["138396598200",g.ColossusServer],["138396598155",g.ColossusServer]];this._desktopBannerMap=new Map([["Below_Post",{id:"455",size:[300,250]}],["Content",{id:"456",size:[300,250]}],["Content_1",{id:"457",size:[300,250]}],["Content_2",{id:"458",size:[300,250]}],["Content_3",
{id:"459",size:[300,250]}],["Content_4",{id:"460",size:[300,250]}],["Content_5",{id:"461",size:[300,250]}],["Content_6",{id:"462",size:[300,250]}],["Content_7",{id:"463",size:[300,250]}],["Content_8",{id:"464",size:[300,250]}],["Content_9",{id:"465",size:[300,250]}],["Footer_1",{id:"466",size:[728,90]}],["Header_1",{id:"467",size:[728,90]}],["Header_2",{id:"468",size:[728,90]}],["Recipe_1",{id:"469",size:[300,250]}],["Recipe_2",{id:"470",size:[300,250]}],["Recipe_3",{id:"471",size:[300,250]}],["Recipe_4",
{id:"472",size:[300,250]}],["Recipe_5",{id:"473",size:[300,250]}],["Sidebar_1",{id:"474",size:[300,250]}],["Sidebar_2",{id:"475",size:[300,250]}],["Sidebar_3",{id:"476",size:[300,250]}],["Sidebar_4",{id:"477",size:[300,250]}],["Sidebar_5",{id:"478",size:[300,250]}],["Sidebar_9",{id:"479",size:[300,250]}]]);this._mobileBannerMap=new Map([["Below_Post",{id:"481",size:[300,250]}],["Content",{id:"482",size:[300,250]}],["Content_1",{id:"483",size:[300,250]}],["Content_2",{id:"484",size:[300,250]}],["Content_3",
{id:"485",size:[300,250]}],["Content_4",{id:"486",size:[300,250]}],["Content_5",{id:"487",size:[300,250]}],["Content_6",{id:"488",size:[300,250]}],["Content_7",{id:"489",size:[300,250]}],["Content_8",{id:"490",size:[300,250]}],["Content_9",{id:"491",size:[300,250]}],["Footer_1",{id:"492",size:[320,50]}],["Header_1",{id:"493",size:[320,50]}],["Header_2",{id:"494",size:[320,50]}],["Recipe_1",{id:"495",size:[300,250]}],["Recipe_2",{id:"496",size:[300,250]}],["Recipe_3",{id:"497",size:[300,250]}],["Recipe_4",
{id:"498",size:[300,250]}],["Recipe_5",{id:"499",size:[300,250]}],["Sidebar_1",{id:"500",size:[300,250]}],["Sidebar_2",{id:"501",size:[300,250]}],["Sidebar_3",{id:"502",size:[300,250]}],["Sidebar_4",{id:"503",size:[300,250]}],["Sidebar_5",{id:"504",size:[300,250]}],["Sidebar_9",{id:"505",size:[300,250]}]]);this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"450"],[x.Video_Coll_SOff_Smartphone,"451"],[x.Video_In_Post_ClicktoPlay_SoundOn,
"452"],[x.Video_Individual_Autoplay_SOff,"453"]]);a=this._bannerMap;this._map=I()?a.mobile:a.desktop}get enabled(){return this._config.prebid.s2s.bidders.includes(g.ColossusServer)&&this._config.partners.display.get(g.Colossus)}get videoEnabled(){return this._config.prebid.s2s.bidders.includes(g.ColossusServer)&&this._config.partners.video.get(g.Colossus)}getBannerSlotBidRequests(a){let b=this._map.get(a.placementMapName);if(b&&a.hasSize(b.size))return[{bidder:this.name,params:{groupId:b.id}}]}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,
params:{groupId:this._videoMap.get(a.name)}}]}};yg=k([p("ColossusServerBidder"),v(),l("design:paramtypes",[y])],yg);let zg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Conversant);this._siteId="203587";this._map=new Map([["Below_Post",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",
{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],
["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[x.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[x.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[x.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[x.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.display.get(g.Conversant)}get videoEnabled(){return this._config.partners.video.get(g.Conversant)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,
params:{tag_id:this._map.get(a.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(a){var b;if(this._map.has(a.name))return[{bidder:this.name,params:{tag_id:this._map.get(a.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,...("all"===(null===(b=this._config.video.videoProtocols)||void 0===b?void 0:b.scope)&&{protocols:this._config.video.videoProtocols.protocols}),position:this._config.video.position.id}}]}};zg=k([p("ConversantBidder"),
v(),l("design:paramtypes",[y])],zg);let Ag=class extends X{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._mediaType=c;this.bidderConfig=this._config.partners.getBidderConfig(g.Criteo);this.videoCreativeIds=[["138381583896",g.Criteo],["138381548372",g.Criteo],["138381548387",g.Criteo],["138381548384",g.Criteo],["138381548525",g.Criteo],["138381548522",g.Criteo],["138381548516",g.Criteo],["138381548513",g.Criteo],["138382062244",g.Criteo],["138382062241",g.Criteo],["138382062238",
g.Criteo],["138382062235",g.Criteo],["138382062232",g.Criteo],["138382062226",g.Criteo],["138382062223",g.Criteo],["138381584697",g.Criteo]];this.settings={storageAllowed:!0};this._params={banner:{networkId:3927},outstream:{zoneId:1709027},stickyOutstream:{zoneId:1709026}};this._map=new Set("Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" "));
this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"1629631"],[x.Video_Coll_SOff_Smartphone,"1629630"],[x.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[x.Video_Individual_Autoplay_SOff,"1629401"]]);this._prebidMethods.setConfig({criteo:{fastBidVersion:"none"}})}get enabled(){return this._config.partners.display.get(g.Criteo)}get videoEnabled(){return this._config.partners.video.get(g.Criteo)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return a=[],a.push({bidder:this.name,
params:this._params.banner}),a}getOutstreamSlotBidRequests(a){if(this._map.has(a.placementMapName)){var b="Video_StickyOutstream"===a.location,c=b?this._params.stickyOutstream:this._params.outstream,d=[];d.push({bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:!b}),params:c});return d}}getVideoSlotBidRequests(a){var b;if(this._videoMap.has(a.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(a.name),video:{playbackmethod:(null===(b=this._config.video.playbackmethod)||
void 0===b?void 0:b.get(a.name))||[]}}}]}};Ag=k([p("CriteoBidder"),v(),l("design:paramtypes",[y,V,ya])],Ag);let Bg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.GumGum);this.videoCreativeIds=[["138330842944",g.GumGum],["138330432527",g.GumGum],["138330466869",g.GumGum],["138330842389",g.GumGum],["138330842452",g.GumGum],["138330432530",g.GumGum],["138330432548",g.GumGum],["138330432551",g.GumGum],["138330466908",g.GumGum],["138330842464",
g.GumGum],["138330842470",g.GumGum],["138330466872",g.GumGum],["138330842458",g.GumGum],["138330842461",g.GumGum],["138330842467",g.GumGum],["138330842455",g.GumGum]];this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}};this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Content_1",[{slotId:913891}]],["Content_2",[{slotId:913892}]],["Content_3",[{slotId:913893}]],["Content_4",[{slotId:913894}]],["Content_5",[{slotId:913895}]],["Content_6",[{slotId:913896}]],
["Content_7",[{slotId:913897}]],["Content_8",[{slotId:913898}]],["Content_9",[{slotId:913899}]],["Footer_1",[]]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[x.Video_Coll_SOff_Smartphone,"5zl85htf"],[x.Video_Individual_Autoplay_SOff,"8jzhuyj5"]]);this._animatedFooterEnabled=this._config.adTypes.animatedFooter;this._interstitialEnabled=this._config.adOptions.interstitial.prebid;a=I()?"phone":/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(navigator.userAgent)?
"tablet":"desktop";this._device=a;this._contextualAuctionParams={zone:this._config.prebid.s2s.bidders.includes(this.name)?this._zoneIds.s2s[this._device]:this._zoneIds.client}}get enabled(){return this._config.partners.display.get(g.GumGum)}get videoEnabled(){return this._config.partners.video.get(g.GumGum)}getBannerSlotBidRequests(a){let b=this._map.get(a.placementMapName)||this._map.get(a.location),c="Footer"===a.location&&this._animatedFooterEnabled,d="Content"===a.location&&("desktop"!==this._device||
a.sequence&&2>=a.sequence),e=this._interstitialEnabled&&"Interstitial"===a.location;if(b){let f=[];c&&f.push({bidder:this.name,params:{...this._contextualAuctionParams}});(e||d)&&b.filter(({size:h})=>!h||a.hasSize(h)).forEach(h=>{f.push({bidder:this.name,params:{...this._contextualAuctionParams,...(h.slotId&&!this._config.prebid.s2s.bidders.includes(this.name)&&{slot:h.slotId})}})});return f}}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,params:{...(this._config.prebid.s2s.bidders.includes(this.name)&&
{...this._contextualAuctionParams}),video:this._videoMap.get(a.name)}}]}};Bg=k([p("GumGumBidder"),v(),l("design:paramtypes",[y])],Bg);let Cg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.ImproveDigitalServer);this.adapterName=g.ImproveDigital;this.gvlid=253;this._publisherId=2250;this._displayPlacementId=22983142;this._stickyOutstreamPlacementId=23006106;this.videoCreativeIds=[["138436972580",g.ImproveDigitalServer],["138436972724",
g.ImproveDigitalServer],["138436972727",g.ImproveDigitalServer],["138436972736",g.ImproveDigitalServer],["138437681002",g.ImproveDigitalServer],["138437681251",g.ImproveDigitalServer],["138437681254",g.ImproveDigitalServer],["138437681257",g.ImproveDigitalServer]];this._displaySet=new Set("Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9".split(" "));
this._outstreamSet=new Set(["Video_StickyOutstream_1"]);this._videoSet=new Set([x.Video_Coll_SOff_Smartphone,x.Video_Collapse_Autoplay_SoundOff,x.Video_In_Post_ClicktoPlay_SoundOn,x.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(g.ImproveDigital)}get videoEnabled(){return this._config.partners.video.get(g.ImproveDigital)}getBannerSlotBidRequests(a){if(this._displaySet.has(a.placementMapName))return[{bidder:this.name,params:{publisherId:this._publisherId,placementId:this._displayPlacementId}}]}getOutstreamSlotBidRequests(a){if(this._outstreamSet.has(a.placementMapName))return[{bidder:this.name,
params:{publisherId:this._publisherId,placementId:this._stickyOutstreamPlacementId}}]}getVideoSlotBidRequests(a){if(this._videoSet.has(a.name))return[{bidder:this.name,params:{publisherId:this._publisherId,placementId:22983143}}]}};Cg=k([p("ImproveDigitalBidder"),v(),l("design:paramtypes",[y])],Cg);let Dg=new Map([["Below_Post",{siteId:"185759"}],["Content_1",{siteId:"185761",outstreamSiteId:"820298"}],["Content_2",{siteId:"185762"}],["Content_3",{siteId:"185763"}],["Content_4",{siteId:"185764"}],
["Content_5",{siteId:"185765"}],["Content_6",{siteId:"185766"}],["Content_7",{siteId:"185767"}],["Content_8",{siteId:"185768"}],["Content_9",{siteId:"185769"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],
["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167",outstreamSiteId:"745167"}]]),yn=new Map([["Below_Post",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,480],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"},{size:[728,250]}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[728,410],id:"4_2"},{size:[320,
50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"},{size:[728,250]}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"},{size:[728,250]}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"},{size:[728,250]}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"},{size:[728,250]}]],["Content_6",
[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"},{size:[728,250]}]],["Content_7",[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"},{size:[728,250]}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"},{size:[728,250]}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"},{size:[728,250]}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,
90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,
100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},
{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,
600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),$k=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,
[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",id:"46_2"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]),Eg=class extends X{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._mediaType=c;this._bidderName=g.IndexExchange;this._device=pa()?"desktop":"mobile";this._largeFormatSizes=(this._hasLargeFormatsEnabled=
pa()?this._config.adTypes.largeFormatsDesktop:this._config.adTypes.largeFormatsMobile)?"desktop"===this._device?[[728,410]]:[[320,480]]:[];this.bidderConfig=this._config.partners.getBidderConfig(g.IndexExchange);this.videoCreativeIds=[["138323461889",g.IndexExchange],["138365130553",g.IndexExchange],["138323602520",g.IndexExchange],["138323911414",g.IndexExchange],["138365130307",g.IndexExchange],["138323648223",g.IndexExchange],["138323911009",g.IndexExchange],["138364758402",g.IndexExchange],["138323523396",
g.IndexExchange],["138364703774",g.IndexExchange],["138323464748",g.IndexExchange],["138364758405",g.IndexExchange],["138323911423",g.IndexExchange],["138365130310",g.IndexExchange],["138323911420",g.IndexExchange],["138365130313",g.IndexExchange],["138323911411",g.IndexExchange],["138364758408",g.IndexExchange],["138323911012",g.IndexExchange],["138364703777",g.IndexExchange],["138323523390",g.IndexExchange],["138364758411",g.IndexExchange],["138323523387",g.IndexExchange],["138365130316",g.IndexExchange],
["138323911426",g.IndexExchange],["138364758414",g.IndexExchange],["138323911408",g.IndexExchange],["138364703780",g.IndexExchange],["138323911405",g.IndexExchange],["138364703783",g.IndexExchange],["138323523393",g.IndexExchange],["138364758417",g.IndexExchange],["138323911417",g.IndexExchange],["138365130319",g.IndexExchange]]}get enabled(){return this._config.partners.display.get(g.IndexExchange)}get videoEnabled(){return this._config.partners.video.get(g.IndexExchange)}init(){var a=Nc(this._config.context.savedReferrer);
let b=this._config;var c=b.site;let d=[...c.verticals].filter(Ta);c=c.filteredSensitiveCategories;a={PD:`${b.adOptions.pmp?"":"no"}${b.context.device}`,...(d.length&&{Topic:d.join("#Topic:")}),...(c.length&&{Sens:c.join("#Sens:")}),Source:a?jk(a):"direct",Browser:Zj(),vp:"0"};Pb(a,this._prebidMethods);this._largeFormatSizes.length&&Hm(this._largeFormatSizes,this._prebidMethods)}getVideoBidRequests(a){return a.reduce((b,c)=>{const d=this.getVideoSizeSites(a).filter(e=>e.video===c).map(e=>{const {siteId:f,
size:h,id:m}=e.sizeSite;e=this.getPrebidAdUnitBidRequest(f,h,m);e.params.video=this.getVideoParams(c.name);return e});return b.set(c.name,d)},new Map)}getBannerSlotBidRequests(a){let b=[];return Dg.get(a.placementMapName)?this._getSlotBids(a):b}getOutstreamSlotBidRequests(a){let b=[];return Dg.get(a.placementMapName)?this._getSlotBids(a,!0):b}getVideoParams(a,b){var c;b={...this._config.video,...b};a=b.playbackmethod&&b.playbackmethod.get(a);let d=new Map([[3,[3]],[6,[2]]]);a=a&&{playbackmethod:d.get(a[0])};
b.videoProtocols&&b.videoProtocols.protocols||r.error("IndexExchangeBidder","getVideoParams",b.videoProtocols?"protocols is undefined":"videoProtocols is undefined");return{api:b.apiValue,mimes:b.mimeType,...a,minduration:0,maxduration:30,protocols:null===(c=b.videoProtocols)||void 0===c?void 0:c.protocols,pos:b.position.id}}getPrebidAdUnitBidRequest(a,b,c,d="",e=!1){return{bidder:this._bidderName,...this._addBidLabel(d,{outstreamActive:!d.includes("Video_StickyOutstream")&&e}),params:{...(c&&{id:c}),
siteId:a,...(e?{video:{}}:{size:b})}}}_getSlotBids(a,b=!1){let c=[],d=yn.get(a.placementMapName),e=Dg.get(a.placementMapName);d&&d.filter(({size:f})=>a.hasSize(f)||this.largeFormatSizeEnabled(f)).forEach(({size:f,id:h})=>{var m;let n=b?null!==(m=e.outstreamSiteId)&&void 0!==m?m:e.siteId:e.siteId;c.push(this.getPrebidAdUnitBidRequest(n,f,h,a.placementMapName,b))});return c}largeFormatSizeEnabled([a,b]){return this._largeFormatSizes.some(([c,d])=>a===c&&b===d)}getVideoSizeSites(a){return a.filter(b=>
$k.has(b.name)).reduce((b,c)=>{const d=$k.get(c.name).filter(({device:e,size:f})=>(!e||e&&e===this._device)&&c.size[0]===f[0]&&c.size[1]===f[1]).map(e=>({video:c,sizeSite:e}));return[...b,...d]},[])}};Eg=k([p("IndexExchangeBidder"),v(),l("design:paramtypes",[y,V,ya])],Eg);let Fg=class extends J{init(){this._key="KargoSitePlacements";this.abgroup="ksp";this._default=!1}};Fg=k([p("KargoSitePlacementsExperiment"),q()],Fg);let zn=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{siteId:"default",client:"_kWJDXIuROl",
server:"_kkLiJTt47x",size:[640,360]}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{siteId:"default",client:"_fR1aawM8Zo",server:"_j08PBtvK4B",size:[640,360]}]],[x.Video_Individual_Autoplay_SOff,[{siteId:"default",client:"_nmpcOw19lD",server:"_mX7o0eM1jT",size:[640,360]}]]]),An=new Map([[x.Video_Coll_SOff_Smartphone,[{siteId:"55bccc97303edab84afd77e2",client:"_oqaQNDGjZ4",server:"_cjATjOt7M3",size:[400,225]},{siteId:"541917f5a90318f9194874cf",client:"_g47ukW03bo",server:"_jdef3qyaew",size:[400,225]},{siteId:"55cb7e3b4bc841bd0c4ea577",
client:"_kp8W0sdhdE",server:"_p3pJYWNuxp",size:[400,225]},{siteId:"566aefa94856897050ee7303",client:"_rsmG36HH8x",server:"_ngr9SeXdE7",size:[400,225]},{siteId:"5daf495ed42c8605cfc74b0b",client:"_ghA53Kjqrh",server:"_xRJtnJlLcg",size:[400,225]},{siteId:"default",client:"_kUg4kKElHf",server:"_wraUX6ObGH",size:[400,225]}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{siteId:"55bccc97303edab84afd77e2",client:"_tBeS7Z4US3",server:"_pnaFOGgJHk",size:[400,225]},{siteId:"541917f5a90318f9194874cf",client:"_lsGboL0uST",
server:"_el6JVb9qoD",size:[400,225]},{siteId:"55cb7e3b4bc841bd0c4ea577",client:"_wqAAlYzlij",server:"_dc6prrDilF",size:[400,225]},{siteId:"566aefa94856897050ee7303",client:"_zn7ZLevuPn",server:"_bjw2WhZN1K",size:[400,225]},{siteId:"5daf495ed42c8605cfc74b0b",client:"_qaJQvOMII9",server:"_pCPyKofX1S",size:[400,225]},{siteId:"default",client:"_upDLM7q4jV",server:"_iNqGr1ZsCR",size:[400,225]}]],[x.Video_Individual_Autoplay_SOff,[{siteId:"55bccc97303edab84afd77e2",client:"_vWJq7i6Hsr",server:"_jE3UrcJ5WA",
size:[400,225]},{siteId:"541917f5a90318f9194874cf",client:"_mx5iL6Bejc",server:"_rRtn5dy9zf",size:[400,225]},{siteId:"55cb7e3b4bc841bd0c4ea577",client:"_oUwmSg3ct7",server:"_bCZv43HA5e",size:[400,225]},{siteId:"566aefa94856897050ee7303",client:"_akUrKNgwMu",server:"_dZQibxLKPI",size:[400,225]},{siteId:"5daf495ed42c8605cfc74b0b",client:"_uFi5ptAWHm",server:"_kCaQmZiXGS",size:[400,225]},{siteId:"default",client:"_fyab3CymN5",server:"_qeYOrszj4C",size:[400,225]}]]]),al=new Map([["100000",[{siteId:"55bccc97303edab84afd77e2",
client:{mobile:"_hAsShWhZrX",desktop:"_hIMWOFYOkG"},server:{mobile:"_dBn42PEYpT",desktop:"_p9dR36E2p7"},isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_ua1Af0iqiz",desktop:"_hIMWOFYOkG"},server:{mobile:"_yiSiyTNTr9",desktop:"_p9dR36E2p7"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_lI4BEQnUxI",desktop:"_hIMWOFYOkG"},server:{mobile:"_d2hBOhJhxF",desktop:"_p9dR36E2p7"},isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_wVm3mYeRml",desktop:"_hIMWOFYOkG"},
server:{mobile:"_fK6uPhLCLl",desktop:"_p9dR36E2p7"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",client:{mobile:"_jvVwL9Fnun",desktop:"_hIMWOFYOkG"},server:{mobile:"_dzb8opas5y",desktop:"_p9dR36E2p7"},isOutstream:!1},{siteId:"default",client:{mobile:"_htv2gWQDl4",desktop:"_hIMWOFYOkG"},server:{mobile:"_fc3We7MSf8",desktop:"_p9dR36E2p7"},isOutstream:!1}]],["010000",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_eIhMof7yqe",desktop:"_vzS4k9rMKu"},server:{mobile:"_lCC4Vz5HVq",desktop:"_uBJBQkzM4x"},
isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_f1sGSYRKR3",desktop:"_vzS4k9rMKu"},server:{mobile:"_d6K4oqtod2",desktop:"_uBJBQkzM4x"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_qwYKU8Qi3G",desktop:"_vzS4k9rMKu"},server:{mobile:"_ycHhS8LeQg",desktop:"_uBJBQkzM4x"},isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_whqXDci8eJ",desktop:"_vzS4k9rMKu"},server:{mobile:"_a4F7BDxYvO",desktop:"_uBJBQkzM4x"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",
client:{mobile:"_fp2BsPBxqI",desktop:"_vzS4k9rMKu"},server:{mobile:"_jHYRZMA3Rv",desktop:"_uBJBQkzM4x"},isOutstream:!1},{siteId:"default",client:{mobile:"_bDJEtXJaCQ",desktop:"_vzS4k9rMKu"},server:{mobile:"_mTkU31vSyD",desktop:"_uBJBQkzM4x"},isOutstream:!1}]],["101000",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_finwQXYsdW",desktop:"_biVtjnG1v0"},server:{mobile:"_aMXALPX3fS",desktop:"_zVMScGOI0i"},isOutstream:!0},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_f8CIFfN0X9",desktop:"_biVtjnG1v0"},
server:{mobile:"_ijhi0w8YvT",desktop:"_zVMScGOI0i"},isOutstream:!0},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_agHXJxfEse",desktop:"_biVtjnG1v0"},server:{mobile:"_l2FGd0utDq",desktop:"_zVMScGOI0i"},isOutstream:!0},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_gSKH6aK6R4",desktop:"_biVtjnG1v0"},server:{mobile:"_ePFeBkTZqT",desktop:"_zVMScGOI0i"},isOutstream:!0},{siteId:"566aefa94856897050ee7303",client:{mobile:"_kIAYcCNe7d",desktop:"_biVtjnG1v0"},server:{mobile:"_wUz9lluZW9",desktop:"_zVMScGOI0i"},
isOutstream:!0},{siteId:"default",client:{mobile:"_rEapvpk6cZ",desktop:"_biVtjnG1v0"},server:{mobile:"_d1ofpEpOuE",desktop:"_zVMScGOI0i"},isOutstream:!0}]],["101100",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_ecQ46kpFH4",desktop:"_hDLFEUkifu"},server:{mobile:"_cRzdV4tRUN",desktop:"_hDLFEUkifu"},isOutstream:!0},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_vOhgG6ZGQc",desktop:"_hDLFEUkifu"},server:{mobile:"_oBErk6NgT9",desktop:"_hDLFEUkifu"},isOutstream:!0},{siteId:"5daf495ed42c8605cfc74b0b",
client:{mobile:"_dZU1BlrcQe",desktop:"_hDLFEUkifu"},server:{mobile:"_aGjeC3sjY2",desktop:"_hDLFEUkifu"},isOutstream:!0},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_zcdgs90WxP",desktop:"_hDLFEUkifu"},server:{mobile:"_sRHWp1P95W",desktop:"_hDLFEUkifu"},isOutstream:!0},{siteId:"566aefa94856897050ee7303",client:{mobile:"_lLcxnJnUL0",desktop:"_hDLFEUkifu"},server:{mobile:"_mKff6SG1V4",desktop:"_hDLFEUkifu"},isOutstream:!0},{siteId:"default",client:{mobile:"_hDLFEUkifu",desktop:"_hDLFEUkifu"},server:{mobile:"_d4LMbFjRkk",
desktop:"_hDLFEUkifu"},isOutstream:!0}]],["100100",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_qy8FZvprXY",desktop:"_kEvPWSnblw"},server:{mobile:"_aYXzmplV9F",desktop:"_kEvPWSnblw"},isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_gsOgkDslR3",desktop:"_kEvPWSnblw"},server:{mobile:"_u5EkrC5vYV",desktop:"_kEvPWSnblw"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_lGIFrPovZn",desktop:"_kEvPWSnblw"},server:{mobile:"_f4bL87KId1",desktop:"_kEvPWSnblw"},
isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_gn64RSSM57",desktop:"_kEvPWSnblw"},server:{mobile:"_yDuCGfXmql",desktop:"_kEvPWSnblw"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",client:{mobile:"_gD0lSine9a",desktop:"_kEvPWSnblw"},server:{mobile:"_lx9tkSimU2",desktop:"_kEvPWSnblw"},isOutstream:!1},{siteId:"default",client:{mobile:"_kEvPWSnblw",desktop:"_kEvPWSnblw"},server:{mobile:"_jiqa71nZQy",desktop:"_kEvPWSnblw"},isOutstream:!1}]],["000011",[{siteId:"55bccc97303edab84afd77e2",
client:{mobile:"_v5SMFEjDrr",desktop:"_yI7yqradgk"},server:{mobile:"_jGV537FxMJ",desktop:"_cw6zRI7FoH"},isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_lX0mmLqXOH",desktop:"_yI7yqradgk"},server:{mobile:"_qH1l1kyPi3",desktop:"_cw6zRI7FoH"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_lUXeoSZAf0",desktop:"_yI7yqradgk"},server:{mobile:"_jxiRracsTG",desktop:"_cw6zRI7FoH"},isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_qQ8NEcQY1C",desktop:"_yI7yqradgk"},
server:{mobile:"_dbjFQeqonB",desktop:"_cw6zRI7FoH"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",client:{mobile:"_kFc3pV1c0n",desktop:"_yI7yqradgk"},server:{mobile:"_aSfWWLCYIF",desktop:"_cw6zRI7FoH"},isOutstream:!1},{siteId:"default",client:{mobile:"_hRaLC9FgYn",desktop:"_yI7yqradgk"},server:{mobile:"_qkzet6WYFk",desktop:"_cw6zRI7FoH"},isOutstream:!1}]],["000010",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_r4fIEDQTLY",desktop:"_fPM3feDxUE"},server:{mobile:"_ecjCX4kPwm",desktop:"_uqR67yraqv"},
isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_rAF97HOGTF",desktop:"_fPM3feDxUE"},server:{mobile:"_jTzFFJiTJD",desktop:"_uqR67yraqv"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_mqFteTH9Rj",desktop:"_fPM3feDxUE"},server:{mobile:"_vuHz64bKFd",desktop:"_uqR67yraqv"},isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_qs6lmj0Pbf",desktop:"_fPM3feDxUE"},server:{mobile:"_lx5UxDlx0g",desktop:"_uqR67yraqv"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",
client:{mobile:"_maZsbF5qjH",desktop:"_fPM3feDxUE"},server:{mobile:"_vTQcRjZrSS",desktop:"_uqR67yraqv"},isOutstream:!1},{siteId:"default",client:{mobile:"_iyznbek6ki",desktop:"_fPM3feDxUE"},server:{mobile:"_xgNGHBHpEp",desktop:"_uqR67yraqv"},isOutstream:!1}]],["000001",[{siteId:"55bccc97303edab84afd77e2",client:{mobile:"_cxVgq7bff1",desktop:"_wtAZ5wepHr"},server:{mobile:"_oMCKtxsq0T",desktop:"_bSkTYI5gwN"},isOutstream:!1},{siteId:"541917f5a90318f9194874cf",client:{mobile:"_nhQCrEk0GT",desktop:"_wtAZ5wepHr"},
server:{mobile:"_vg5Tj9cQlS",desktop:"_bSkTYI5gwN"},isOutstream:!1},{siteId:"5daf495ed42c8605cfc74b0b",client:{mobile:"_yc0KcUV2Sb",desktop:"_wtAZ5wepHr"},server:{mobile:"_lhuIK8d0HO",desktop:"_bSkTYI5gwN"},isOutstream:!1},{siteId:"55cb7e3b4bc841bd0c4ea577",client:{mobile:"_vwzo4mlIdf",desktop:"_wtAZ5wepHr"},server:{mobile:"_ol6ZhRXMRV",desktop:"_bSkTYI5gwN"},isOutstream:!1},{siteId:"566aefa94856897050ee7303",client:{mobile:"_vKGlgbERMK",desktop:"_wtAZ5wepHr"},server:{mobile:"_vaUAWXhKWM",desktop:"_bSkTYI5gwN"},
isOutstream:!1},{siteId:"default",client:{mobile:"_g1dEyYpnCU",desktop:"_wtAZ5wepHr"},server:{mobile:"_p2WCSP0fm1",desktop:"_bSkTYI5gwN"},isOutstream:!1}]]]),Bn="Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_5 Content_6 Content_7 Content_8 Content_9 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9".split(" "),bl=["Below_Post","Content_1"],Cn=["Below_Post","Content","Recipe"],Dn={desktop:zn,mobile:An},En=["Below_Post","Content_1",
"Content_3","Content_5","Recipe_1"],Gg=class extends X{constructor(a,b,c,d){super();this._kargoExperiment=a;this._config=b;this._mediaType=c;this._kspExperiment=d;this.bidderConfig=this._config.partners.getBidderConfig(g.Kargo);this.adapterName=g.Kargo;this.serverBidderName=g.KargoServer;this.gvlid=972;this._device=I()?"mobile":"desktop";this._videoMap=Dn[this._device];this._bidders=[];this._displaySiteMappings=["5daf495ed42c8605cfc74b0b","55cb7e3b4bc841bd0c4ea577","566aefa94856897050ee7303","55bccc97303edab84afd77e2",
...(this._kspExperiment.result?["541917f5a90318f9194874cf"]:[])];this._videoSiteMappings=["55cb7e3b4bc841bd0c4ea577","566aefa94856897050ee7303","5daf495ed42c8605cfc74b0b","55bccc97303edab84afd77e2",...(this._kspExperiment.result?["541917f5a90318f9194874cf"]:[])];this._siteID=this._displaySiteMappings.includes(this._config.site.id)&&"mobile"===this._device?this._config.site.id:"default";this._videoSiteID=this._videoSiteMappings.includes(this._config.site.id)&&"mobile"===this._device?this._config.site.id:
"default";this.videoCreativeIds=[["138381592896",g.Kargo],["138381553202",g.Kargo],["138381553217",g.Kargo],["138381553238",g.Kargo],["138381553328",g.Kargo],["138381553214",g.Kargo],["138381553235",g.Kargo],["138381553244",g.Kargo],["138381553331",g.Kargo],["138381553334",g.Kargo],["138382066465",g.Kargo],["138381553241",g.Kargo],["138381553325",g.Kargo],["138381553337",g.Kargo],["138381553340",g.Kargo],["138382066468",g.Kargo]];this.videoServerCreativeIds=[["138412278583",g.KargoServer],["138411680693",
g.KargoServer],["138411680690",g.KargoServer],["138411680687",g.KargoServer],["138411680684",g.KargoServer],["138411680681",g.KargoServer],["138411680678",g.KargoServer],["138411680264",g.KargoServer]];this.settings={storageAllowed:!0};a="both"===this._kargoExperiment.result||"client"===this._kargoExperiment.result;"both"!==this._kargoExperiment.result&&"server"!==this._kargoExperiment.result||this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}get enabled(){return this._config.partners.display.get(g.Kargo)}get videoEnabled(){return this._config.partners.video.get(g.Kargo)}addLazySlotsToTypes(a){"mobile"===
this._device&&Cn.includes(a.location)&&a.lazy&&bl.push(a.name)}createBitStringAdOptions(a,b=!1){let c=a.hasSize([300,250]),d=a.hasSize([320,50]),e=a.hasSize([728,90]);this.addLazySlotsToTypes(a);return[+this.isBanner(a,c,d),+this.isHeader(a,e,d),+this.isOutstream(a,c,b),+this.isInterscroller(a),+this.isAnimatedFooter(a,d),+this.isExpandableFooter(a,d)].join("")}isBanner(a,b,c){return(b||c)&&Bn.includes(a.placementMapName)}isHeader(a,b,c){let d=["Header_1","Header_2"];return(b||c)&&d.includes(a.placementMapName)}isOutstream(a,
b,c=!1){let d=["Content","Header","Below_Post","Sidebar","Recipe"];return b&&("desktop"===this._device&&d.includes(a.location)||"mobile"===this._device&&c&&En.includes(a.placementMapName)&&this._mediaType.outstreamEnabled(a).outstreamCapable)}isInterscroller(a){return"mobile"===this._device&&this._config.adTypes.has("interscroller")&&bl.includes(a.placementMapName)}isAnimatedFooter(a,b){return("desktop"===this._device||this._config.adTypes.has("animatedFooter"))&&b&&"Footer_1"===a.placementMapName}isExpandableFooter(a,
b){return"mobile"===this._device&&b&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===a.placementMapName}getBannerSlotBidRequests(a){return this._getBidParams(a)}getOutstreamSlotBidRequests(a){if("desktop"!==this._device)return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){let b=[];if(!this._videoMap.get(a.name))return b;this._bidders.forEach(c=>{let d="server"===c.type?"adSlotID":"placementId",e=this._videoMap.get(a.name).filter(f=>f.siteId===this._videoSiteID)[0][c.type];b.push({bidder:c.name,
params:{[d]:e}})});return b}_getBidParams(a,b=!1){let c=this.createBitStringAdOptions(a,b);if(al.has(c))return this._bidders.map(d=>{let e="server"===d.type?"adSlotID":"placementId",f=al.get(c).filter(h=>h.siteId===this._siteID)[0];return{bidder:d.name,...this._addBidLabel(a.placementMapName,{outstreamCapable:f.isOutstream&&b}),params:{[e]:f[d.type][this._device]}}})}};Gg=k([p("KargoBidder"),q(),l("design:paramtypes",[bc,y,ya,Fg])],Gg);let Hg=class extends X{constructor(a){super();this._config=a;
this.bidderConfig=this._config.partners.getBidderConfig(g.MediaGrid);this.settings={bidCpmAdjustment:(b,c)=>{let d=this._config,e=d.video.instreamAdUnits.has(null===c||void 0===c?void 0:c.adUnitCode);b=this._getCPMAdjustment(b,c);e&&(b>d.video.gamDiscount?b-=d.video.gamDiscount:b=0);return b},inverseBidAdjustment:(b,c)=>{c={mediaType:Object.keys(c.mediaTypes)[0],adUnitCode:c.adUnitCode};let d=this._config,e=d.video.instreamAdUnits.has(null===c||void 0===c?void 0:c.adUnitCode)?d.video.minFloor:0;return Yj(d,
g.MediaGrid,c,b+e)},adserverTargeting:[{key:"hb_format",val:b=>b&&b.meta&&"trustx"===b.meta.demandSource?`trustx_${b.mediaType}`:b.mediaType}]};this._getCPMAdjustment=(b,c)=>{var d=c.dealId;d=("vastUrl"in c||"vastXml"in c)&&d&&d.toString().includes("G-TRUSTX");return se(this._config,b,g.MediaGrid,{...c,...(d&&{dealId:void 0})})};this._displayMap=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],
["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380]]);this._outstreamMap=new Map([["Below_Post",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Video_StickyOutstream_1",
133519]])}get enabled(){return this._config.partners.display.get(g.MediaGrid)}get videoEnabled(){return this._config.partners.video.get(g.MediaGrid)}getBannerSlotBidRequests(a){if(this._displayMap.has(a.placementMapName))return[{bidder:this.name,params:{uid:this._displayMap.get(a.placementMapName)}}]}getOutstreamSlotBidRequests(a){if(this._outstreamMap.has(a.placementMapName))return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:"Video_StickyOutstream_1"!==a.location}),
params:{uid:this._outstreamMap.get(a.placementMapName)}}]}};Hg=k([p("MediaGridBidder"),v(),l("design:paramtypes",[y])],Hg);let Ig=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.MediaGridVideo);this.adapterName="grid";this.videoCreativeIds=[["138323922262",g.MediaGridVideo],["138323922901",g.MediaGridVideo],["138323922886",g.MediaGridVideo],["138323922898",g.MediaGridVideo],["138323922904",g.MediaGridVideo],["138323923042",g.MediaGridVideo],
["138323922889",g.MediaGridVideo],["138323923018",g.MediaGridVideo],["138323922907",g.MediaGridVideo],["138323922859",g.MediaGridVideo],["138323923048",g.MediaGridVideo],["138323923045",g.MediaGridVideo],["138323923051",g.MediaGridVideo],["138323923021",g.MediaGridVideo],["138323922895",g.MediaGridVideo],["138323922892",g.MediaGridVideo]];this._map=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[x.Video_Coll_SOff_Smartphone,[{uid:2165}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",
uid:2164},{device:"mobile",uid:6056}]],[x.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",uid:6057}]]])}get enabled(){return this._config.partners.display.get(g.MediaGridVideo)}get videoEnabled(){return this._config.partners.video.get(g.MediaGridVideo)}getVideoSlotBidRequests(a){let b=pa()?"desktop":"mobile";if(this._map.has(a.name))return this._map.get(a.name).filter(({device:c})=>!c||c===b).map(({uid:c})=>({bidder:this.name,params:{uid:c}}))}};Ig=k([p("MediaGridVideoBidder"),
v(),l("design:paramtypes",[y])],Ig);let Jg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Nativo);this.adapterName=g.Nativo;this._map=new Set("Content_1 Content_2 Content_3 Header_1 Footer_1 Recipe_1 Recipe_2 Recipe_3 Sidebar_1 Sidebar_2".split(" "))}get enabled(){return this._config.partners.display.get(g.Nativo)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,params:{}}]}};Jg=k([p("NativoBidder"),
v(),l("design:paramtypes",[y])],Jg);let Kg=class extends X{constructor(a,b){super();this._config=a;this.openxExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(g.OpenX);this.adapterName=g.OpenX;this.serverBidderName=g.OpenXServer;this.gvlid=69;this._bidders=[];this.videoCreativeIds=[["138323525262",g.OpenX],["138323914702",g.OpenX],["138323526741",g.OpenX],["138323526186",g.OpenX],["138323526738",g.OpenX],["138323526744",g.OpenX],["138323526747",g.OpenX],["138323526189",g.OpenX],
["138323914588",g.OpenX],["138323526192",g.OpenX],["138323526750",g.OpenX],["138323466806",g.OpenX],["138323468969",g.OpenX],["138323914705",g.OpenX],["138323526183",g.OpenX],["138323526753",g.OpenX]];this.videoServerCreativeIds=[["138411286398",g.OpenXServer],["138411786451",g.OpenXServer],["138411286395",g.OpenXServer],["138411286392",g.OpenXServer],["138411286401",g.OpenXServer],["138411286389",g.OpenXServer],["13841117744",g.OpenXServer],["138411178055",g.OpenXServer]];this._params={delDomain:"cafemedia-d.openx.net"};
this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]);this._lazyImpactParamsMap=new Map([["Content",["interscroller","miniscroller"]],["Recipe",["interscroller","miniscroller"]],["Below_Post",["interscroller","miniscroller"]]]);this._map=new Map([["Below_Post",{client:{unit:"538699862"},server:{unit:"558245996"}}],["Content_1",{client:{unit:"538699864"},server:{unit:"558245997"}}],["Content_2",{client:{unit:"538699865"},server:{unit:"558245998"}}],["Content_3",{client:{unit:"538699866"},
server:{unit:"558245999"}}],["Content_4",{client:{unit:"538699867"},server:{unit:"558246000"}}],["Content_5",{client:{unit:"538699868"},server:{unit:"558246001"}}],["Content_6",{client:{unit:"538699869"},server:{unit:"558246002"}}],["Content_7",{client:{unit:"538699870"},server:{unit:"558246003"}}],["Content_8",{client:{unit:"538699871"},server:{unit:"558246004"}}],["Content_9",{client:{unit:"538699872"},server:{unit:"558246005"}}],["Footer_1",{client:{unit:"538699840"},server:{unit:"558246006"}}],
["Header_1",{client:{unit:"538699873"},server:{unit:"558246007"}}],["Header_2",{client:{unit:"538699874"},server:{unit:"558246008"}}],["Interstitial_1",{client:{unit:"543876568"},server:{unit:"543876568"}}],["Recipe_1",{client:{unit:"538699843"},server:{unit:"558246009"}}],["Recipe_2",{client:{unit:"538699844"},server:{unit:"558246010"}}],["Recipe_3",{client:{unit:"540594416"},server:{unit:"558246011"}}],["Recipe_4",{client:{unit:"540751624"},server:{unit:"558246012"}}],["Sidebar_1",{client:{unit:"538699853"},
server:{unit:"558246014"}}],["Sidebar_2",{client:{unit:"538699854"},server:{unit:"558246015"}}],["Sidebar_3",{client:{unit:"538699855"},server:{unit:"558246016"}}],["Sidebar_4",{client:{unit:"538699856"},server:{unit:"558246017"}}],["Sidebar_5",{client:{unit:"538699857"},server:{unit:"558246018"}}],["Sidebar_9",{client:{unit:"538699861"},server:{unit:"558246019"}}],["Video_StickyOutstream_1",{client:{unit:"545721971"},server:{unit:"558246697"}}],[x.Video_Collapse_Autoplay_SoundOff,{client:{unit:"540679731"},
server:{unit:"558246727"}}],[x.Video_Coll_SOff_Smartphone,{client:{unit:"540679733"},server:{unit:"558246726"}}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:{unit:"540679727"},server:{unit:"558246662"}}],[x.Video_Individual_Autoplay_SOff,{client:{unit:"540925853"},server:{unit:"558246728"}}]]);this._custParams={...(this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories}),bucket:[this._config.context.bucket]};a="both"===b.result||"client"===b.result;
"both"!==b.result&&"server"!==b.result||this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}get enabled(){return this._config.partners.display.get(g.OpenX)}get videoEnabled(){return this._config.partners.video.get(g.OpenX)}_lazyActiveTypes(a){return a.lazy&&this._lazyImpactParamsMap.has(a.location)&&this._lazyImpactParamsMap.get(a.location).filter(b=>this._config.adTypes[b])}activeAdTypes(a){return this._highImpactParamsMap.has(a.placementMapName)&&
this._highImpactParamsMap.get(a.placementMapName).filter(b=>this._config.adTypes[b])}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._getBidParams(a)}getOutstreamSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){var b;if(this._map.has(a.name)){let c="all"===(null===(b=this._config.video.videoProtocols)||void 0===b?void 0:b.scope)?{protocols:this._config.video.videoProtocols.protocols}:"",d=this._map.get(a.name);
return this._bidders.map(e=>{var f;return{bidder:e.name,params:{...this._params,unit:d[e.type].unit,video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...c,pos:this._config.video.position.id,...((null===(f=this._config.video.playbackmethod)||void 0===f?void 0:f.get(a.name))&&{playbackmethod:this._config.video.playbackmethod.get(a.name)})}}}})}}_getBidParams(a,b=!1){let c=this.activeAdTypes(a)||this._lazyActiveTypes(a)||[],d=this._map.get(a.placementMapName);return this._bidders.map(e=>
({bidder:e.name,...this._addBidLabel(a.placementMapName,{outstreamActive:b&&"Video_StickyOutstream"!==a.location}),params:{...this._params,unit:d[e.type].unit,customParams:{...this._custParams,...(c.length&&{hi_au:c.filter(f=>this._config.adTypes[f])})}}}))}};Kg=k([p("OpenXBidder"),v(),l("design:paramtypes",[y,cc])],Kg);let Lg=class extends X{constructor(a,b){super();this._config=a;this._irisTv=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Pubmatic);this.adapterName=g.Pubmatic;this.serverBidderName=
g.PubmaticServer;this.gvlid=76;this.videoCreativeIds=[["138323526825",g.Pubmatic],["138323915419",g.Pubmatic],["138323915299",g.Pubmatic],["138323527095",g.Pubmatic],["138323469392",g.Pubmatic],["138323915422",g.Pubmatic],["138323469395",g.Pubmatic],["138323469389",g.Pubmatic],["138323469383",g.Pubmatic],["138323469320",g.Pubmatic],["138323469317",g.Pubmatic],["138323527092",g.Pubmatic],["138323469401",g.Pubmatic],["138323469398",g.Pubmatic],["138323469386",g.Pubmatic],["138323469404",g.Pubmatic]];
this.videoServerCreativeIds=[["138337271609",g.PubmaticServer],["138337343196",g.PubmaticServer],["138337343229",g.PubmaticServer],["138337720879",g.PubmaticServer],["138337720885",g.PubmaticServer],["138337343202",g.PubmaticServer],["138337343211",g.PubmaticServer],["138337343217",g.PubmaticServer],["138337343232",g.PubmaticServer],["138337720597",g.PubmaticServer],["138337720888",g.PubmaticServer],["138337343199",g.PubmaticServer],["138337343214",g.PubmaticServer],["138337343223",g.PubmaticServer],
["138337343226",g.PubmaticServer],["138337343220",g.PubmaticServer]];this.pubId="157347";this._map=new Map([["Below_Post",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",
server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],
["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",
server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[x.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[x.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:"1961308",server:"3437232"}],[x.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.display.get(g.Pubmatic)}get videoEnabled(){return this._config.partners.video.get(g.Pubmatic)}getBannerSlotBidRequests(a){let b=
[];this._map.has(a.placementMapName)&&"Video_StickyOutstream"!==a.location&&(b.push(this._getBidParams(this.name,this._map.get(a.placementMapName).client,a)),b.push(this._getBidParams(this.serverBidderName,this._map.get(a.placementMapName).server,a)));return b}getOutstreamSlotBidRequests(a){let b=[],c="Video_StickyOutstream"!==a.location;this._map.has(a.placementMapName)&&(b.push(this._getBidParams(this.name,this._map.get(a.placementMapName).client,a,c)),b.push(this._getBidParams(this.serverBidderName,
this._map.get(a.placementMapName).server,a,c)));return b}_getBidParams(a,b,c,d=!1){return{bidder:a,...this._addBidLabel(c.placementMapName,{outstreamActive:d}),params:{publisherId:this.pubId,adSlot:`${b}@${c.sizes[0][0]}x${c.sizes[0][1]}`,...(this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")})}}}getVideoSlotBidRequests(a){let b=[];this._map.has(a.name)&&(b.push(this.getVideoBidParams(this.name,this._map.get(a.name).client,a)),b.push(this.getVideoBidParams(this.serverBidderName,
this._map.get(a.name).server,a)));return b}getDCTRParam(){let a=[],b=this._irisTv.irisContextualData;b&&b.length&&a.push(`iris_context=${b.toString()}`);return a.join("|")}getVideoBidParams(a,b,c){var d,e;let f=this.getDCTRParam();return{bidder:a,params:{publisherId:this.pubId,...(f&&{dctr:f}),video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...("all"===(null===(d=this._config.video.videoProtocols)||void 0===d?void 0:d.scope)&&{protocols:this._config.video.videoProtocols.protocols}),
...((null===(e=this._config.video.playbackmethod)||void 0===e?void 0:e.get(c.name))&&{playbackmethod:this._config.video.playbackmethod.get(c.name)})},adSlot:`${b}@${c.size[0]}x${c.size[1]}`,...(this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")})}}}};Lg=k([p("PubMaticBidder"),v(),l("design:paramtypes",[y,Cb])],Lg);let Mg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.ResetDigital);
this.videoCreativeIds=[["138413962354",g.ResetDigital],["138413962351",g.ResetDigital],["138413962348",g.ResetDigital],["138413454348",g.ResetDigital],["138413351039",g.ResetDigital],["138413346701",g.ResetDigital],["138413346611",g.ResetDigital],["138413169413",g.ResetDigital]];this._pubId="118";this._displaySet=new Set("Below_Post Content Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" "));
this._videoSet=new Set([x.Video_Coll_SOff_Smartphone,x.Video_Collapse_Autoplay_SoundOff,x.Video_In_Post_ClicktoPlay_SoundOn,x.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(g.ResetDigital)}get videoEnabled(){return this._config.partners.video.get(g.ResetDigital)}getBannerSlotBidRequests(a){return this._getBidParams(a)}getOutstreamSlotBidRequests(a){return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){if(this._videoSet.has(a.name))return a=`Adthrive${a.name}`.split("_").join(""),
[{bidder:this.name,params:{pubId:this._pubId,zoneId:a}}]}_getBidParams(a,b=!1){if(this._displaySet.has(a.placementMapName)){let c=a.id.split("_").slice(0,-1).join("");return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:b&&"Video_StickyOutstream"!==a.location}),params:{pubId:this._pubId,zoneId:c}}]}}};Mg=k([p("ResetDigitalBidder"),v(),l("design:paramtypes",[y])],Mg);let Ng=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Roundel);
this.adapterName=g.IndexExchange;this.videoCreativeIds=[["138323538893",g.Roundel],["138323592675",g.Roundel],["138323592663",g.Roundel],["138323592660",g.Roundel],["138323983633",g.Roundel],["138323970739",g.Roundel],["138323983639",g.Roundel],["138323592699",g.Roundel],["138323592672",g.Roundel],["138323983636",g.Roundel],["138323970742",g.Roundel],["138323592693",g.Roundel],["138323592696",g.Roundel],["138323592690",g.Roundel],["138323592687",g.Roundel],["138323592684",g.Roundel]];this._params=
{siteId:"377190"};this._map=new Map([["Below_Post",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,
50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},
{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,
250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]);this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"485377",device:"mobile"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",
device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]);this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.display.get(g.Roundel)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({size:b})=>a.hasSize(b)).map(({size:b})=>({bidder:this.name,...this._addBidLabel(a.placementMapName,{refresh:a.viewability<this._config.marmalade.hvThreshold}),params:{...this._params,size:b}}))}getVideoSlotBidRequests(a){var b,
c;if(this._videoMap.has(a.name)){let d=pa()?"desktop":"mobile",e=this._videoMap.get(a.name).filter(f=>f.device===d).map(({...f})=>f)[0];return[{bidder:this.name,params:{...e,video:{mimes:this._config.video.mimeType,...((null===(b=this._config.video.playbackmethod)||void 0===b?void 0:b.get(a.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(a.name)[0])}),api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:null===(c=this._config.video.videoProtocols)||
void 0===c?void 0:c.protocols}}}]}}};Ng=k([p("RoundelBidder"),v(),l("design:paramtypes",[y])],Ng);let Og=class extends J{init(){this._key="RtbHouseExperiment";this._default=!1}};Og=k([p("RtbHouseExperiment"),q()],Og);let Pg=class extends X{constructor(a,b){super();this._config=a;this._rtbHouseExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Rtbhouse);this.gvlid=16;this._device=I()?"mobile":"desktop";this._map=new Set("Below_Post Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9".split(" "))}get enabled(){let a=
this._config;return this._rtbHouseExperiment.result&&"desktop"===this._device&&a.context.fledgeSupported&&a.partners.display.get(g.Rtbhouse)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return[{bidder:this.name,params:{publisherId:"puHY4pgB9FOPeQBYYZEM",region:"prebid-us"}}]}};Pg=k([p("RtbHouseBidder"),v(),l("design:paramtypes",[y,Og])],Pg);let Qg=class extends X{constructor(a,b){super();this._config=a;this._rubiconExperiment=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Rubicon);
this.adapterName=g.Rubicon;this.serverBidderName=g.RubiconServer;this.gvlid=52;this.videoCreativeIds=[["138323536473",g.Rubicon],["138323540955",g.Rubicon],["138323540961",g.Rubicon],["138323540964",g.Rubicon],["138323929606",g.Rubicon],["138323480624",g.Rubicon],["138323536455",g.Rubicon],["138323540856",g.Rubicon],["138323929612",g.Rubicon],["138323480642",g.Rubicon],["138323929516",g.Rubicon],["138323480600",g.Rubicon],["138323480636",g.Rubicon],["138323536467",g.Rubicon],["138323926693",g.Rubicon],
["138323536476",g.Rubicon]];this.videoServerCreativeIds=[["138323542002",g.RubiconServer],["138323932663",g.RubiconServer],["138323544525",g.RubiconServer],["138323932642",g.RubiconServer],["138323544531",g.RubiconServer],["138323544528",g.RubiconServer],["138323932765",g.RubiconServer],["138323932768",g.RubiconServer],["138323932852",g.RubiconServer],["138323932855",g.RubiconServer],["138323544354",g.RubiconServer],["138323932858",g.RubiconServer],["138323544357",g.RubiconServer],["138323544339",
g.RubiconServer],["138323932672",g.RubiconServer],["138323932669",g.RubiconServer]];this._bidders=[];this._map=new Map([["Below_Post",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,
server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],
["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2384630}],[x.Video_Collapse_Autoplay_SoundOff,{client:1259006,server:2055644}],[x.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[x.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);
a="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;this._config.prebid.s2s.bidders.includes(g.RubiconServer)&&this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(a,b){let c={server:363698,client:180726},d={server:420534,client:386004};return{accountId:9262,siteId:"Video_StickyOutstream"===b?d[a]:c[a],...("Video_StickyOutstream"===b&&{video:{language:"en"}})}}getVideoParams(a){return{accountId:9262,
siteId:{server:375144,client:253996}[a],video:{language:"en"}}}get enabled(){return this._config.partners.display.get(g.Rubicon)}get videoEnabled(){return this._config.partners.video.get(g.Rubicon)}getBannerSlotBidRequests(a){return this._getBidParams(a)}getOutstreamSlotBidRequests(a){return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){if(this._map.has(a.name))return this._bidders.map(b=>({bidder:b.name,params:{...this.getVideoParams(b.type),zoneId:this._map.get(a.name)[b.type]}}))}updateBidParams(a){this._addPositionParam(a,
"atf")}_getBidParams(a,b=!1){let c=b&&"Video_StickyOutstream"!==a.location;if(this._map.has(a.placementMapName))return this._bidders.reduce((d,e)=>{"client"===e.type&&c||d.push({bidder:e.name,...this._addBidLabel(a.location,{outstreamActive:c}),params:{...this.getDisplayParams(e.type,a.location),zoneId:this._map.get(a.placementMapName)[e.type],...(a.isHighlyViewable()&&{position:"atf"})}});return d},[])}};Qg=k([p("RubiconBidder"),v(),l("design:paramtypes",[y,dc])],Qg);let cl=new Map([["Below_Post",
[{size:[300,250],pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},
{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},
{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],
["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},
{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},
{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},
{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},
{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],
["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],
["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],
["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]],["Video_StickyOutstream_1",[{size:[300,250],pkey:"qKjlCz8NOStHzB15G18scbgS"},{size:[320,50],pkey:"qKjlCz8NOStHzB15G18scbgS"}]]]),Fn=new Map([[x.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],
pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[x.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[x.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[x.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]),Rg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Sharethrough);
this.videoCreativeIds=[["138377683089",g.Sharethrough],["138377670131",g.Sharethrough],["138377670158",g.Sharethrough],["138377670173",g.Sharethrough],["138378141751",g.Sharethrough],["138377670161",g.Sharethrough],["138377670167",g.Sharethrough],["138377670170",g.Sharethrough],["138377670209",g.Sharethrough],["138377670212",g.Sharethrough],["138377670224",g.Sharethrough],["138377669645",g.Sharethrough],["138377670218",g.Sharethrough],["138377670221",g.Sharethrough],["138378141754",g.Sharethrough],
["138377670215",g.Sharethrough]]}get enabled(){return this._config.partners.display.get(g.Sharethrough)}get videoEnabled(){return this._config.partners.video.get(g.Sharethrough)}getBannerSlotBidRequests(a){let b=cl.get(a.placementMapName);if(b&&"Video_StickyOutstream"!==a.location)return this._getBidParams(a,b)}getOutstreamSlotBidRequests(a){let b=cl.get(a.placementMapName);if(b&&"Video_StickyOutstream"===a.location)return this._getBidParams(a,b)}getVideoSlotBidRequests(a){return Fn.get(a.name).filter(({size:b})=>
a.size[0]===b[0]&&a.size[1]===b[1]).map(({pkey:b})=>({bidder:this.name,params:{pkey:b}}))}_getBidParams(a,b){return b.filter(({size:c})=>a.hasSize(c)).map(({pkey:c})=>({bidder:this.name,params:{pkey:c}}))}};Rg=k([p("SharethroughBidder"),v(),l("design:paramtypes",[y])],Rg);let Sg=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Teads);this._pageId=112062;this._adTypeBitIndexMap=new Map([["outstream",{adType:I()?"outstreamMobile":
"outstreamDesktop",index:1}],["miniscroller",{adType:"miniscroller",index:2}],["interscroller",{adType:"interscroller",index:3}]]);this._adUnitsMap=new Map([["Below_Post",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller",
"interscroller"]],["Content_6",["miniscroller","interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",
[]]]);this._deviceAdTypes={mobile:["outstreamMobile","interscroller","miniscroller"],desktop:["outstreamDesktop"]};this._placementIdMap=new Map([["1000",{id:121842}],["1001",{id:121836}],["1010",{id:121835}],["1011",{id:121840}],["1100",{id:121834}],["1101",{id:121838}],["1110",{id:121837}],["1111",{id:121895}]])}get enabled(){return this._config.partners.display.get(g.Teads)}lazyActiveTypes(a,b){if(!a.lazy)return!1;let c=["interscroller","miniscroller"];return["Content","Recipe","Below_Post"].includes(a.location)&&
c.includes(b)}createBitArrayAdOptions(a,b=!1){let c=I()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,d=["1","0","0","0"],e=this._adUnitsMap.get(a.placementMapName);this._adTypeBitIndexMap.forEach((f,h)=>{let m=f.adType;c.includes(m)&&this._config.adTypes.has(m)&&(e.includes(m)||this.lazyActiveTypes(a,m))&&(d[f.index]="outstream"===h?b&&this._mediaType.outstreamEnabled(a).currentlyActive?"1":"0":"1")});return d}getBannerSlotBidRequests(a){if(this._adUnitsMap.has(a.placementMapName))return a=
this.createBitArrayAdOptions(a),a=this._placementIdMap.get(a.join("")),[{bidder:this.name,params:{placementId:a.id,pageId:this._pageId}}]}getOutstreamSlotBidRequests(a){if(this._adUnitsMap.has(a.placementMapName)){var b=this.createBitArrayAdOptions(a,!0);b=this._placementIdMap.get(b.join(""));return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:"Video_StickyOutstream"!==a.location}),params:{placementId:b.id,pageId:this._pageId}}]}}};Sg=k([p("TeadsBidder"),v(),l("design:paramtypes",
[y,ya])],Sg);let dl=new Map([["Interstitial_1",{desktop:{adTypes:[]},mobile:{adTypes:[]}}],["Below_Post",{desktop:{adTypes:["nativeDesktopBelowPost"],sizes:[[728,250],[728,90]]},mobile:{adTypes:["nativeMobileBelowPost"],sizes:[[300,250],[320,100]]}}],["Content_1",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_2",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_3",{desktop:{adTypes:["nativeDesktopContent"]},
mobile:{adTypes:["nativeMobileContent"]}}],["Content_4",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_5",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_6",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_7",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Content_8",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],
["Content_9",{desktop:{adTypes:["nativeDesktopContent"]},mobile:{adTypes:["nativeMobileContent"]}}],["Footer_1",{desktop:{adTypes:[]},mobile:{adTypes:[]}}],["Header_1",{desktop:{adTypes:["nativeDesktopHeader"],sizes:[[970,250],[728,90]]},mobile:{adTypes:["nativeMobileHeader"],sizes:[[320,100]]}}],["Header_2",{desktop:{adTypes:["nativeDesktopHeader"],sizes:[[970,250],[728,90]]},mobile:{adTypes:["nativeMobileHeader"],sizes:[[320,100]]}}],["Recipe_1",{desktop:{adTypes:["nativeDesktopRecipe"]},mobile:{adTypes:["nativeMobileRecipe"]}}],
["Recipe_2",{desktop:{adTypes:["nativeDesktopRecipe"]},mobile:{adTypes:["nativeMobileRecipe"]}}],["Recipe_3",{desktop:{adTypes:["nativeDesktopRecipe"]},mobile:{adTypes:["nativeMobileRecipe"]}}],["Recipe_4",{desktop:{adTypes:["nativeDesktopRecipe"]},mobile:{adTypes:["nativeMobileRecipe"]}}],["Recipe_5",{desktop:{adTypes:["nativeDesktopRecipe"]},mobile:{adTypes:["nativeMobileRecipe"]}}],["Sidebar_1",{desktop:{adTypes:["nativeDesktopSidebar"]},mobile:{adTypes:[]}}],["Sidebar_2",{desktop:{adTypes:["nativeDesktopSidebar"]},
mobile:{adTypes:[]}}],["Sidebar_3",{desktop:{adTypes:["nativeDesktopSidebar"]},mobile:{adTypes:[]}}],["Sidebar_4",{desktop:{adTypes:["nativeDesktopSidebar"]},mobile:{adTypes:[]}}],["Sidebar_5",{desktop:{adTypes:["nativeDesktopSidebar"]},mobile:{adTypes:[]}}],["Sidebar_9",{desktop:{adTypes:["nativeDesktopSidebar"]},mobile:{adTypes:[]}}],["Video_StickyOutstream_1",{desktop:{adTypes:[]},mobile:{adTypes:[]}}]]),Tg=new Map([[x.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",
server:"AdThriveRON_instream_desktopcollapse_prebid"}],[x.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[x.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[x.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]),Ug=class extends X{constructor(a,b,c){super();
this._config=a;this._tripleLiftExperiment=b;this._mediaType=c;this.bidderConfig=this._config.partners.getBidderConfig(g.Triplelift);this.adapterName=g.Triplelift;this.serverBidderName=g.TripleliftServer;this.gvlid=28;this.videoCreativeIds=[["138323510289",g.Triplelift],["138323472959",g.Triplelift],["138323472731",g.Triplelift],["138323472671",g.Triplelift],["138323472641",g.Triplelift],["138323473061",g.Triplelift],["138323473058",g.Triplelift],["138323473019",g.Triplelift],["138323473016",g.Triplelift],
["138323472986",g.Triplelift],["138323472734",g.Triplelift],["138323473064",g.Triplelift],["138323473055",g.Triplelift],["138323472728",g.Triplelift],["138323472674",g.Triplelift],["138323472737",g.Triplelift],["138326649881",g.Triplelift],["138326691825",g.Triplelift],["138326691828",g.Triplelift],["138326691831",g.Triplelift],["138326691834",g.Triplelift],["138326691837",g.Triplelift],["138326691840",g.Triplelift],["138326691843",g.Triplelift],["138326691846",g.Triplelift],["138326691783",g.Triplelift],
["138326691786",g.Triplelift],["138326691789",g.Triplelift],["138326691792",g.Triplelift],["138326691753",g.Triplelift],["138326691756",g.Triplelift],["138326691570",g.Triplelift]];this.videoServerCreativeIds=[["138348653814",g.TripleliftServer],["138348654438",g.TripleliftServer],["138349054156",g.TripleliftServer],["138349054168",g.TripleliftServer],["138349054201",g.TripleliftServer],["138348654432",g.TripleliftServer],["138348654444",g.TripleliftServer],["138349054186",g.TripleliftServer],["138349054204",
g.TripleliftServer],["138349054210",g.TripleliftServer],["138349054435",g.TripleliftServer],["138349054189",g.TripleliftServer],["138349054207",g.TripleliftServer],["138349054426",g.TripleliftServer],["138349054429",g.TripleliftServer],["138349054432",g.TripleliftServer]];this._serverEnabled=this._clientEnabled=!1;this._standardInclusionAdTypes=["nativeMobileHeader","nativeMobileBelowPost","nativeDesktopHeader","nativeDesktopBelowPost"];this.settings={adserverTargeting:[{key:"hb_format",val:({meta:d,
tl_source:e})=>d&&d.mediaType||this.tlSourceMap.get(e||"")}]};this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]);this._verticalCategoryMap=new Map([["Baby","family"],["Family and Parenting","family"],["Natural Parenting","family"],["Pregnancy","family"],["Toddler","family"],["Personal Finance","finance"],["Professional Finance","finance"],["Deals","finance"],["Clean Eating","food"],["Food","food"],["Crafts","home"],["Gardening","home"],["Green Living","home"],["Home Decor and Design","home"],
["Pets","home"],["Travel","travel"],["News","news"],["Lifestyle","lifestyle"],["Beauty","lifestyle"],["Other","lifestyle"],["Health and Fitness","health"],["Entertainment","entertainment"],["Sports","sports"],["Womens Style","womensstyle"],["Mens Style and Grooming","mensstyle"],["Tech","tech"],["Wedding","wedding"],["Auto","auto"]]);this._categoryPriorityList=new Set("food home family finance travel news health entertainment sports womensstyle mensstyle tech wedding auto lifestyle".split(" "));this._category=
B(this._getCategory(),"lifestyle");this._deviceAdTypes={mobile:["nativeMobileContent","nativeMobileRecipe","nativeMobileHeader","nativeMobileBelowPost"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar","nativeDesktopHeader","nativeDesktopBelowPost"]};this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result;this._serverEnabled=this._config.prebid.s2s.bidders.includes(g.TripleliftServer)}get enabled(){return this._config.partners.display.get(g.Triplelift)}get videoEnabled(){return this._config.partners.video.get(g.Triplelift)}_getSharedSlotBidRequests(a,
b=!1){var c=I()?"mobile":"desktop";let d=this._deviceAdTypes[c].filter(f=>this._config.adTypes.has(f)),e=[];if(dl.has(a.placementMapName)){let f="Interstitial"===a.location?"interstitial":"standard";c=dl.get(a.placementMapName)[c];c.adTypes.forEach(h=>{d.includes(h)&&(f=h)});this.getInventoryCode(f,a,b,c.sizes).forEach(h=>{let m=this._addBidLabel(a.placementMapName,{outstreamActive:b&&-1<h.indexOf("hive")});this._clientEnabled&&e.push({bidder:this.name,...m,params:{inventoryCode:h}});this._serverEnabled&&
e.push({bidder:this.serverBidderName,...m,params:{inventoryCode:`${h}_pbs2s`}})})}return e}getBannerSlotBidRequests(a){return this._getSharedSlotBidRequests(a)}getOutstreamSlotBidRequests(a){return this._getSharedSlotBidRequests(a,"Video_StickyOutstream"!==a.location)}_isOutstreamAndContentCapable(a){return"Content"===a.location&&this._mediaType.outstreamEnabled(a).outstreamCapable}getInventoryCode(a,b,c=!1,d){let e=I()?"mobile":"desktop",f=[];"standard"!==a&&!this._standardInclusionAdTypes.includes(a)||
c?"interstitial"===a&&f.push("adthriveron_interstitial_multisize"):(a="Video_StickyOutstream_1"===b.placementMapName?`_${e}`:"",f.push(`adthrive_${("Below_Post"===b.placementMapName?"Below_Post_1":b.placementMapName).toLowerCase()}${a}_hdx`));a="Content_1"===b.placementMapName||"Sidebar_9"===b.placementMapName?b.location.toLowerCase():b.placementMapName.toLowerCase().replace(/_(?!.*_)/,"");if(d){let h=b.location.toLowerCase().replace(/_(?!.*_)/,"");d.filter(m=>b.sizes.some(([n,u])=>n===m[0]&&u===
m[1])).forEach(m=>{f.push(`adthriveron_${h}_${e}_${m[0]}x${m[1]}`)},[])}return f.length?f:[c&&this._isOutstreamAndContentCapable(b)?`adthriveron_content_${e}_hive`:`adthrive${this._category}_${a}_fixed_${e}`]}_getVideoBidParams(a,b,c){var d,e,f;return{bidder:a,params:{inventoryCode:c,video:{...(pa()?{w:640,h:360}:{w:400,h:225}),api:this._config.video.apiValue,mimes:this._config.video.mimeType,...("all"===(null===(d=this._config.video.videoProtocols)||void 0===d?void 0:d.scope)&&{protocols:this._config.video.videoProtocols.protocols}),
playbackmethod:null===(f=null===(e=this._config.video.playbackmethod)||void 0===e?void 0:e.get(b.name))||void 0===f?void 0:f[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(a){let b=[];Tg.has(a.name)&&(this._clientEnabled&&b.push(this._getVideoBidParams(this.name,a,Tg.get(a.name).client)),this._serverEnabled&&b.push(this._getVideoBidParams(this.serverBidderName,a,Tg.get(a.name).server)));return b}_getCategory(){let a=this._config.site.verticals.filter(b=>this._verticalCategoryMap.has(b)).map(b=>
this._verticalCategoryMap.get(b));for(let b of this._categoryPriorityList)if(a.includes(b))return b}};Ug=k([p("TripleLiftBidder"),v(),l("design:paramtypes",[y,ec,ya])],Ug);let Vg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.TTD);this.videoCreativeIds=[["138323472896",g.TTD],["138323532681",g.TTD],["138323532645",g.TTD],["138323532675",g.TTD],["138323532678",g.TTD],["138323922211",g.TTD],["138323530488",g.TTD],["138323532606",g.TTD],
["138323532648",g.TTD],["138323922202",g.TTD],["138323532672",g.TTD],["138323922205",g.TTD],["138323922010",g.TTD],["138323922208",g.TTD],["138323532642",g.TTD],["138323921998",g.TTD]];this._device=this._config.context.device;this._set=new Set(["Below_Post","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9",
"Video_StickyOutstream_1",x.Video_Collapse_Autoplay_SoundOff,x.Video_Coll_SOff_Smartphone,x.Video_In_Post_ClicktoPlay_SoundOn,x.Video_Individual_Autoplay_SOff])}get enabled(){return this._config.partners.display.get(g.TTD)}get videoEnabled(){return this._config.partners.video.get(g.TTD)}getBannerSlotBidRequests(a){if(this._set.has(a.placementMapName)&&"Video_StickyOutstream"!==a.location)return this._getBidParams(a)}getOutstreamSlotBidRequests(a){if(this._set.has(a.placementMapName))return this._getBidParams(a,
"Video_StickyOutstream"!==a.location)}getVideoSlotBidRequests(a){if(this._set.has(a.name))return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:`${a.name}`,supplySourceId:"cafemedia"}}]}_getBidParams(a,b=!1){let c=a.id,d=new RegExp(`_${this._device}`);return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamCapable:b}),params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:c.replace(d,""),supplySourceId:"cafemedia"}}]}};
Vg=k([p("TTDBidder"),v(),l("design:paramtypes",[y])],Vg);let Wg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Undertone);this._params={publisherId:2002};this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]};this._map=new Map([["Below_Post",[{placementId:"2002034",size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],
["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2],[300,250],[728,90]]}]],["Content_2",[{placementId:"2002003",size:[[1,2],[300,250],[728,90]]}]],["Content_3",[{placementId:"2002004",size:[[1,2],[300,250],[728,90]]}]],["Content_4",[{placementId:"2002005",size:[[1,2],[300,250],[728,90]]}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},
{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250],[160,600],[300,600]]}]]])}get enabled(){return this._config.partners.display.get(g.Undertone)}getBannerSlotBidRequests(a){let b=
(I()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter(d=>this._config.adTypes.has(d)),c=d=>d.some(e=>a.hasSize(e));if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({adType:d,mobileCollapsePlayer:e,size:f})=>(!d&&c(f)||d&&b.includes(d))&&(!e||!this._config.video.mobileStickyPlayerOnPage)).map(({placementId:d,size:e,highViewability:f,adType:h})=>({bidder:this.name,...this._addBidLabel(a.placementMapName,{refresh:f&&a.viewability<this._config.marmalade.hvThreshold}),
params:{...this._params,placementId:d,size:e.filter(m=>a.hasSize(m)||h&&b.includes(h))}}))}};Wg=k([p("UndertoneBidder"),q(),l("design:paramtypes",[y])],Wg);let Xg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.UndertoneServer);this.adapterName=g.Undertone;this.videoCreativeIds=[["138422425195",g.UndertoneServer],["138421771020",g.UndertoneServer],["138421771017",g.UndertoneServer],["138421771014",g.UndertoneServer],["138421761770",g.UndertoneServer],
["138421761767",g.UndertoneServer],["138421761764",g.UndertoneServer],["138421761761",g.UndertoneServer]];this._params={publisherId:2002};this._videoMap=new Map([[x.Video_Collapse_Autoplay_SoundOff,{placementId:2002044}],[x.Video_Coll_SOff_Smartphone,{placementId:2002045}],[x.Video_In_Post_ClicktoPlay_SoundOn,{placementId:2002046}],[x.Video_Individual_Autoplay_SOff,{placementId:2002047}]])}get videoEnabled(){return this._config.partners.video.get(g.UndertoneServer)}getVideoSlotBidRequests(a){if(this._videoMap.has(a.name))return[{bidder:this.name,
params:{publisherId:this._params.publisherId,placementId:this._videoMap.get(a.name).placementId}}]}};Xg=k([p("UndertoneServerBidder"),v(),l("design:paramtypes",[y])],Xg);let Yg=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Unruly);this._params={siteId:249232}}get enabled(){return this._config.partners.display.get(g.Unruly)}get videoEnabled(){return this._config.partners.video.get(g.Unruly)}getBannerSlotBidRequests(){return[{bidder:this.name,
params:{...this._params}}]}getVideoSlotBidRequests(){return[{bidder:this.name,params:{...this._params}}]}};Yg=k([p("UnrulyBidder"),v(),l("design:paramtypes",[y,ya])],Yg);let Zg=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Verizon);this.adapterName="aol";this._params={dcn:I()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"};this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},
{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},
{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],
id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]);this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],
["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},
{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]);this._map=I()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.display.get(g.Verizon)}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName))return this._map.get(a.placementMapName).filter(({size:b})=>
a.hasSize(b)).map(({id:b})=>({bidder:this.name,params:{...this._params,...(this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}}),pos:b}}))}};Zg=k([p("VerizonBidder"),v(),l("design:paramtypes",[y])],Zg);let el=new Map([[x.Video_Collapse_Autoplay_SoundOff,{client:"8a96941a017e7e91c49492261bdf000c",server:"8a9695b901888852d78e6cde78c2003e"}],[x.Video_Coll_SOff_Smartphone,{client:"8a9690ee017e7e91bee0922682f1000b",server:"8a9698af01888852cc626cde79b3002e"}],
[x.Video_In_Post_ClicktoPlay_SoundOn,{client:"8a969951017e7e91ba38923576c20011",server:"8a9695b901888852d78e6cde7a3b003f"}],[x.Video_Individual_Autoplay_SOff,{client:"8a969951017e7e91ba389236dc470014",server:"8a9691d801888852d23d6cde79390031"}]]),Gn={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],
["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,
250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),
mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,
250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},
{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])},Hn={desktop:new Map([["Content_1",[{size:[300,250],id:"8a9698af01888852cc626cdc9c8a0024"},{size:[728,90],id:"8a9698af01888852cc626cdca2ac0026"}]],["Content_2",
[{size:[300,250],id:"8a9695b901888852d78e6cdc9c0a0036"}]],["Content_3",[{size:[300,250],id:"8a9698af01888852cc626cdc9e100025"}]],["Footer_1",[{size:[728,90],id:"8a9691d801888852d23d6cdc9b7e0027"},{size:[970,90],id:"8a9695b901888852d78e6cdc9fb40039"},{size:[320,50],id:"8a9691d801888852d23d6cdc9f220029"}]],["Header_1",[{size:[728,90],id:"8a9691d801888852d23d6cdca335002a"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},
{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9695b901888852d78e6cdc9a960035"}]],["Sidebar_9",[{size:[320,50],id:"8a9695b901888852d78e6cdca1b7003a"},{size:[300,600],id:"8a9698af01888852cc626cdc9b0e0023"},{size:[160,600],id:"8a9698af01888852cc626cdca3db0027"},{size:[300,250],id:"8a9691d801888852d23d6cdc9cfd0028"}]],["Recipe_1",[{size:[300,250],id:"8a9695b901888852d78e6cdc9d800037"}]],["Recipe_2",[{size:[300,
250],id:"8a9695b901888852d78e6cdc9ea70038"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a9695b901888852d78e6ce0245f0040"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a9698af01888852cc626cdca59d0028"},{size:[320,50],id:"8a9698af01888852cc626cdca7a8002a"}]],["Content_2",[{size:[300,250],id:"8a9695b901888852d78e6cdca71a003c"},{size:[320,50],id:"8a9695b901888852d78e6cdca952003d"}]],["Content_3",[{size:[300,250],id:"8a9698af01888852cc626cdca8b7002b"}]],["Content_4",[{size:[300,250],id:"8a9691d801888852d23d6cdca525002c"}]],
["Content_5",[{size:[300,250],id:"8a9698af01888852cc626cdcab10002d"}]],["Content_6",[{size:[300,250],id:"8a9691d801888852d23d6cdca44d002b"}]],["Footer_1",[{size:[320,100],id:"8a9698af01888852cc626cdca68b0029"},{size:[300,50],id:"8a9695b901888852d78e6cdca4b6003b"},{size:[728,90],id:"8a9691d801888852d23d6cdca60e002d"},{size:[320,50],id:"8a9691d801888852d23d6cdcab9a0030"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},
{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a9691d801888852d23d6cdcaa71002f"}]],["Recipe_2",[{size:[300,250],id:"8a9691d801888852d23d6cdca826002e"}]],["Recipe_3",[{size:[300,250],id:"8a9698af01888852cc626cdca9ed002c"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a9695b901888852d78e6ce0245f0040"}]]])},$g=class extends X{constructor(a,b,c){super();
this._config=a;this._prebidMethods=b;this._yahooSSPExperiment=c;this.bidderConfig=this._config.partners.getBidderConfig(g.YahooSSP);this.adapterName=g.YahooSSP;this.serverBidderName=g.YahooSSPServer;this.gvlid=25;this._device=I()?"mobile":"desktop";this._map=new Map;this._bidders=[];this.videoCreativeIds=[["138379204183",g.YahooSSP],["138378707447",g.YahooSSP],["138378707558",g.YahooSSP],["138378717711",g.YahooSSP],["138378717726",g.YahooSSP],["138378706907",g.YahooSSP],["138378706928",g.YahooSSP],
["138378707468",g.YahooSSP],["138378707561",g.YahooSSP],["138378717720",g.YahooSSP],["138378717783",g.YahooSSP],["138378707552",g.YahooSSP],["138378717723",g.YahooSSP],["138378717780",g.YahooSSP],["138378717786",g.YahooSSP],["138378707555",g.YahooSSP]];this.videoServerCreativeIds=[["138437164046",g.YahooSSPServer],["138437164367",g.YahooSSPServer],["138437170553",g.YahooSSPServer],["138437192487",g.YahooSSPServer],["138437199522",g.YahooSSPServer],["138437199525",g.YahooSSPServer],["138437199528",
g.YahooSSPServer],["138437854447",g.YahooSSPServer]];this._params={display:{client:{dcn:I()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},server:{dcn:I()?"8a9691d801888852d23d6cda98130025":"8a9698af01888852cc626cda97350021"}},video:{client:{dcn:"8a969469017b7bdf59b2e07862af0281"},server:{dcn:"8a9695b901888852d78e6cda98760033"}}};a="both"===this._yahooSSPExperiment.result||"client"===this._yahooSSPExperiment.result;"both"!==this._yahooSSPExperiment.result&&"server"!==this._yahooSSPExperiment.result||
this._bidders.push({name:this.serverBidderName,type:"server"});a&&this._bidders.push({name:this.name,type:"client"});this._setYahooMediaConfig()}get enabled(){return this._config.partners.display.get(g.YahooSSP)}get videoEnabled(){return this._config.partners.video.get(g.YahooSSP)}getBannerSlotBidRequests(a){return this._getBidParams(a)}getOutstreamSlotBidRequests(a){return this._getBidParams(a,!0)}getVideoSlotBidRequests(a){let b=[];this._bidders.map(c=>{el.has(a.name)&&b.push({bidder:c.name,params:{...this._params.video[c.type],
pos:el.get(a.name)[c.type]}})});return b}_getBidParams(a,b=!1){let c=[];this._bidders.forEach(d=>{this._map="server"===d.type?Hn[this._device]:Gn[this._device];!this._map.has(a.placementMapName)||b&&"Video_StickyOutstream"!==a.location||this._map.get(a.placementMapName).filter(({size:e})=>a.hasSize(e)).forEach(({id:e})=>{c.push({bidder:d.name,params:{...(b?this._params.video[d.type]:this._params.display[d.type]),pos:e}})})});return c}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};
$g=k([p("YahooSSPBidder"),v(),l("design:paramtypes",[y,V,fc])],$g);let ah=class extends X{constructor(a,b){super();this._config=a;this._mediaType=b;this.bidderConfig=this._config.partners.getBidderConfig(g.Yieldmo);this.settings={adserverTargeting:[{key:"hb_format",val:c=>this._creativeFormatMap.get(this.getCreativeFormatId(c.ad))||c.mediaType}]};this._creativeFormatMap=new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],
["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]);this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",
isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",
{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"3154492104504189746",isOutstream:!0}]]);this._bannerMap="Below_Post Content Content_1 Content_2 Content_3 Content_4 Content_5 Content_6 Content_7 Content_8 Content_9 Footer_1 Header_1 Header_2 Recipe_1 Recipe_2 Recipe_3 Recipe_4 Recipe_5 Sidebar_1 Sidebar_2 Sidebar_3 Sidebar_4 Sidebar_5 Sidebar_9 Video_StickyOutstream_1".split(" ")}getCreativeFormatId(a){a=/creative_format_id":([0-9]*)/.exec(a);
if(null!==a)return a[1]}get enabled(){return this._config.partners.display.get(g.Yieldmo)}isMiniScroller(a){return a.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===a.location||"Recipe"===a.location||a.lazy&&"Below_Post"===a.location)}isNative(a){var b=new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),c=new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]]);b=I()?b:c;return a.sequence&&b.has(a.location)&&
this._config.adTypes.has(b.get(a.location))}isOutstream(a){return this._mediaType.outstreamEnabled(a).currentlyActive}isStickyOutstream(a){return"Video_StickyOutstream"===a.location}isMobileOutstreamSingleInstance(a){return I()&&"Content_1"===a.placementMapName&&this._mediaType.outstreamEnabled(a).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}createBitStringAdOptions(a,b=!1){let c=this._bannerMap.includes(a.placementMapName)?"1":"0";c+=
b&&this.isOutstream(a)?"1":"0";c+=this.isMiniScroller(a)?"1":"0";c+=this.isNative(a)?"1":"0";c+=b&&this.isMobileOutstreamSingleInstance(a)?"1":"0";return c+=b&&this.isStickyOutstream(a)?"1":"0"}getBannerSlotBidRequests(a){a=this.createBitStringAdOptions(a);if(this._adOptionsMap.has(a))return a=this._adOptionsMap.get(a),[{bidder:this.name,params:{placementId:a.id}}]}getOutstreamSlotBidRequests(a){var b=this.createBitStringAdOptions(a,!0);if(this._adOptionsMap.has(b))return b=this._adOptionsMap.get(b),
[{bidder:this.name,...this._addBidLabel(a.placementMapName,{outstreamActive:"Video_StickyOutstream"!==a.location}),params:{placementId:b.id,...("Video_StickyOutstream"===a.location&&{video:{placement:2}})}}]}};ah=k([p("YieldmoBidder"),v(),l("design:paramtypes",[y,ya])],ah);let bh=class extends X{constructor(a){super();this._config=a;this.bidderConfig=this._config.partners.getBidderConfig(g.Concert);this._map=new Map([["Content_1",[300,250]]]);this._desktopSizes=[[620,366]];this._mobileSizes=[[325,
508],[325,204]]}get enabled(){return this._config.partners.display.get(g.Concert)}getPartnerIdFromDomain(){try{return Ae(window.location.hostname).split(".")[0].toLowerCase().replace("-","")}catch(a){return r.error("ConcertBidder","getPartnerIdFromDomain",a),""}}getBannerSlotBidRequests(a){if(this._map.has(a.placementMapName)&&a.hasSize(this._map.get(a.placementMapName))){let b=this.getPartnerIdFromDomain();if(0<b.length)return[{bidder:this.name,...this._addBidLabel(a.placementMapName,{refresh:!a.isHighlyViewable()}),
params:{bidder:this.name,slot:a.id,partnerId:b,sizes:I()?this._mobileSizes:this._desktopSizes}}]}}};bh=k([p("ConcertBidder"),v(),l("design:paramtypes",[y])],bh);let ch=class{constructor(a,b,c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P,K,Y,Q,ma,ua,Wa,ic,jc,yb,kc,zb,lc,mc){this._config=a;this._biddersParams=new Map;this._orderedDisplayBidders=[Q,w,t,h,ua,A,G,kc,N,P,zb,b,lc,Y,e,Wa,ma,c,ic,yb,n,H,K,d,f,O,mc,u].filter(jb=>this._bidderFilter(jb));this._orderedVideoBidders=[h,b,t,ua,N,w,P,G,m,Wa,zb,n,Y,c,d,yb,ma,H,e,
O,jc,u].filter(jb=>this._bidderFilter(jb,!0));this._videoCreativeIdMapping=this._setVideoCreativeIdMap()}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}_setVideoCreativeIdMap(){return new Map(this._orderedVideoBidders.reduce((a,b)=>a.concat(b.videoCreativeIds||[],b.videoServerCreativeIds||[]),[]))}_bidderFilter(a,
b=!1){let c=this._config,d=a.name,e=a.adapterName,f=b?c.vbho.bidders:c.hbho.bidders,h=b||!a.updateBidParams;return a[b?"videoEnabled":"enabled"]&&this._holdoutValidation(f,d,e)&&this._ccpaValidation(c.ccpa,d,e)&&this._gdprValidation(c.gdpr,d,e)&&(h||this._biddersParams.set(d,a))}_holdoutValidation(a,b,c){return!a.length||!a.includes(c||b)}_ccpaValidation(a,b,c=""){return!a.enabled||!a.nonCompliantBidders.includes(c)&&!a.nonCompliantBidders.includes(b)}_gdprValidation(a,b,c=""){return!a.enabled||!a.nonCompliantBidders.includes(c)&&
!a.nonCompliantBidders.includes(b)}};ch=k([q(),l("design:paramtypes",[y,wg,xg,yg,zg,bh,Ag,Ig,Bg,Cg,Eg,Gg,Hg,Kg,Lg,Mg,Ng,Qg,Jg,Rg,Sg,rg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,Pg])],ch);let dh=class extends J{init(){this._key="CreativeMonitoring";this._default=!1}};dh=k([p("CreativeMonitoringExperiment"),q()],dh);let eh=class{constructor(a,b,c,d,e){this._config=a;this._gam=b;this._prebidMethods=c;this._slots=d;this._creativeMonitoringExperiment=e;this._auctionData=new Set;this._gamRenderedData=new Map}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",
this._storeAuctionData.bind(this));this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this));this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this));this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this));this._gam.slotRenderEnded.on(this._slotRenderEnded.bind(this));this._gam.slotRequested.on(this._slotRequested.bind(this))}_slotRequested(a){a=a.slot.id;this._gamRenderedData.has(a)&&this._gamRenderedData.delete(a)}_slotRenderEnded(a){this._gamRenderedData.set(a.slot.id,
a);this._creativeMonitoringExperiment.result&&this._checkSlotRender(a)}_storeAuctionData(a){a.adUnitCodes.forEach(b=>this._auctionData.add(`${a.auctionId}-${b}`))}_deleteStoredAuction(a,b){this._auctionData.delete(`${a}-${b}`)}_getSlotData(a){a=this._slots.get(a);return{...(a&&{slot:a.location,sequence:a.sequence,nref:a.refreshCount})}}_getGAMCreativeData(a){return(a=this._gamRenderedData.get(a))?{lineItemId:a.event.lineItemId,creativeId:a.event.creativeId,campaignId:a.event.campaignId}:{}}_getBidData(a){return a?
{...this._getPrebidBidDataFromBid(a),...this._getSlotData(a.adUnitCode),...this._getGAMCreativeData(a.adUnitCode)}:{}}_renderFailedHandler(a){setTimeout(()=>{let b=a.bid;b&&this._deleteStoredAuction(b.auctionId,b.adUnitCode);let c={message:a.message,reason:a.reason,...this._getBidData(b)};b&&b.meta&&0<Object.keys(b.meta).length?c.buyerInformation=b.meta:c.markup=b&&b.ad;r.error("PrebidAuctionManager","init","adRenderFailed",c)},2E3)}_staleRenderHandler(a){a&&this._deleteStoredAuction(a.auctionId,
a.adUnitCode);setTimeout(()=>{r.error("PrebidAuctionManager","init","staleRender",{...this._getBidData(a)})},2E3)}_renderSucceededHandler(a){(a=a.bid)&&this._deleteStoredAuction(a.auctionId,a.adUnitCode)}_isSafeFrame(a){a=a.element.querySelector("iframe");return!(!a||!a.src)}_checkSlotRender(a){let b=a.event,c=this._config.prebid.advertiserId;this._isSafeFrame(a.slot)||b.advertiserId!==c||setTimeout(()=>{this._logUnknownFailure(a)},2E3)}_getHeightWidth(a){if(!a)return{};a=a.split("x").map(Number);
return{...(Array.isArray(a)&&2===a.length&&{height:a[1],width:a[0]})}}_getPrebidCreativeWindowData(a){return{adId:a.bidderAdId,bidder:a.bidder,size:a.bidderSize,adserverTargeting:a.targeting}}_getPrebidBidDataFromBid(a){return{price:a.adserverTargeting.hb_pb,bidderSize:a.size||a.adserverTargeting.hb_size,advertiserDomains:a.meta&&a.meta.advertiserDomains||a.adserverTargeting.hb_adomain,bidder:a.bidder}}_getPrebidBidderDataFromIframe(a){let b=a.element.querySelector("iframe").contentWindow;if(!b)return{};
let {adId:c,adserverTargeting:d,bidder:e,size:f}=this._getPrebidCreativeWindowData(b),{height:h,width:m}=this._getHeightWidth(b&&b.bidderSize);return{adId:c,adserverTargeting:d,adUnitCode:a.id,bidder:e,height:h,size:f,width:m}}_logUnknownFailure(a){let b=this._config.context,c=a.slot;a=a.event;let {adId:d,adserverTargeting:e,auctionId:f,adUnitCode:h,bidder:m,height:n,meta:u,size:w,width:t}=c.servedPrebidBidResponse||this._getPrebidBidderDataFromIframe(c);f&&h&&!this._auctionData.has(`${f}-${h}`)||
(r.error("PrebidAuctionManager","init","prebidCreativeFailure",{adId:d,advertiserDomains:u&&u.advertiserDomains||e&&e.hb_adomain,bidderSize:w||e&&e.hb_size,bidder:m,branch:b.branch,bucket:b.bucket,campaignId:a.campaignId,creativeId:a.creativeId||a.sourceAgnosticCreativeId,lineItemId:a.lineItemId||a.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",nref:c.refreshCount,price:e&&e.hb_pb,sequence:c.sequence,slotSizes:c.sizes,slot:c.location,...(t&&n&&{size:[t,
n]}),...(u&&(u.dchain&&{dchain:u.dchain}||u.networkId&&{networkId:u.networkId})),...((!d||2>d.length)&&e&&{hbAdId:e.hb_adid})}),f&&h&&this._deleteStoredAuction(f,h))}};eh=k([q(),l("design:paramtypes",[y,D,V,la,dh])],eh);let fh=class{constructor(a){this._prebidMethods=a}setOseq(a,b){let c=`${a.sequence}`,{id:d,bidPoolId:e}=a,{hb_bidder:f,hb_adid:h}=b;({bids:b}=e?this._prebidMethods.getBidResponsesForBidPoolId(e):this._prebidMethods.getBidResponsesForAdUnitCode(d));if(b)for(let m=b.length-1;0<=m;m--)if(b[m].bidderCode===
f&&b[m].adId===h){c=this.getSeqFromAdUnitCode(b[m].adUnitCode);break}a&&a.setSlotTargetingFlag("oseq",[c],!0)}getSeqFromAdUnitCode(a){return(a=(a||"").match(/AdThrive_.*?_(\d+)_\S+$/))&&a.length?a[1]:""}};fh=k([p("OSeq"),v(),l("design:paramtypes",[V])],fh);let td=class extends T{init(){this._key="DemandChain"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],td.prototype,"run",null);td=k([p("DemandChainExperiment"),q()],td);let gh=
class extends J{init(){this._key="DisableAjaxTimeout";this._default=!1}};gh=k([p("DisableAjaxTimeoutExperiment"),q()],gh);let In={buckets:[{precision:2,max:.1,increment:.01},{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]},hh=class{constructor(a){this._config=a;this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:b=>b.bidderCode},{key:"hb_adid",val:b=>b.adId},{key:"hb_pb",val:b=>b.pbCg},{key:"hb_size",val:b=>this._config.video.instreamAdUnits.has(b.adUnitCode)?
"":b.size},{key:"hb_deal",val:b=>b.dealId},{key:"hb_format",val:b=>b.mediaType},{key:"hb_adomain",val:b=>b.meta&&b.meta.advertiserDomains?b.meta.advertiserDomains[0]:b.meta&&b.meta.advertiserId},{key:"hb_dsp",val:b=>{var c,d;return null!==(d=null!==(c=b.meta&&b.meta.networkId)&&void 0!==c?c:b.meta&&b.meta.networkName)&&void 0!==d?d:b.meta&&b.meta.dchain&&b.meta.dchain.nodes.reverse()[0].bsid}},{key:"hb_crid",val:b=>b.creativeId},{key:"hb_dur",val:b=>b.duration}]}}get configuration(){return this._configuration}};
hh=k([q(),l("design:paramtypes",[y])],hh);let ih=class{constructor(a,b,c,d,e,f,h,m){this._abgroup=a;this._config=b;this._prebidMethods=c;this._dcoExperiment=d;this._disableAjaxTimeoutExperiment=e;this._ortb2=f;this._standardPrebidBidderSetting=h;this._fledgeGPTExperiment=m;this._uspConfig={usp:this._getUspConfig()};this._clientVendorExceptions=["appnexus"];this._serverVendorExceptions=this._config.prebid.s2s.bidders;this._gdprConfig={gdpr:{cmpApi:"iab",timeout:25E3,defaultGdprScope:!0,rules:[{purpose:"storage",
enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:this._clientVendorExceptions.concat(this._serverVendorExceptions)},{purpose:"personalizedAds",enforcePurpose:!0,enforceVendor:!0},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}};this._defaultConfig={...(this._config.context.fledgeSupported&&this._fledgeGPTExperiment.result&&{fledgeForGpt:{enabled:!0}}),maxRequestsPerOrigin:6,allowActivities:{...this._getAllowActivites()},auctionOptions:{secondaryBidders:["unruly",
"undertone","33across","nativo"]},bidderSequence:"fixed",sendBidsControl:{bidLimit:3},useBidCache:!0,enableTIDs:!0,enableSendAllBids:!0,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{auctionDelay:this._config.prebid.auctionDelay,syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0,enabled:!0,customPreAuction:(n,u)=>{if(n){let w=u.split("/"),t=n.bidPoolId||"";if(n.code.includes("Content")){if("Content_BPID_Lazy"===
t||this._config.site.siteIsEven)return`/${w[1]}/AdThrive_Content/${w[3]}`;if("Content_BPID_Nonlazy"===t)return`/${w[1]}/AdThrive_${"Content_4"}/${w[3]}`}if(u&&!t)return u}}},priceGranularity:In,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},dchain:{validation:this._dcoExperiment.result},schain:{validation:"strict",config:(new Ik).getSupplyChainConfig(this._config.site.id)},
sizeConfig:[],ortb2:this._ortb2.data}}_getUspConfig(){return this._config.ccpa.required?{cmpApi:"iab",timeout:0}:{cmpApi:"static",consentData:{getUSPData:{uspString:"1---"}}}}_isCCPAConsentDenied(){return!!this._config.ccpa.userOptedOut}_isAct25ConsentDenied(){return this._config.act25.required&&!this._config.act25.consented}_getAllowActivites(){let a={rules:[{condition:()=>this._isCCPAConsentDenied()||this._isAct25ConsentDenied(),allow:!1}]};return{reportAnalytics:{rules:[{condition:()=>this._isCCPAConsentDenied(),
allow:!1}]},enrichUfpd:{...a},enrichEids:{...a},syncUser:{...a},transmitEids:{...a},transmitPreciseGeo:{...a},transmitUfpd:{...a}}}setDefaultConfig(){let a=this.addPrebidConsent(),b=this._defaultConfig;b.consentManagement=a;this._prebidMethods.setConfig(b)}applyClientAndServerBidderSettings(a){this._prebidMethods.setBidderSettings(a.reduce((b,c)=>this._setupBidderSettings(b,c),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(a){a=[...(new Set(a))];a.forEach(b=>{if(b.adapterName&&
(b.adapterName!==b.name||b.serverBidderName)){let c=b.serverBidderName||b.name,d=b.adapterName;b.gvlid?this._prebidMethods.setAliasBidder(d,c,{gvlid:b.gvlid}):this._prebidMethods.setAliasBidder(d,c)}})}_setupBidderSettings(a,b){a[b.name]=this.getBidderSettings(b,b.name);b.serverBidderName&&(a[b.serverBidderName]=this.getBidderSettings(b,b.serverBidderName));a.standard.adserverTargeting&&b.adServerTargeting&&a.standard.adserverTargeting.push(...b.adServerTargeting);return a}addPrebidConsent(){return!0===
this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(a,b){return{bidCpmAdjustment:(c,d)=>{let e=this._config,f=e.video.instreamAdUnits.has(null===d||void 0===d?void 0:d.adUnitCode);c=se(e,c,b,d);f&&(c>e.video.gamDiscount?c-=e.video.gamDiscount:c=0);return c},inverseBidAdjustment:(c,d)=>{let e={mediaType:Object.keys(d.mediaTypes)[0],adUnitCode:d.adUnitCode},f=this._config,h=f.video.instreamAdUnits.has(null===e||void 0===e?void 0:e.adUnitCode)?f.video.minFloor:0;return Yj(f,
d.bidder,e,c+h)},...a.settings}}};ih=k([q(),l("design:paramtypes",[aa,y,V,td,gh,Db,hh,md])],ih);let ud=class extends T{init(){this._key="PredictiveAnalysis"}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],ud.prototype,"run",null);ud=k([p("PredictiveAnalysisExperiment"),q()],ud);let jh=class extends T{init(){this._key="S2SBuffer"}};jh=k([p("S2SBufferExperiment"),q()],jh);let kh=class extends T{init(){this._key="PBSFloor1"}};kh=k([p("PBSFloor"),
q()],kh);let vd=class extends T{init(){this._key="UserSyncLimit"}run(){try{let a=super.run();this._validateResult(a);return a}catch(a){return r.error("UserSyncLimitExperiment","run",a),-1}}_validateResult(a){if("number"!==typeof a)throw Error(`Result is not a number: ${a}`);if(!Number.isInteger(a))throw Error(`Result is not an integer: ${a}`);if(0>a||100<a)throw Error(`Result out of range: ${a}`);return a}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],
vd.prototype,"run",null);vd=k([p("UserSyncLimitExperiment"),q()],vd);let lh=class{constructor(a,b,c,d,e){var f;this._config=a;this._pbsFloorExperiment=b;this._prebidMethods=c;this._s2sBufferExperiment=d;this._userSyncLimitExperiment=e;this._s2sConfig=[{accountId:"9262",enabled:!0,...(this._config.prebid.ortbEnrich&&{secure:1}),bidders:this._config.prebid.s2s.bidders,extPrebid:{aliases:{improve_ss:g.ImproveDigital},floors:{enabled:"on"===this._pbsFloorExperiment.result}},defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-
(null!==(f=this._s2sBufferExperiment.result)&&void 0!==f?f:200),adapter:"prebidServer",coopSync:-1===this._userSyncLimitExperiment.result?!1:!0,userSyncLimit:this._userSyncLimitExperiment.result,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}init(){this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter(a=>
a.bidders.length)})}};lh=k([v(),l("design:paramtypes",[y,kh,V,jh,vd])],lh);class Eb{get enabled(){return!0}}let wd=class extends Eb{constructor(a,b){var c;super();this._config=a;this._gam=b;this._localKey="_lr_env";this._isEnvelopeModuleReady=!1;this._enabled=(null===(c=this._config.liveRampAts)||void 0===c?void 0:c.enabled)&&"localStorage"in window;window.addEventListener("envelopeModuleReady",()=>{this._isEnvelopeModuleReady=!0})}get enabled(){return this._enabled}_runLiveRamp(a){var b,c;let d,
e="";this._config.gdpr.enabled?(d="gdpr",e=null!==(b=a.consent)&&void 0!==b?b:""):this._config.ccpa.required&&(d="ccpa",e=null!==(c=this._config.ccpa.privacyString)&&void 0!==c?c:this._config.ccpa.ccpaOptIn);try{let f=[a.sha256Hash,a.sha1Hash].filter(h=>h&&h.length);window.atsenvelopemodule.setAdditionalData({consentString:e,...(void 0!==d?{consentType:d}:{}),id:f.length?f:a.email,type:a.sha256Hash||a.sha1Hash?"emailHashes":"email"})}catch(f){r.error("LiveRampPiiPartner","processPii","Error setting ATS additional data",
f)}}processPii(a){this._isEnvelopeModuleReady?this._runLiveRamp(a):window.addEventListener("envelopeModuleReady",()=>{this._runLiveRamp(a)})}get _shouldSetTargeting(){return this._enabled&&!!F.getLocalStorageValue(this._localKey,!1)}};wd=k([p("LiveRampPiiPartner"),v(),l("design:paramtypes",[y,D])],wd);let Fb=class extends Hk{constructor(a,b,c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P,K){super();this._bootstrapConfig=b;this._config=c;this._gam=d;this._s2s=e;this._bidderSetup=f;this._mediaType=h;this._prebidMethods=
m;this._prebidConfiguration=n;this._predictiveAnalysisExperiment=u;this._slots=w;this._creativeMonitoring=t;this._ortb2=A;this._oseq=G;this._gdprEnforcement=N;this._slotEventBus=O;this.liveRampPiiPartner=H;this.userIdComponent=P;this.videoAdUnits=[];this.bidsRequested=new z;this._isBeforeRequestEventLoaded=!1;this._excludedSlots=["Interstitial","Native_Recipe"];this._defaultVideoDuration=30;this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders;this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders;
this._videoCreativeIdMapping=this._bidderSetup.videoCreativeIdMapping;this._predictiveAnalysisResult=this._predictiveAnalysisExperiment.result||void 0;this._predictiveAnalysis=a.core.predictiveAnalysis;this._analytics=[K].filter(Y=>Y.enabled)}init(){let a=this._prebidConfiguration,b=this._orderedDisplayBidders;var c=this._orderedVideoBidders;c=[...b,...c];a.setDefaultConfig();a.aliasBidders(c);this._s2s.init();this._analytics.forEach(d=>void 0!==d.init&&d.init());b.forEach(d=>void 0!==d.init&&d.init());
a.applyClientAndServerBidderSettings(c);ok().then(()=>this._prebidMethods.triggerUserSyncs()).then(()=>this._registerSignalSources()).catch(d=>{r.error("PrebidAuctionManager","init","pageLoaded",d)});this._setEvents();this._predictiveAnalysisResult&&this._setVideoBidsFilter()}_logAuctionDebug(){this._prebidMethods.onEvent("auctionDebug",a=>{a&&"ERROR"===a.type&&([...a.arguments].some(b=>"string"===typeof b&&-1<b.indexOf("Error trying to write ad"))||r.error("PrebidAuctionManager","_logAuctionDebug",
"auctionDebug",a))})}async _registerSignalSources(){this._config.ccpa.userOptedOut||this._config.gdpr.enabled&&!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1])||(this._prebidMethods.setConfig({userSync:{encryptedSignalSources:{sources:[{source:"esp.criteo.com id5-sync.com pubcid.org liveramp.com liveintent.com uidapi.com".split(" "),encrypt:!1}],registerDelay:2E3}}}),this._prebidMethods.registerSignalSources())}_getNoBidReason(a,b){return Object.keys(a).length?
"":b||"noBid"}_handleAuctionEnd(){this._prebidMethods.onEvent("auctionEnd",a=>{a.adUnits.forEach(b=>{let {code:c,noBidReason:d}=b;b=this._slots.get(c);let e=this._prebidMethods.getAdserverTargetingForAdUnitCode(b?b.id:c),f=this._getNoBidReason(e,d);b&&f?b.googleTagSlot.setTargeting("hb_bidder",f):this._slotEventBus.addPrebidSlotTargeting.emit({adUnitCode:c,slotTargeting:f?{noBid:f}:e})})})}_handleBidWon(){this._prebidMethods.onEvent("bidWon",a=>{let b=this._slots.get(a.adUnitCode);b&&(b.servedPrebidBidResponse=
a,this._slots.bidServed.emit(b))})}_handleSetTargeting(){this._prebidMethods.onEvent("setTargeting",a=>{for(let c in a){var b=this._slots.get(c);if(b){let {hb_adid:d,hb_bidder:e}=a[c];try{this._oseq.setOseq(b,{hb_adid:d,hb_bidder:e})}catch(f){b=this._prebidMethods.getVersion(),r.error("PrebidAuctionManager","setEvents",f,b)}}}})}_handleBeforeRequestEvent(){this._prebidMethods.onEvent("beforeRequestBids",a=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._isBeforeRequestEventLoaded||
this._updateHighImpactUnitTargeting();const b=this.userIdComponent.getTargetingData(),c=this.liveRampPiiPartner._shouldSetTargeting?[...b,"ats"]:b;a.forEach(d=>{var e;const f=this._slots.get(d.code);d=null!==(e=d&&d.ortb2Imp&&d.ortb2Imp.ext&&d.ortb2Imp.ext.tid)&&void 0!==e?e:"";f&&(f.setTransactionId(d),f.setSlotTargetingFlag("tid",[f.transactionId],!0),f.setSlotTargetingFlag("idp",c,!0))});this._isBeforeRequestEventLoaded=!0})}_handleGamOnLoad(){this._gam.slotOnload.on(({event:a,slot:b})=>{a=a.slot.getResponseInformation();
(a=null===a||void 0===a?void 0:a.advertiserId)&&a===this._config.prebid.advertiserId||!b.bidPoolId||setTimeout(()=>{this._prebidMethods.clearTargetingForSharedBidPool(b.id)},2E3)})}_handleBidRequested(){this._prebidMethods.onEvent("bidRequested",()=>{this.bidsRequested.emit()})}_setEvents(){this._logAuctionDebug();this._handleAuctionEnd();this._handleBidWon();this._handleSetTargeting();this._handleBeforeRequestEvent();this._handleBidRequested();this._handleGamOnLoad();this._creativeMonitoring.setupCreativeEventListeners();
this._predictiveAnalysisResult&&this._setVideoBidsFilter()}_setVideoBidsFilter(){if(this._predictiveAnalysis.length){var a=c=>{const d=this._config.context.device;return"1"===c?"phone"===d:"tablet"===d||"desktop"===d};void 0===this._predictiveAnalysisResult&&r.error("PrebidAuctionManager","_setVideoBidsFilter","predictiveAnalysisExperiment result is undefined");var b={};this._predictiveAnalysis.filter(c=>parseFloat(c.error_rate)>(this._predictiveAnalysisResult||.9)&&"1"===c.chrome===eb()&&a(c.mobile)).forEach(c=>
{b[`${c.adomain},${c.bidder}`]=!0});this._prebidMethods.setBidsReceivedFilter(c=>c.length&&this._config.video.instreamAdUnits.has(c[0].adUnitCode)?c.filter(d=>{let e=!0,f=d.meta&&d.meta.advertiserDomains;if(!f||!Array.isArray(f))return e;f.forEach(h=>{b[h+","+d.bidder]&&(e=!1)});return e}):c)}}_updateSlotTargeting(a){if(this._mediaType.outstreamSlots.has(`${a.placementMapName}`)){var b=this._config.adTypes.enabledMinified.map(c=>c.toLowerCase()).filter(c=>"od"===c||"om"===c);b.length&&this._gam.setSlotTargeting({key:"hi_au",
value:b},a.googleTagSlot)}}instlEnabled(a){return"Interstitial"===a&&this._config.adOptions.interstitial.prebid}get videoCreativeIdMapping(){return this._videoCreativeIdMapping}addSlots(a){let b=a.filter(h=>"Video_StickyOutstream"!==h.location),c=this._orderedDisplayBidders.map(h=>h.getBannerBidRequests(b)),d=a.filter(h=>this._mediaType.outstreamEnabled(h).outstreamCapable),e=this._orderedDisplayBidders.map(h=>h.getOutstreamBidRequests(d)),f=a.filter(h=>this._shouldIncludeSlot(h)).sort((h,m)=>h.auctionPriority-
m.auctionPriority).reduce((h,m)=>{var n=this.instlEnabled(m.location);const u=this._ortb2.addOrtb2Imp({slot:m},n);this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(m);if("Video_StickyOutstream"!==m.location){const w={...(m.bidPoolId&&{bidPoolId:m.bidPoolId}),...(m.passiveBidPoolId&&{passiveBidPoolId:m.passiveBidPoolId}),code:n?this._config.prebid.interstitialAdUnitCode:m.element.id,mediaTypes:this._mediaType.getMediaType({slot:m}),...(u?{ortb2Imp:u}:{}),bids:c.map(t=>t.get(m.id)).filter(sb).reduce((t,
A)=>t.concat(A),[])};h.push(w)}this._mediaType.outstreamEnabled(m).outstreamCapable&&(n={...(m.bidPoolId&&{bidPoolId:m.bidPoolId}),...(m.passiveBidPoolId&&{passiveBidPoolId:m.passiveBidPoolId}),code:n?this._config.prebid.interstitialAdUnitCode:m.element.id,mediaTypes:this._mediaType.getMediaType({slot:m},!0),...(u?{ortb2Imp:u}:{}),bids:e.map(w=>w.get(m.id)).filter(sb).reduce((w,t)=>w.concat(t),[])},h.push(n));return h},[]);this._prebidMethods.addAdUnits(f);this._setAdUnitOnSLot(a);return f}reset(){return this._prebidMethods.removeAllAdUnits()}_setAdUnitOnSLot(a){a.length&&
this._prebidMethods.addToQueue(()=>{let b=this._prebidMethods.getPrebidAdUnits();b&&a.forEach(c=>{let d=b.filter(e=>e.code===c.element.id);d.length&&(c.prebidAdUnit=d)})})}_updateSlots(a){a.forEach(b=>{let c=b.prebidAdUnit||[];c.length&&(this._updateAdUnitOrtb2Imp(b,c),b.isHighlyViewable()&&this._updateBidderBidParams(b,c))})}_updateAdUnitOrtb2Imp(a,b){b.forEach(c=>{let d=this._ortb2.addOrtb2Imp({slot:a});c.ortb2Imp=d})}_updateBidderBidParams(a,b){b.forEach(c=>{c.bids&&c.bids.length&&c.bids.forEach(d=>
{let e=this._bidderSetup.biddersParams.get(d.bidder);e&&e.updateBidParams(d,a)})})}_updateHighImpactUnitTargeting(){let a=this._gam;D.pushToQueue(()=>{let b=a.getTargetingValuesForKey("hi_au").filter(c=>"od"!==c&&"om"!==c);b.length?a.setTargeting({key:"hi_au",value:b}):a.clearTargetingForKey("hi_au")})}_shouldIncludeSlot(a){return!this._excludedSlots.includes(a.location)||"Interstitial"===a.location&&this.instlEnabled(a.location)}_addOutstreamLabel(a,b){this._mediaType.isOutstreamAllowed()&&a.forEach(c=>
{this._mediaType.outstreamEnabled(c).outstreamCapable&&b.push(`outstreamCapable_${c.placementMapName}`);this._mediaType.outstreamEnabled(c).currentlyActive&&b.push(`outstreamActive_${c.placementMapName}`)});return b}_addHvpLabel(a,b){a.forEach(c=>{c.isHighlyViewable()&&b.push(`hvp_${c.placementMapName}`)})}_addRefreshLabel(a,b){a.forEach(c=>{0<c.refreshCount&&b.push("refresh")})}_addLabels(a,b){this._addRefreshLabel(a,b);this._addOutstreamLabel(a,b);this._addHvpLabel(a,b)}requestBids(a,b=this._config.timeouts.initialBidsRequest,
c=[]){a=a.filter(d=>this._shouldIncludeSlot(d));return new Promise(d=>{this.checkLibLoaded().then(e=>{if(e&&a.length){var f=a.map(h=>this.instlEnabled(h.location)?this._config.prebid.interstitialAdUnitCode:h.element.id);this._addLabels(a,c);this._updateSlots(a);this._prebidMethods.requestBids({adUnitCodes:f,timeout:b,bidsBackHandler:()=>{D.pushToQueue(()=>{let h=void 0,m=void 0;1<f.length||!this.isStickyOutstreamSlot(a[0])||(h=this.cpmByDurationReducer.bind(this),m=this.cpmByDurationSorter.bind(this));
this._prebidMethods.setTargetingForGPTAsync(f,null,a[0].bidPoolId,1,h,m);d()})},labels:c})}else d()}).catch(e=>r.error("PrebidAuctionManager","requestBids",e))})}isStickyOutstreamSlot(a){return"Video_StickyOutstream"===(null===a||void 0===a?void 0:a.location)}addVideoSlots(a){let b=this._orderedVideoBidders.map(d=>d.getVideoBidRequests(a)),c=a.map(d=>{var e=this._ortb2.addOrtb2Imp({video:d});e={code:d.name,ortb2Imp:e,mediaTypes:this._mediaType.getMediaType({video:d}),bids:b.map(f=>f.get(d.name)).filter(sb).reduce((f,
h)=>f.concat(h),[])};return d.videoAdUnit=e});this._prebidMethods.addAdUnits(c)}requestVideoBids(a,b=this._config.timeouts.initialBidsRequest){let c=a.map(({name:d})=>d);return new Promise(d=>{this.checkLibLoaded().then(e=>{e||d();this._prebidMethods.requestBids({adUnitCodes:c,timeout:b,bidsBackHandler:()=>{D.pushToQueue(()=>{this._prebidMethods.setTargetingForGPTAsync(c);d()})}})}).catch(e=>r.error("PrebidAuctionManager","requestVideoBids",e))})}refreshBids(a){return this.requestBids(a,this._config.timeouts.refreshBidsRequest)}checkLibLoaded(){return new Promise(a=>
{this._bootstrapConfig.bootstrapLoaders[qa.Prebid].then(()=>a(!0)).catch(()=>a(!1))})}get enabled(){return!/Trident|MSIE/.test(ca)}cpmByDurationReducer(a,b){return this.getBidCpmByDuration(a)<this.getBidCpmByDuration(b)?b:a}cpmByDurationSorter(a,b){return this.getBidCpmByDuration(b)-this.getBidCpmByDuration(a)}getBidCpmByDuration(a){var b;let c=Math.max(1,null!==(b=a.duration)&&void 0!==b?b:this._defaultVideoDuration);return a.cpm/c}};Fb=k([p("PrebidAuctionManager"),q(),S(0,R("AdThrive")),l("design:paramtypes",
[Object,ka,y,D,lh,ch,ya,V,ih,ud,la,eh,Db,fh,lb,Ia,wd,qd,qg])],Fb);let Gb=class{constructor(a,b,c,d){this._slotEventBus=c;this._videoEventBus=d;this._auctionManagers=[b,a];this._auctionManagers=this._auctionManagers.filter(e=>e.enabled);this._setSlotEvents();this._setVideoEvents()}_setSlotEvents(){this._slotEventBus.addSlots.on(a=>this._addSlots(a));this._slotEventBus.requestingBids.on(a=>this._requestBids(a));this._slotEventBus.refreshingBids.on(a=>this._refreshBids(a))}_setVideoEvents(){this._videoEventBus.videoPlayerAdded.on(a=>
this._addVideoSlots(a));this._videoEventBus.requestingVideoBids.on(({videos:a,timeout:b})=>this._requestVideoBids(a,b))}init(){this._auctionManagers.forEach(a=>void 0!==a.init&&a.init())}_requestBids(a){return Promise.all(this._auctionManagers.map(b=>b.requestBids(a)))}_refreshBids(a){return Promise.all(this._auctionManagers.map(b=>b.refreshBids(a)))}_addSlots(a){this._auctionManagers.forEach(b=>{void 0!==b.addSlots&&b.addSlots(a)})}_addVideoSlots(a){this._auctionManagers.filter(b=>b.videoEnabled&&
b.addVideoSlots).forEach(b=>b.addVideoSlots(a))}_requestVideoBids(a,b){return Promise.all(this._auctionManagers.filter(c=>c.videoEnabled).map(c=>c.requestVideoBids(a,b)))}getPrebidAuctionManager(){for(let a of this._auctionManagers)if(a instanceof Fb)return a}getAmazonAuctionManager(){for(let a of this._auctionManagers)if(a instanceof pd)return a}};Gb=k([p("AuctionManagers"),q(),l("design:paramtypes",[Fb,pd,Ia,wa])],Gb);let mh=class{constructor(a){this._commands=a.cmd||[]}init(){if(0<this._commands.length){for(let a of this._commands)this._isGamMethod(a.toString())?
this._addToGamQueue(a):this._call(a);this._commands=[]}}push(a){0<this._commands.length?this._commands.push(a):this._isGamMethod(a.toString())?this._addToGamQueue(a):this._call(a)}_call(a){try{a.call(void 0)}catch(b){r.error("CommandQueue","_call","Error calling command",b)}}_isGamMethod(a){return a&&(a.includes("setTargeting(")||a.includes("setTargetingFlag(")||a.includes("getTargeting(")||a.includes("getTargetingMap(")||a.includes("googletag")||a.includes("pubads"))}_addToGamQueue(a){D.pushToQueue(()=>
{this._call(a)})}};mh=k([q(),S(0,R("AdThrive")),l("design:paramtypes",[Object])],mh);let xd=class{constructor(){this.wasStarted=this.wasClosed=!1;this.totalTimeCollapsed=0}};xd=k([p("CollapsibleVideoLoggingStore"),q()],xd);let nh=class extends J{init(){this._key="UserPageDataLogging";this._default=!1}};nh=k([p("UserPageDataLoggingExperiment"),q()],nh);let oh=class extends J{init(){this._key="UserPageDataPrivacyLogging";this._default=!1}};oh=k([p("UserPageDataPrivacyLoggingExperiment"),q()],oh);let ph=
class extends C{constructor(a,b,c,d,e,f,h,m,n,u){super();this._bootstrapConfig=a;this._config=b;this._pageManager=c;this._spaEventBus=d;this._prebidMethods=e;this._slotManager=f;this._userPageDataLoggingExperiment=h;this._userPageDataPrivacyLoggingExperiment=m;this._userPageDataLogEvents=n;this._collapsibleVideoLoggingStore=u;this._userPrivacyData={};this._setupSlotManagerEventListeners=()=>{let {reasons:w}=this._config.disableAds,t={requestingBids:null,requestedBids:null,displayed:null},A={...t,
pageLoaded:!1},G=(N,O)=>{A[N]=O;"number"===typeof A.requestingBids&&"number"===typeof A.requestedBids&&"number"===typeof A.displayed&&A.pageLoaded&&(this._setTimingData(A.requestingBids,A.requestedBids,A.displayed),A={...A,...t})};0!==w.size?(A.requestedBids=0,A.requestingBids=0,A.displayed=0):(this._slotManager.requestingBids.once(()=>G("requestingBids",fa())),this._slotManager.requestedBids.once(()=>G("requestedBids",fa())),this._slotManager.displayed.once(()=>G("displayed",fa())));ok().then(()=>
G("pageLoaded",!0))};this._setupUserPageDataLogEventCallbacks=()=>{I()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],()=>{"hidden"===document.visibilityState&&this._logUserData()});this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],()=>this._logUserData());this._spaEventBus.routeChanged.on(()=>this._logUserData())};this._getUserData=()=>{let w=this._getBuildData();var t=this._config.context.device,A=googletag&&
googletag.getVersion&&googletag.getVersion(),G=fa()-this._config.timing.started,N=this._config.timing.totalTimeOnPage,O=window.innerWidth,H=window.innerHeight,P={nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},K={...this._userPrivacyData},Y;if(Y=!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut){a:{if(this._prebidMethods.isPrebidLoaded())for(const Q of window.pbjs.getUserIdsAsEids())if(Q.source&&
"adserver.org"===Q.source&&Q.uids&&0<Q.uids.length&&Q.uids[0].id){Y=Q.uids[0].id;break a}Y=null}Y={uid1:Y}}return{...w,device:t,gptv:A,timePageOpen:G,timeOnPage:N,viewportWidth:O,viewportHeight:H,video:P,...K,...Y}}}init(){this._setupSlotManagerEventListeners();this._setupUserPageDataLogEventCallbacks();this._logUserPrivacyData().catch(()=>{r.error("_logUserPrivacyData: ","Could not log user privacy.")})}get enabled(){return this._userPageDataLoggingExperiment.result}_getBuildData(){var a=window.adthriveCLS;
a=a&&a.buildDate;return{bundleBuildDate:window.adthrive.buildDate,...(a?{clsBuildDate:a}:{})}}_setTimingData(a,b,c){if(window.performance&&window.performance.timing){var d=window.performance.timing;if(d&&0!==d.navigationStart){let e={pageLoad:d.loadEventStart-d.navigationStart,domainLookup:d.domainLookupEnd-d.domainLookupStart,connect:d.connectEnd-d.connectStart,request:d.responseStart-d.requestStart,response:d.responseEnd-d.responseStart,navigation:d.fetchStart-d.navigationStart,domInteractive:d.domInteractive-
d.navigationStart,domContentLoaded:d.domContentLoadedEventStart-d.navigationStart};Object.keys(e).map(f=>e[f]).every(f=>!isNaN(f)&&0<=f&&36E5>f)&&(this._setNonBlockingLibraryTimingData(),{reasons:d}=this._config.disableAds,this._timingData={...e,...this._config.timing.timingData,disableAds:0<d.size?[...d].join():"none",auctionStarted:a,auctionFinished:b,displayed:c})}}}_setNonBlockingLibraryTimingData(){this._config.timing.setNonBlockingLibraryTimingData(this._bootstrapConfig.bootstrapResult)}_logUserData(){this._userPageDataLogEvents.loggingData.emit();
this._userPageDataLogEvents.setUserPageData({...(this._timingData&&{UserPageTimingData:this._timingData}),UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in
document)try{return await document.dataConsentPreference()}catch(a){}return null}};ph=k([p("UserPageDataLoggingComponent"),v(),l("design:paramtypes",[ka,y,va,ja,V,U,nh,oh,xb,xd])],ph);class Jn{constructor(){this._map=[]}add(a,b,c,d=document){this._map.push({el:a,coords:b,dynamicAd:c,target:d})}get map(){return this._map}sort(){this._map.sort(({coords:a},{coords:b})=>a-b)}filterUsed(){this._map=this._map.filter(({dynamicAd:a})=>!a.used)}reset(){this._map=[]}}let mb=class extends Jn{};mb=k([q()],mb);
let qh=class extends J{init(){this._key="AdDensity";this._default=!1}};qh=k([p("RealizedAdDensityExperiment"),q()],qh);let fl=a=>{a=(a=a.firstChild?a.firstChild:void 0)?getComputedStyle(a).height:"0px";return Number(a.slice(0,-2))},rh=class extends C{constructor(a,b,c,d,e,f,h,m,n){super();this._gam=a;this._config=b;this._realizedAdDensityExperiment=c;this._parallaxExperiment=d;this._slots=e;this._slotManager=f;this._pageManager=h;this._userPageDataLogEvents=m;this._adInjectionMap=n;this._initialSlotsTimeout=
1E4;this._addToMainContent=new Set(["Below_Post"]);this._slotsForAdDensity=new Set(["Content","Recipe","Footer"]);this._commentElem=this._mainContent=null;this._heightsRegistered=!1;this._slotsHeightVideo=this._slotsHeightEnd=this._endMainContentHeight=this._initMainContentHeight=null;this._slotsForMainContent=new Set;this._slotsForEnd=new Set}init(){let [a]=fk(this._config.dynamicAds,this._adInjectionMap);this._mainContent=a;null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on(()=>
{this._heightsRegistered||(setTimeout(()=>{this._getSlotHeights()},this._initialSlotsTimeout),this._heightsRegistered=!0)}),this._slotManager.added.on(b=>{b.some(c=>c.infinite)||this._addSlots(b)}),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],()=>this._logAdDensity()))}_logAdDensity(){let a={...(this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)})};0<Object.keys(a).length&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:a})}_addSlots(a){a.filter(b=>
this._slotsForAdDensity.has(b.location)).filter(b=>!b.element.classList.contains("adthrive-slicksearch")).forEach(b=>{!b.lazy&&this._addToMainContent.has(b.location)&&this._slotsForMainContent.add(b.name);this._slotsForEnd.add(b.name)})}isSlotInMainContent(a){var b;return(null===(b=this._mainContent)||void 0===b?0:b.querySelector(`#${a.id}`))&&!this.isSlotInComment(a)?!0:!1}isSlotInComment(a){return this._commentElem&&this._commentElem.querySelector(`#${a.id}`)?!0:!1}_getSlotHeights(){let a=0;this._slots.get().forEach(b=>
{this._slotsForMainContent.has(b.name)&&(a+=b.element.offsetHeight)});this._mainContent&&(this._initMainContentHeight=ze(this._mainContent),this._initMainContentHeight+=a)}_initObserver(a){let b=a.querySelector("div #comments, section .comments");this._observer=this.getIntersectionObserver(b);null!==b?(this._commentElem=b,this._observer.observe(this._commentElem)):this._observer.observe(a)}getIntersectionObserver(a){return new IntersectionObserver(b=>{var c,d;for(const e of b)null!==this._initMainContentHeight&&
(null===a&&0>e.boundingClientRect.top&&(this._calculateSlotHeightsAtEnd(),null===(c=this._observer)||void 0===c?void 0:c.unobserve(this._mainContent)),null!==a&&0<e.boundingClientRect.top&&(this._calculateSlotHeightsAtEnd(),null===(d=this._observer)||void 0===d?void 0:d.unobserve(a)))},{})}_calculateSlotHeightsAtEnd(){let a=0,b=0;this._slots.get().forEach(c=>{if(this._slotsForEnd.has(c.name)&&("Content"!==c.location||this.isSlotInMainContent(c))){let d=fl(c.element);a=d&&1<d?this._parallaxExperiment.result&&
600<=d&&750>=d?a+400:a+d:a+c.element.offsetHeight}this._slotsForMainContent.has(c.name)&&(b+=c.element.offsetHeight)});this._slotsHeightEnd=a;this._mainContent&&(this._endMainContentHeight=ze(this._mainContent),this._endMainContentHeight+=b);if(this._config.video.playlistPlayerAdded){let c=document.querySelector(".adthrive-collapse-player");a+=c?c.offsetHeight:0}this._config.video.contextualPlayerAdded&&document.querySelectorAll(".adthrive-video-player").forEach(c=>{a+=c.offsetHeight});this._slotsHeightVideo=
a}get enabled(){return this._realizedAdDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&window.location.origin+"/"!==window.location.href.split("?")[0]}};rh=k([p("RealizedAdDensityComponent"),v(),l("design:paramtypes",[D,y,qh,Zb,la,U,va,xb,mb])],rh);let sh=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){if(this._config.context.querystring.has("ad_test")){let a=this._config.context.querystring.get("ad_test");
this._gam.setTargeting({key:"sec",value:a.split(",").map(b=>`test${b}`)})}}};sh=k([p("AdTestComponent"),v(),l("design:paramtypes",[y,D])],sh);let th=class extends C{constructor(a,b,c,d){super();this._config=a;this._piiEventBus=b;this._amazonMethods=c;this._bootstrapConfig=d;this._trackerHoldoutKey="amz";this._tokenKey="AMZN-Token";this._gdprEnabled=this._config.gdpr.enabled;this._userOptedOut=this._config.ccpa.userOptedOut}init(){this._regulatoryValidation();this._piiEventBus.dataCaptured.on(a=>this.provideEmailCapture(a))}get enabled(){return this._config.tkho.tracker!==
this._trackerHoldoutKey}provideEmailCapture(a){let b={...this._getHashedRecords(a.sha256Hash),...this._getGDPRConfig(a.consent),...this._getOptOut()};we().then(async()=>{await this._bootstrapConfig.bootstrapLoaders[qa.Amazon];this._amazonMethods.rpa(b)})}_getHashedRecords(a=""){return{hashedRecords:[{type:"email",record:a}]}}_getGDPRConfig(a){let b=this._gdprEnabled;return{gdpr:{enabled:b,...(b&&{consent:a})}}}_getOptOut(){return{optOut:this._userOptedOut}}_regulatoryValidation(){ha(this._tokenKey)&&
this._userOptedOut&&this._optOut()}_optOut(){this._amazonMethods.upa({hashedRecords:[],optOut:!0})}};th=k([p("AmazonPublisherAudiences"),v(),l("design:paramtypes",[y,Va,hg,ka])],th);let uh=class extends J{init(){this._key="BrandMetrics";this._default=!0}};uh=k([p("BrandMetricsExperiment"),q()],uh);let vh=class extends C{constructor(a,b,c){super();this._brandMetricsExperiment=a;this._gam=b;this._prebidAuctionManager=c;this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once(()=>
{this._load()})}get enabled(){return this._brandMetricsExperiment.result}_load(){Ea(this._url).then(()=>this._monitorSurvey()).catch(()=>{})}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[];window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(a,b)=>{a&&b&&b.measurementId&&this._gam.setTargeting({key:"bms",value:[b.measurementId.toString()]})}}})}};vh=k([p("BrandMetrics"),v(),l("design:paramtypes",[uh,D,Fb])],vh);let wh=class extends C{constructor(a){super();this._config=a}init(){var a=
document.body;const b=`adthrive-device-${this._config.context.device}`;if(!a.classList.contains(b))try{a.classList.add(b)}catch(c){r.error("BodyDeviceClassComponent","init",{message:c.message}),a="classList"in document.createElement("_"),r.error("BodyDeviceClassComponent","init.support",{support:a})}}};wh=k([p("BodyDeviceClassComponent"),v(),l("design:paramtypes",[y])],wh);Qa(".adthrive-ccpa-modal{background-color:#000;background-color:rgba(0,0,0,.4);display:none;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:2147483647}.adthrive-ccpa-modal-content{background-color:#fefefe;border:1px solid #888;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.5);font-family:Verdana,Geneva,Tahoma,sans-serif;margin:0 auto;max-width:592px;padding:20px 24px 24px;position:relative;top:50%;transform:translateY(-50%);width:80%}#adthrive-ccpa-modal-title{color:rgba(0,0,0,.87);font-size:20px;line-height:26px}.adthrive-ccpa-modal-btn:focus,.adthrive-ccpa-modal-btn:hover{color:#000;cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-language{color:rgba(0,0,0,.87);display:block;font-size:14px;line-height:20px;margin:16px 0 32px}#adthrive-ccpa-modal-cancel-btn:focus,#adthrive-ccpa-modal-cancel-btn:hover,#adthrive-ccpa-modal-close-btn-container:focus,#adthrive-ccpa-modal-close-btn-container:hover{color:rgba(0,0,0,.8);cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-continue-btn:focus,#adthrive-ccpa-modal-continue-btn:hover{color:hsla(0,0%,100%,.8);cursor:pointer;text-decoration:none}#adthrive-ccpa-modal-close-btn-container{color:#000;font-size:20px;font-weight:700;line-height:20px;position:absolute;right:8px;top:8px}.adthrive-ccpa-lower-buttons-container{color:#000;font-size:18px}#adthrive-ccpa-modal-cancel-btn{display:inline-block;text-align:left;width:calc(100% - 150px)}#adthrive-ccpa-modal-continue-btn{background-color:#010044;border-radius:10px;color:#fff;display:inline-block;height:44px;line-height:44px;text-align:center;width:150px}@media screen and (max-width:896px){.adthrive-ccpa-modal-content{margin:0 auto;position:relative;width:calc(100% - 80px)}#adthrive-ccpa-modal-title{font-size:16px;line-height:24px}#adthrive-ccpa-modal-language{font-size:12px;line-height:16px;text-align:left}.adthrive-ccpa-lower-buttons-container{font-size:14px}#adthrive-ccpa-modal-close-btn-container{font-size:14px;line-height:14px}}@media screen and (max-width:350px){#adthrive-ccpa-modal-title{font-size:14px;line-height:24px}#adthrive-ccpa-modal-language{font-size:10px;line-height:14px;text-align:left}.adthrive-ccpa-lower-buttons-container{display:block;font-size:12px;text-align:center;width:100%}#adthrive-ccpa-modal-close-btn-container{display:block;font-size:12px;line-height:12px}#adthrive-ccpa-modal-cancel-btn,#adthrive-ccpa-modal-continue-btn{display:block;text-align:center;width:100%}#adthrive-ccpa-modal-cancel-btn{margin-bottom:10px}}");
class Kn extends C{constructor(a){super();this._config=a;this._deviceAccess=!1;this.ccpaRequired=this._config.ccpa.required;this.privacyString=this._config.ccpa.privacyString;this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable;this.ccpaOptIn=this._config.ccpa.ccpaOptIn;this.ccpaOptOut=this._config.ccpa.ccpaOptOut;this.ccpaOptOutText=this._config.ccpa.optOutText;this.ccpaOptInText=this._config.ccpa.optInText;this.gpcEnabled=!!this._config.ccpa.gpcEnabled;this.gpcUpdated=!1;this.globalPrivacyControl=
window.navigator.globalPrivacyControl;this._deletionQueue=[];this.ccpaLinkText=""===this.privacyString||this.privacyString===this.ccpaOptIn?this.ccpaOptOutText:this.ccpaOptInText;this.modal=Ha("div","adthrive-ccpa-modal","adthrive-ccpa-modal");this.modalContent=Ha("div","adthrive-ccpa-modal-content","adthrive-ccpa-modal-content");this.ccpaATag=Ha("a","ccpaTag",void 0,this.ccpaLinkText,"/");this.ccpaOptOutDivId="adthrive-ccpa-link"}init(){window.__uspapi=this.uspapi.bind(this);this.addLocatorFrame();
this.ccpaRequired?(window.__uspapi("registerDeletion",1,this.deleteData),this.setGpcString(),this.setPrivacyString(this.gpcEnabled||this._config.ccpa.privacyString===this.ccpaOptOut?this.ccpaOptOut:this.ccpaOptIn),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(a,b=!1){let c=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,d=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;if(a||!0===b||c||d||this.gpcUpdated)this.setPrivacyCookie(a),
this.privacyString=a}setPrivacyCookie(a){let b=(new Date(2147483647E3)).toUTCString();document.cookie=`usprivacy=${a};path=/;expires=${b}`}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(F.removeLocalStorageValue("gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(F.setLocalStorageValue("gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}uspapi(a,
b,c){switch(a){case "performDeletion":this._deletionQueue.forEach(d=>d());break;case "registerDeletion":this._deletionQueue.push(c);break;case "getUSPData":return a={command:a,version:b,uspString:ha("usprivacy")},c(a,!0);default:return null}}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){let a=document.createElement("iframe");a.style.display="none";a.id="__uspapiLocator";a.name="__uspapiLocator";document.body.appendChild(a)}}setCCPAEventListener(a,b,c,d){c&&this.modal?c.addEventListener("click",
(()=>{a&&this.optUserInOrOut();b&&(this.modal.style.display="none")}).bind(this)):d&&this.modal&&d.addEventListener("click",(e=>{e.target==this.modal&&(this.modal.style.display="none")}).bind(this))}optUserInOrOut(){this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),window.__uspapi("performDeletion",1),this.modal.style.display="block",this.ccpaATag.textContent=this.ccpaOptInText,this._config.ccpa.userOptedOut=!0):(this.setPrivacyString(this.ccpaOptIn,!0),this.ccpaATag.textContent=
this.ccpaOptOutText,this._config.ccpa.userOptedOut=!1);this._config.ccpa.consentChange.emit(this.privacyString);this.setDeviceAccess()}createCCPAModal(){document.body.append(this.modal);this.modal.append(this.modalContent);this.setCCPAEventListener(!1,!0,void 0,window);var a=Ha("div","adthrive-ccpa-modal-close-btn-container",void 0,"<span>&#10005;</span>");this.modalContent.append(a);this.setCCPAEventListener(!1,!0,a);a=Ha("div","adthrive-ccpa-modal-title",void 0,this._config.ccpa.optOutText);this.modalContent.append(a);
a=Ha("span","adthrive-ccpa-modal-language",void 0,'You have chosen to opt-out of the sale or sharing of your information from this site and any of its affiliates. To opt back in please click the "Customize my ad experience" link.<br>\n    <br>This site collects information through the use of cookies and other tracking tools. Cookies and these tools do not contain any information that personally identifies a user, but personal information that would be stored about you may be linked to the information stored in and obtained from them. This information would be used and shared for Analytics, Ad Serving, Interest Based Advertising, among other purposes.<br>\n    <br>For more information please visit this site\'s Privacy Policy.');
this.modalContent.append(a)}createModalLowerButtons(){let a=Ha("div",void 0,"adthrive-ccpa-lower-buttons-container");this.modalContent.append(a);var b=Ha("div","adthrive-ccpa-modal-cancel-btn","adthrive-ccpa-modal-btn","CANCEL");a.append(b);this.setCCPAEventListener(!0,!0,b);b=Ha("div","adthrive-ccpa-modal-continue-btn","adthrive-ccpa-modal-btn","CONTINUE");a.append(b);this.setCCPAEventListener(!1,!0,b)}addOptOutElements(a=!0){this.ccpaOptOutDiv=Ha("div",this.ccpaOptOutDivId,"adthrive-ccpa-link",
"Information from your device can be used to personalize your ad experience. <br><br>");this.ccpaOptOutDiv.style.display=a?"block":"none";this.ccpaOptOutDiv.appendChild(this.ccpaATag);this.setCCPAEventListener(!0,!1,this.ccpaATag);this.createCCPAModal();this.createModalLowerButtons()}deleteData(){}setDeviceAccess(){this._deviceAccess=this.privacyString===this.ccpaOptIn?!0:!1}}let xh=class extends J{init(){let a=E.resolve(y);this._key="SinglePageAppSupport_"+String(a.site.id);this._default=!1}};xh=
k([p("SpaMultiSiteExperiment"),q()],xh);let Hb=class extends J{init(){var a=E.resolve(xh).key;this._key=this._coreExperimentConfig.getCoreExperiment(a)?a:"SinglePageAppSupport";a=E.resolve(y);this.setABGroup(this.isEnabled()?!0:!1,"SinglePageAppSupport"===this._key?"spa":"spa_"+String(a.site.id));this._default=!1}isEnabled(){return!0===E.resolve(y).adOptions.spa&&super.isEnabled()}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",Object)],
Hb.prototype,"run",null);Hb=k([p("SinglePageAppManagerExperiment"),q()],Hb);let yd=class extends Kn{constructor(a,b,c){super(a);this._singlePageAppManagerExperimentResult=c.result;this._spaEventBus=b}init(){super.init();if(this.ccpaRequired){this._setupListeners();let a=document.querySelector(`#${this.ccpaOptOutDivId}`),b=this._isHomeOrFPV();a||(this.addOptOutElements(b),this.injectFooter())}}uspapi(a,b,c){return super.uspapi(a,b,c)}createCCPAModal(){return super.createCCPAModal()}optUserInOrOut(){super.optUserInOrOut()}_isHomeOrFPV(){return"/"===
window.location.pathname||this._config.context.isFirstPageview}_setupListeners(){if(this._singlePageAppManagerExperimentResult)this._spaEventBus.routeChanged.once(()=>{this.init();let a=document.querySelector(`#${this.ccpaOptOutDivId}`),b=this._isHomeOrFPV()?"block":"none";a&&(a.style.display=b)})}injectFooter(){this.ccpaOptOutDiv&&this._config.footer.elements.push({order:1,element:this.ccpaOptOutDiv})}};yd=k([p("CCPAComponent"),v(),l("design:paramtypes",[y,ja,Hb])],yd);let zd=class extends J{init(){this._key=
"ConfiantRefresh";this._default=!1}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],zd.prototype,"run",null);zd=k([p("ConfiantPropertyExperiment"),q()],zd);let Ln=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],
[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]),yh=class extends C{constructor(a,b){super();this._config=a;this._confiantPropertyExperiment=b;this._prodPropertyId="mOinGM9MTu5v-Lto835XLhlrSPY";this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE";this._trackerHoldoutKey="conf"}init(){let a=this._confiantPropertyExperiment.result?
this._expPropertyId:this._prodPropertyId;window.confiant=window.confiant||{};window.confiant.callback=(b,c,d,e,f)=>{let h=Ln.get(b);r.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:b,blockingType:h?h.type:"unknown",description:h?h.description:"unknown",tagId:f,wrapperId:e,blockingId:c,isBlocked:d})};return Ea(`https://${"cdn.confiant-integrations.net"}/${a}/gpt_and_prebid/config.js`)}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}};yh=k([p("ConfiantComponent"),
v(),l("design:paramtypes",[y,zd])],yh);let zh=class extends C{constructor(a,b){super();this._config=a;this._gam=b;this.debug=!1;this.debug=this._config.context.debug}getConfigTargeting(){var a;let b=this._config,c=this._config.context,d=this.debug;return[...b.gam.targeting,{key:"abgroup",value:b.abGroup.groups},{key:"pubab",value:b.pubAbGroup.groups},{key:"idho_p",value:b.idho.percentages},{key:"bucket",value:d?"unsupported":c.bucket},{key:"sens",value:b.site.sensitiveCategories},{key:"domain",value:c.domain},
{key:"plugin",value:c.plugin},{key:"hi_au",value:b.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:c.ri},{key:"rsi",value:c.rsi},{key:"pvk",value:c.pageviewKey},{key:"sess",value:c.sessionKey},{key:"branch",value:c.branch},{key:"deployment",value:d||c.invalidTraffic?"unsupported":c.deployment},{key:"hbho",value:b.hbho.bidders},{key:"vbho",value:b.vbho.bidders},{key:"doba",value:b.displayOpenBidding.bidders},{key:"gptv",value:window.googletag.getVersion()},
{key:"gpid",value:null!==(a=c.gpid)&&void 0!==a?a:"gpid unavailable"},{key:"id_region",value:b.locale.targetingValue}]}getConditionalTargeting(){let a=[],b=this._config.context,c=this._config.site,d=this._config.ccpa;c.sensCategoriesOff.length&&a.push({key:"sens_off",value:c.sensCategoriesOff});b.connectionTargeting.length&&a.push({key:"connection",value:b.connectionTargeting});d.required&&a.push({key:"ccpaOptOut",value:d.userOptedOut?"1":"0"});return a}async setConditionalFlagTargeting(){let a=this._config.context,
b=ak();if("cookieDeprecationLabel"in navigator){let c=null!==await navigator.cookieDeprecationLabel.getValue()?["B"]:["off"];this._gam.setTargetingFlag("cookdep",c)}a.invalidTraffic&&this._gam.setTargetingFlag("bot",a.invalidTraffic);a.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",a.adsMinLoadDuration);this._config.gdpr.enabled&&this._gam.setTargetingFlag("gdpr",["1"]);null!==ak()&&this._gam.setTargetingFlag("brwsrv",[`${b}`]);this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",
["1"]);pa()&&this._config.adTypes.largeFormatsDesktop&&this._gam.setTargetingFlag("lf_elig",["1"]);!pa()&&this._config.adTypes.largeFormatsMobile&&this._gam.setTargetingFlag("lf_elig",["1"]);this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[String(!!this._config.clsOptions.injectedFromPlugin)]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""]));a.integration&&this._gam.setTargetingFlag("integration",
[a.integration]);a.deliveryVersion&&this._gam.setTargetingFlag("lmdv",[a.deliveryVersion])}init(){D.pushToQueue(async()=>{this._gam.setTargeting([...this.getConfigTargeting(),...this.getConditionalTargeting()]);await this.setConditionalFlagTargeting()})}};zh=k([p("ConfigTargetingComponent"),v(),l("design:paramtypes",[y,D])],zh);let Ah=class extends C{constructor(a,b){super();this._gam=a;this._slots=b}init(){this._gam.slotRenderEnded.on(a=>this.confirmedClickOverlay(a))}confirmedClickOverlay({event:a,
slot:b}){D.pushToQueue(()=>{let {id:c,location:d,sequence:e,nref:f}=b.getTargetingMap(),h=this.confirmedClickStatus(this._slots.get(a.slot.getSlotElementId()));lk({event:a,ignoreOtherCompanyIds:!0})&&h&&r.event("confirmedClickOverlay","status",{id:c,location:d,sequence:e,nref:f,confirmedClick:h})})}confirmedClickStatus(a){let b=["common_15click_overlay","common_15click_anchor"];try{let c=null===a||void 0===a?void 0:a.element.querySelectorAll("iframe[id^=google_ads_iframe]"),d;c&&0<(null===c||void 0===
c?void 0:c.length)&&(d=c[0]);return b.some(e=>{var f;return null!=(null===(f=null===d||void 0===d?void 0:d.contentDocument)||void 0===f?void 0:f.getElementById(e))})}catch(c){r.error("ConfirmedClickComponent","confirmedClickStatus",c)}return!1}};Ah=k([p("ConfirmedClicksComponent"),v(),l("design:paramtypes",[D,la])],Ah);let Bh=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._slotManager=c;this._device=this._config.context.device}init(){let a=this._slotManager;this._gam.slotRenderEnded.on(({event:b,
slot:c})=>{this.isDeclaredRefreshCompliantSlot(c)&&lk({event:b})&&a.updateRefreshTimeout(c.id,24E4)});a.added.on(b=>b.forEach(c=>{this.isDeclaredRefreshCompliantSlot(c)&&D.pushToQueue(()=>{c.setTargeting({key:"decref",value:"240"})})}))}isDeclaredRefreshCompliantSlot(a){return"Sidebar"===a.location&&("phone"===this._device||"tablet"===this._device)||"Header"===a.location&&2===a.sequence&&("phone"===this._device||"tablet"===this._device)}};Bh=k([p("DeclaredRefreshComponent"),v(),l("design:paramtypes",
[y,D,U])],Bh);class gl{constructor(){this._clsOptions=new wb;this.shouldUseCoreExperimentsConfig=!1}setExperimentKey(a=!1){this._clsOptions.setExperiment(this.abgroup,this.result,a)}}let hl=class extends gl{constructor(){super();this._result=!1;this.key="MaxContent";this.abgroup="conmax99";this._choices=[{choice:!0},{choice:!1}];this.weight=.02;this._result=this.run();this.setExperimentKey()}get result(){return this._result}run(){return(new ba(this.weight)).get()}};hl=k([p("MaxContentExperiment"),
l("design:paramtypes",[])],hl);let il=class extends gl{constructor(a){super();this._result=!1;this.key="ParallaxAdsExperiment";this.abgroup="parallax";this._choices=[{choice:!0},{choice:!1}];this.weight=.5;I()&&a.largeFormatsMobile&&(this._result=this.run(),this.setExperimentKey())}get result(){return this._result}run(){return(new ba(this.weight)).get()}};il=k([p("ParallaxAdsExperiment"),l("design:paramtypes",[Object])],il);let Mn=(a,b)=>{const c=ck(b),d=a.sticky&&"Sidebar"===a.location;return a.sizes.filter(e=>
{const f=d?e[1]<=window.innerHeight-100:!0;return(a.autosize?e[0]<=c||320>=e[0]:!0)&&f})},Ad=class extends sa{constructor(a){super();this._result=!1;this.abgroup="essa";this.key="EnhancedStickySidebarAds";this._choices=[{choice:!0},{choice:!1}];this.weight=.9;this.shouldUseCoreOverride=!1;var b=window;this._result=(b=(b=b&&b.adthriveCLS)&&b.experiments)&&this.abgroup in b?b[this.abgroup]:this.run();a.set(this.abgroup,this._result?"on":"off")}get result(){return this._result}run(){return(new ba(this.weight)).get()}};
Ad=k([p("EnhancedStickySidebarAdsExperiment"),q(),l("design:paramtypes",[aa])],Ad);let Bd=class extends sa{constructor(a){super();this._result=!1;this.abgroup="scae";this.key="StickyContainerAds";this._choices=[{choice:!0},{choice:!1}];this.weight=.99;this.shouldUseCoreOverride=!1;var b=window;this._result=(b=(b=b&&b.adthriveCLS)&&b.experiments)&&this.abgroup in b?b[this.abgroup]:this.run();a.set(this.abgroup,this._result?"on":"off")}get result(){return this._result}run(){return(new ba(this.weight)).get()}};
Bd=k([p("StickyContainerAdsExperiment"),q(),l("design:paramtypes",[aa])],Bd);let Cd=class extends Ie{constructor(a,b,c,d){var e;super();this._siteExperiments=a;this._pubabgroup=b;this._clsOptions=c;this._choices=[];this._mappedChoices=[];this._result="control";this._resultValidator=f=>"number"===typeof f;this.abgroup=this.key=ra.AdDensity;(null===(e=d.siteAds)||void 0===e?0:e.siteExperiments)?this.experimentConfig=(new Je(d.siteAds)).getSiteExperimentByKey(this.key):this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);
a=this._clsOptions.getWeightedChoiceExperiment(this.abgroup,!0);this.enabled&&this._isValidResult(a)?(this._result=a,this.setExperimentTargeting()):this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){if(!this.enabled)return r.error("TargetAdDensitySiteExperiment","run","() => %o","No experiment config found. Defaulting to control."),"control";let a=(new ub(this._mappedChoices)).get();
if(this._isValidResult(a))return a;r.error("TargetAdDensitySiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to control.");return"control"}setExperimentTargeting(){if(this.enabled&&this._isValidResult(this._result)){var a=this.experimentConfig;a=`${a.key.toLowerCase()}-${a.id}`;this._pubabgroup.set(a,"control"===this._result?"control":`${Math.round(100*this._result)}`)}else r.error("TargetAdDensitySiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:a,
value:b})=>({weight:a,choice:"number"===typeof b?(b||0)/100:"control"}))}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Cd.prototype,"run",null);Cd=k([q(),S(3,R("AdthriveCLS")),l("design:paramtypes",[Fa,xa,wb,Object])],Cd);let Nn=(a,b,c=1200)=>Math.min(25,Math.max(Math.floor((a-b.offsetTop)/(c+10))-2,1)),jl=a=>a.some(b=>null!==document.querySelector(b));class Ch{constructor(a){this._adInjectionMap=a;this._mainContentHeight=this._recipeCount=0;this._mainContentDiv=
null;this._totalAvailableElements=[];this._densityDevice=Tb.Desktop;this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0};this._densityMax=.99;this._smallerIncrementAttempts=0;this._absoluteMinimumSpacingByDevice=250;this._usedAbsoluteMinimum=!1;this.locationMaxLazySequence=new Map([["Recipe",99]]);this._stickyContainerAdsExperiment=E.resolve(Bd);this._stickyContainerRecipeExperiment=E.resolve(Bb);this._enhancedStickySidebarAdsExperiment=E.resolve(Ad)}inject(a,b=document){window.adthriveCLS&&
window.adthriveCLS.targetDensityLog&&r.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog);this._densityDevice="desktop"===this._config.context.device?Tb.Desktop:Tb.Mobile;this._overrideDefaultAdDensitySettingsWithSiteExperiment();let c=this._config.targetDensity.enabled;var d=a.filter(e=>c?"Content"!==e.location:e);a=a.filter(e=>c?"Content"===e.location:null);d=d.length?this._injectNonDensitySlots(d,b):[];b=a.length?this._injectDensitySlots(a,b):[];return[...d,...b]}_injectNonDensitySlots(a,
b=document){let c=[],d=this._config.adOptions.dynamicStickySidebarEnabled&&this._enhancedStickySidebarAdsExperiment.result;for(let e of a){a="Sidebar"===e.location&&9===e.sequence&&e.sticky;let f=jl(this._config.adOptions.dynamicStickySidebarBlockedSelectors||[]);d&&a?f?this._insertNonDensityAds(e,c,b):this._insertDynamicStickySidebarAds(e,c,b):this._insertNonDensityAds(e,c,b)}return c}_insertDynamicStickySidebarAds(a,b,c=document){c=this._getElements(a.elementSelector,c).item(a.skip);if(null===c)return b;
let d=this._repeatDynamicStickySidebar(a,c);for(let h=0;h<d.length;h++){let m=d[h],n=`${m.location}_${m.sequence}`;if(!b.some(u=>u.name===n)){var e=this.getDynamicElementId(m),f=`adthrive-${a.location.replace("_","-").toLowerCase()}`;f=[h!==d.length-1?"adthrive-sticky-sidebar":"",f,`${f}-${m.sequence}`,...a.classNames];if(e=this.addAd(c,e,m.position,f,m.location))f=Mn(m,e),f.length&&b.push(this.createSlot(m,e,f,!1))}}return b}_repeatDynamicStickySidebar(a,b){var c;if("Sidebar"!==a.location||9!==a.sequence||
!a.sticky)return[a];if(b){let d=this._config.adOptions.dynamicStickySidebarHeight,e=a.stickyOverlapSelector?(null===(c=document.querySelector(a.stickyOverlapSelector))||void 0===c?void 0:c.offsetTop)||document.body.scrollHeight:document.body.scrollHeight;b=Nn(e,b,d);return this._repeatSpecificDynamicAds(a,b,9).map(f=>{9!==f.sequence&&(f.lazy=!0);return f})}return[a]}_insertNonDensityAds(a,b,c=document){let d=0,e=0,f=0;0<a.spacing&&(e=d=window.innerHeight*a.spacing);let h=this._repeatDynamicAds(a),
m=this._getElements(a.elementSelector,c);for(let A=a.skip;A<m.length&&!(f+1>h.length);A+=a.every){var n=m[A];if(0<d){var {bottom:u}=xe(n);if(u<=e)continue;e=u+d}u=h[f];let G=`${u.location}_${u.sequence}`;if(b.some(N=>N.name===G))f+=1;else{var w=this.getDynamicElementId(u),t=`adthrive-${a.location.replace("_","-").toLowerCase()}`;t=["Sidebar"===a.location&&a.sticky&&a.sequence&&5>=a.sequence?"adthrive-sticky-sidebar":"",this._stickyContainerRecipeExperiment.result&&"Recipe"===a.location&&a.sticky?
"adthrive-recipe-sticky-container":"",t,`${t}-${a.sequence}`,...a.classNames];if(n=this.addAd(n,w,a.position,t,a.location))w=this._filterAdUnitSizes(u,n),w.length&&(b.push(this.createSlot(u,n,w,c!==document)),"Recipe"===a.location&&++this._recipeCount,f+=1)}}}_injectDensitySlots(a,b=document){try{this._calculateMainContentHeightAndAllElements(a,b)}catch(m){return[]}let {onePerViewport:c,targetAll:d,targetDensityUnits:e,combinedMax:f,numberOfUnits:h}=this._getDensitySettings(a,b);this._absoluteMinimumSpacingByDevice=
c?window.innerHeight:this._absoluteMinimumSpacingByDevice;if(!h)return[];this._adInjectionMap.filterUsed();this._findElementsForAds(h,c,d,f,e,b);return this._insertAds()}_overrideDefaultAdDensitySettingsWithSiteExperiment(){var a=E.resolve(Cd);a.enabled&&(a=a.result,"number"===typeof a&&(this._config.targetDensity.enabled=!0,this._config.targetDensity.settings[this._densityDevice].adDensity=a))}_getDensitySettings(a,b=document){var c=this._config.targetDensity.settings,d=this._determineOverrides(c.pageOverrides);
d=d.length?d[0]:c[this._densityDevice];c=d.adDensity;d=d.onePerViewport;let e=this._shouldTargetAllEligible(c),f=this._getTargetDensityUnits(c,e);a=this._getCombinedMax(a,b);b=Math.min(...[this._totalAvailableElements.length,f,...(0<a?[a]:[])]);this._pubLog={onePerViewport:d,targetDensity:c,targetDensityUnits:f,combinedMax:a};return{onePerViewport:d,targetAll:e,targetDensityUnits:f,combinedMax:a,numberOfUnits:b}}_determineOverrides(a){return a.filter(b=>{let c=gb(b.pageSelector);return""===b.pageSelector||
c.elements&&c.elements.length}).map(b=>b[this._densityDevice])}_shouldTargetAllEligible(a){return a===this._densityMax}_getTargetDensityUnits(a,b){return b?this._totalAvailableElements.length:Math.floor(a*this._mainContentHeight/(1-a)/this._getMinDivHeight())-this._recipeCount}_getMinDivHeight(a="Content"){return this._config.clsOptimizedAds.getDivHeight(a,this._config.context.device)}_getCombinedMax(a,b=document){return B(a.filter(c=>{let d;try{d=b.querySelector(c.elementSelector)}catch(e){}return d}).map(c=>
Number(c.max)+Number(c.lazyMaxDefaulted?0:c.lazyMax)).sort((c,d)=>d-c)[0],0)}_elementLargerThanMainContent(a){return a.offsetHeight>=this._mainContentHeight&&1<this._totalAvailableElements.length}_elementDisplayNone(a){let b=window.getComputedStyle(a,null).display;return b&&"none"===b||"none"===a.style.display}_isBelowMaxes(a,b){return this._adInjectionMap.map.length<a&&this._adInjectionMap.map.length<b}_findElementsForAds(a,b,c,d,e,f=document){r.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:b,
combinedMax:d,targetDensityUnits:e,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length});let h=m=>{for(const {dynamicAd:n,element:u}of this._totalAvailableElements)if(this._logDensityInfo(u,n.elementSelector,m),!(!c&&this._elementLargerThanMainContent(u)||this._elementDisplayNone(u)))if(this._isBelowMaxes(d,e))this._checkElementSpacing({dynamicAd:n,element:u,insertEvery:m,targetAll:c,
target:f});else break;!this._usedAbsoluteMinimum&&5>this._smallerIncrementAttempts&&(++this._smallerIncrementAttempts,h(this._getSmallerIncrement(m)))};a=this._getInsertEvery(a,b,e);h(a)}_getSmallerIncrement(a){a*=.6;a<=this._absoluteMinimumSpacingByDevice&&(a=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0);return a}_insertAds(){let a=[];this._adInjectionMap.filterUsed();this._adInjectionMap.map.forEach(({el:b,dynamicAd:c,target:d},e)=>{e=Number(c.sequence)+e;var f=c.max;f=c.lazy&&
e>f;c.sequence=e;c.lazy=f;if(b=this._addContentAd(b,c,d))c.used=!0,a.push(b)});return a}_getInsertEvery(a,b,c){this._moreAvailableElementsThanUnitsToInject(c,a)?(this._usedAbsoluteMinimum=!1,a=this._useWiderSpacing(c,a)):(this._usedAbsoluteMinimum=!0,a=this._useSmallestSpacing(b));return b&&window.innerHeight>a?window.innerHeight:a}_useWiderSpacing(a,b){return this._mainContentHeight/Math.min(a,b)}_useSmallestSpacing(a){return a&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:
this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(a,b){return this._totalAvailableElements.length>a||this._totalAvailableElements.length>b}_logDensityInfo(a,b,c){}_checkElementSpacing({dynamicAd:a,element:b,insertEvery:c,targetAll:d,target:e=document}){(this._isFirstAdInjected()||this._hasProperSpacing(b,a,d,c))&&this._markSpotForContentAd(b,{...a},e)}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(a,b,c=document){this._adInjectionMap.add(a,
this._getElementCoords(a,"beforebegin"===b.position||"afterbegin"===b.position),b,c);this._adInjectionMap.sort()}_hasProperSpacing(a,b,c,d){var e="beforebegin"===b.position||"afterbegin"===b.position;b="beforeend"===b.position||"afterbegin"===b.position;c=c||this._isElementFarEnoughFromOtherAdElements(a,d,e);e=b||this._isElementNotInRow(a,e);a=-1===a.id.indexOf("AdThrive_Below_Post");return c&&e&&a}_isElementFarEnoughFromOtherAdElements(a,b,c){a=this._getElementCoords(a,c);var d=!1;for(c=0;c<this._adInjectionMap.map.length&&
!(d=this._adInjectionMap.map[c+1]&&this._adInjectionMap.map[c+1].coords,d=a-b>this._adInjectionMap.map[c].coords&&(!d||a+b<d));c++);return d}_isElementNotInRow(a,b){let c=a.previousElementSibling,d=a.nextElementSibling;return(b=b?!c&&d||c&&a.tagName!==c.tagName?d:c:d)&&0===a.getBoundingClientRect().height?!0:b?a.getBoundingClientRect().top!==b.getBoundingClientRect().top:!0}_calculateMainContentHeightAndAllElements(a,b=document){let [c,d]=fk(a,this._adInjectionMap,b);this._mainContentDiv=c;this._totalAvailableElements=
d;this._mainContentHeight=ze(this._mainContentDiv)}_getElementCoords(a,b=!1){a=a.getBoundingClientRect();return(b?a.top:a.bottom)+window.scrollY}_addContentAd(a,b,c=document){let d=null;var e=`adthrive-${b.location.replace("_","-").toLowerCase()}`;let f=`${e}-${b.sequence}`,h=this._config.adOptions.stickyContentEnabled&&this._stickyContainerAdsExperiment.result?"adthrive-sticky-container":"";if(a=this.addAd(a,this.getDynamicElementId(b),b.position,[h,e,f,...b.classNames],b.location))e=this._filterAdUnitSizes(b,
a),e.length&&(d=this.createSlot(b,a,e,c!==document));return d}_getElements(a,b=document){return b.querySelectorAll(a)}_filterAdUnitSizes(a,b){let c=ck(b),d=a.sticky&&"Sidebar"===a.location;return a.sizes.filter(e=>{let f=d?e[1]<=window.innerHeight-100:!0;return(a.autosize?e[0]<=c||320>=e[0]:!0)&&f})}createSlot({location:a,sequence:b,sticky:c,lazy:d,stickyOverlapSelector:e,special:f,auctionPriority:h},m,n,u){return new Gk(a,b,n,m,c,d,h,e,f,!0,u)}_repeatDynamicAds(a){let b=[];var c=a.lazy?B(this.locationMaxLazySequence.get(a.location),
0):0;let d=a.max;var e=a.lazyMax;c=Math.max(d,0===c&&a.lazy?d+e:Math.min(Math.max(c-a.sequence+1,0),d+e));for(e=0;e<c;e++)b.push({...a,sequence:Number(a.sequence)+e,lazy:a.lazy&&e>=d});return b}_repeatSpecificDynamicAds(a,b,c=0){let d=[];for(let e=0;e<b;e++)d.push({...a,sequence:c+e});return d}addAd(a,b,c,d=[],e){d=`<div id="${b}" class="adthrive-ad ${d.join(" ")}"></div>`;"Video_StickyOutstream"===e&&(d=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${b.includes("phone")?"mobile":
"desktop"}">`+d+"</div>");window.adthriveCLS&&window.adthriveCLS.injectedSlots&&window.adthriveCLS.injectedSlots.some(f=>f.element.id===b)||a.insertAdjacentHTML(c,d);return document.getElementById(b)}}let Dh=class extends Ch{constructor(a,b){super(b);this._config=a;this._adInjectionMap=b}getDynamicElementId(a){return`${this._config.gam.prefix}_${a.location}_${a.sequence}_${this._config.context.device}`}};Dh=k([p("DynamicAdsInjector"),v(),l("design:paramtypes",[y,mb])],Dh);let Eh=(a=5)=>{a=5<a?a:5;
Qa(`
    .adthrive-recipe-sticky-container > div {
      flex-basis: unset;
      position: sticky !important;
      display: block;
      flex-direction: column;
      top: ${a}px;
    }
    .adthrive-sticky-container > div {
      flex-basis: unset;
      position: sticky !important;
      display: block;
      flex-direction: column;
      top: ${a}px;
    }
  `)},Fh=a=>{if(a&&a.length){let b=0;for(let c=0;c<a.length;c++){const d=gb(a[c]);if(d.valid&&d.elements&&d.elements[0]){b=xe(d.elements[0]).height;break}}return b}},Dd=class extends C{constructor(a,b,c){super();this._config=a;this._injector=b;this._slotManager=c}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots)for(let a of window.adthriveCLS.injectedSlots)if(a.name.includes("Content"))return!0;return!1}start(){let a=this.hasClsInjectedContent();var b=this._config.adOptions,
c=b.dynamicStickySidebarHeight;b=Fh(b.dynamicStickySidebarHeaderSelectors);Qa(`
    .adthrive-ad.adthrive-sticky-sidebar {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      min-height: ${null!==c&&void 0!==c?c:1200}px !important;
      padding-bottom: 0px;
      margin: 10px 0 10px 0;
    }
    .adthrive-ad.adthrive-sticky-sidebar > div {
      flex-basis: unset;
      position: sticky !important;
      top: ${null!==b&&void 0!==b?b:5}px;
    }
  `);c=this._config.dynamicAds.filter(e=>Ee(this._config,e)).filter(e=>e.devices.includes(this._config.context.device)).filter(e=>!a||a&&"Content"!==e.location).filter(e=>"Interstitial"===e.location||"Video_StickyOutstream"===e.location?Tm(e.pageSelector):0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)).filter(e=>!this.pluginInjected(e)).filter(e=>"Video_StickyOutstream"!==e.location||!this.shouldFilterStickyOutstream());let d=this._injector.inject(c);if(this._config.clsOptions&&
this._config.clsOptions.enabled){let e=[];this._config.clsOptions.injectedSlots.forEach(f=>{let h=d.find(n=>n.name===f.name),m=e.find(n=>n.name===f.name);h||m||e.push(this._injector.createSlot(f.dynamicAd,f.element,f.sizes,f.infinite))});d=d.concat(e)}this._slotManager.add(d).catch(e=>{r.error("DynamicAdsComponent","start","add",e)})}get enabled(){return 0<this._config.dynamicAds.length}shouldFilterStickyOutstream(){if(this._config.video.preventStickyOutstream||this._config.disableAds.video||!this._config.video.stickyOutstreamSettings.allowOnHomepage&&
window.location.origin+"/"===window.location.href.split("?")[0])return!0;this._config.video.hasStickyOutstream=!0;return!1}pluginInjected(a){let b=JSON.stringify(a);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some(c=>JSON.stringify(c.clsDynamicAd)===b)}};Dd=k([p("DynamicAdsComponent"),v(),l("design:paramtypes",[y,Dh,U])],Dd);let Gh=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){try{this._gam.slotOnload.once(()=>this.refreshExternal())}catch(a){r.error("ExternalSlotsComponent",
"init",a)}}refreshExternal(){D.pushToQueue(()=>{let {account:a}=this._config.gam,b=window.googletag.pubads().getSlots().filter(c=>null===RegExp(`^\/?${a}\/`).exec(c.getAdUnitPath())).filter(c=>null!==document.getElementById(c.getSlotElementId()));b.length&&window.googletag.pubads().refresh(b)})}};Gh=k([p("ExternalSlotsComponent"),v(),l("design:paramtypes",[y,D])],Gh);let Hh=class extends C{constructor(a,b,c,d,e){super();this._gam=a;this._gdprEvents=b;this._config=c;this._gdprEnforcement=d;this._spaEventBus=
e}init(){let a=this._config.context.isFirstPageview?"1":"0",b=[1];if(this._config.gdpr.enabled)this._gdprEvents.consentCaptured.on(()=>{this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,b).then(c=>{c&&this.setFPV(a)}).catch(()=>{})});else this.setFPV(a);this.handleSPARouteChange()}setFPV(a="0"){+a&&F.setLocalStorageValue("fpv",(new Date).toString());this._gam.setTargeting({key:"fpv",value:a})}handleSPARouteChange(){this._spaEventBus.routeChanged.on(()=>{this._config.context.isFirstPageview=
!1;this.setFPV("0");F.setSessionFpv()})}};Hh=k([p("FirstPageviewComponent"),v(),l("design:paramtypes",[D,Oa,y,lb,ja])],Hh);let Ih=class extends C{constructor(a,b,c,d,e){super();this._slotManager=a;this._prebidMethods=b;this._floors=c;this._floorsExperiment=d;this._spaEventBus=e;this.floorsType=W.lazy;this._percentile=.6;this._enabledAdUnits=["Content","Recipe","Below_Post"];this._spaRouteChangeListenerSet=!1;this._offEvents=[()=>{}];this._adUnitCpms=[]}init(){this._offEvents.push(this._slotManager.requestingBids.on(a=>
{let b=this._floors.getDefaultFloorConfig();a.filter(c=>this._enabledAdUnits.includes(c.location)&&c.lazy).forEach(c=>{let d=Oc(this._adUnitCpms,this._percentile);this._floors.setValues(b,c.id,d)});this._floors.prioritizeFloorsConfig(b,W.lazy)}));this._offEvents.push(this._slotManager.requestedBids.on(a=>{a.filter(b=>this._enabledAdUnits.includes(b.location)).forEach(b=>{this._prebidMethods.addToQueue(()=>{this._floors.saveBids(b,this._adUnitCpms)})})}));this._spaRouteChangeListenerSet||this._setSpaRouteChangeListener()}_setSpaRouteChangeListener(){this._spaRouteChangeListenerSet=
!0;this._spaEventBus.routeChanged.on(()=>{this._offEvents.forEach(a=>{a()});this._offEvents=[];this.init()})}get active(){return this.enabled}get enabled(){return this._floorsExperiment.result.legacy}};Ih=k([p("FloorsLazyComponent"),v(),l("design:paramtypes",[U,V,Na,Xa,ja])],Ih);let Jh=class extends C{constructor(a,b,c){super();this._config=a;this._floors=b;this._floorsExperiment=c;this.floorsType=W.raptive}init(){let a=this._config.floors.floorsData;if(a)this._createFloorsMap(a);else this._config.floors.floorsDataReady.once(()=>
this._createFloorsMap(a))}_createFloorsMap(a){if(a){let b=!this._floorsExperiment.result.fbrap;this._config.floors.setAdditionalSchemaFields(a.modelGroups[0].schema.fields);this._floors.setRaptiveFloors(a,b)}else r.error("FloorsRaptiveComponent","init","Raptive floor data not found")}get active(){return this.enabled}get enabled(){return this._floorsExperiment.result.raptive}};Jh=k([p("FloorsRaptiveComponent"),v(),l("design:paramtypes",[y,Na,Xa])],Jh);let Kh=class extends T{init(){this._key="FloorsStickyOutstreamRefresh"}};
Kh=k([p("FloorsStickyOutstreamRefreshExperiment"),q()],Kh);var Za;(function(a){a.banner="banner";a.instream="instream";a.stickyOutstream="stickyOutstream"})(Za||(Za={}));let Lh=class extends C{constructor(a,b,c,d,e,f,h){super();this._config=a;this._slotManager=b;this._floors=c;this._prebidMethods=d;this._videoRequestManager=e;this._floorsExperiment=f;this._stickyOutstreamExperiment=h;this.floorsType=W.refresh;this._bannerMulitplierLowRefresh=1.3;this._instreamMulitplierLowRefresh=this._bannerMulitplierHighRefresh=
1.1;this._instreamMulitplierHighRefresh=1;this._multipliers=new Map([[Za.banner,{low:this._bannerMulitplierLowRefresh,high:this._bannerMulitplierHighRefresh}],[Za.instream,{low:this._instreamMulitplierLowRefresh,high:this._instreamMulitplierHighRefresh}],[Za.stickyOutstream,{low:this._stickyOutstreamExperiment.result||this._bannerMulitplierLowRefresh,high:this._stickyOutstreamExperiment.result||this._bannerMulitplierHighRefresh}]])}init(){this._slotManager.refreshing.on(a=>{this._prebidMethods.addToQueue(()=>
{this._setRefreshFloors(a.map(b=>({adUnitCode:b.id,refreshCount:b.refreshCount,bidPoolId:b.bidPoolId})))})});this._videoRequestManager.refreshingVideoBids.on(a=>{this._prebidMethods.addToQueue(()=>{this._setRefreshFloors(a.map(b=>{var c;return{adUnitCode:null===(c=b.videoAdUnit)||void 0===c?void 0:c.code,refreshCount:b._prerollNum}}))})})}_getFloorValue(a,b,c,d){d=5>=d?"low":"high";b=this._multipliers.get(b?Za.instream:c?Za.stickyOutstream:Za.banner)[d];return a&&a*b}_setRefreshFloors(a){let b=this._floors.getDefaultFloorConfig();
for(let d of a){let {adUnitCode:e,bidPoolId:f}=d;a=Date.now();this._floors.updateBidTTL(e,a,f);var [c]=f?this._prebidMethods.getHighestCpmBidsForPoolId(f):this._prebidMethods.getHighestCpmBids(e);let h=this._config.video.instreamAdUnits.has(e);a=c&&c.cpm;let m=d.adUnitCode.includes("Video_StickyOutstream");if(c=this._getFloorValue(c&&c.cpm,h,m,d.refreshCount))this._floors.setValues(b,e,c),this._floors.setOGRefreshValue(e,a)}this._floors.prioritizeFloorsConfig(b,W.refresh)}get active(){return this.enabled}get enabled(){return!0===
this._floorsExperiment.result.legacy}};Lh=k([p("FloorsRefreshComponent"),v(),l("design:paramtypes",[y,U,Na,V,kb,Xa,Kh])],Lh);let Mh=class extends C{constructor(a,b,c,d,e,f){super();this._slotManager=a;this._videoRequestManager=b;this._floors=c;this._prebidMethods=d;this._floorsExperiment=e;this._spaEventBus=f;this.floorsType=W.session;this._percentile=.6;this._rdx=33;this._defaultSavedBids={Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[],"Video_In-Post_ClicktoPlay_SoundOn":[],Video_Collapse_Autoplay_SoundOff:[],
Video_Individual_Autoplay_SOff:[],Video_Coll_SOff_Smartphone:[]};this._savedBidsRan=!1;this._offEvent=()=>{};this._sessionNonFPV=!1===F.getLocalStorageValue("session_fpv");a=F.getLocalStorageValue("bc");this._savedBids={...this._defaultSavedBids,...(a&&Om(a,this._rdx))}}init(){if(this._sessionNonFPV){let a=this._floors.getDefaultFloorConfig();this._offEvent=this._slotManager.requestingBids.on(b=>{b.filter(c=>Object.keys(this._savedBids).includes(c.location)).forEach(c=>{let d=Oc(this._savedBids[c.location],
this._percentile);this._floors.setValues(a,c.id,d)});this._floors.prioritizeFloorsConfig(a,W.session)});this._videoRequestManager.requestingVideoBids.on(b=>{b.filter(c=>Object.keys(this._savedBids).includes(c.name)).forEach(c=>{let d=Oc(this._savedBids[c.name],this._percentile)||1E-5;this._floors.setValues(a,c.name,d)});this._floors.prioritizeFloorsConfig(a,W.session)})}this._savedBidsRan||this.saveBids()}saveBids(){this._savedBidsRan=!0;this._spaEventBus.routeChanged.on(()=>{this._offEvent();this.init()});
this._slotManager.requestedBids.on(a=>{a.filter(b=>Object.keys(this._savedBids).includes(b.location)).forEach(b=>{this._prebidMethods.addToQueue(()=>{this.saveSlotBids(b)})});F.setLocalStorageValue("bc",nk(this._savedBids,this._rdx))});this._videoRequestManager.requestingVideoBids.on(a=>{a.filter(b=>Object.keys(this._savedBids).includes(b.name)).forEach(b=>{this._prebidMethods.addToQueue(()=>{this.saveVideoSlotBids(b)})});F.setLocalStorageValue("bc",nk(this._savedBids,this._rdx))})}saveSlotBids(a){this._prebidMethods.getBidResponsesForAdUnitCode(a.id).bids.forEach(b=>
{var c=this._savedBids[a.location];1E3<=c.length&&c.splice(Math.floor(Math.random()*c.length),1);this._savedBids[a.location].push(b.cpm)})}saveVideoSlotBids(a){this._prebidMethods.getBidResponsesForAdUnitCode(a.name).bids.forEach(b=>{var c=this._savedBids[a.name];1E3<=c.length&&c.splice(Math.floor(Math.random()*c.length),1);this._savedBids[a.name].push(b.cpm)})}get active(){return this.enabled&&this._sessionNonFPV}get enabled(){return!0===this._floorsExperiment.result.legacy}};Mh=k([p("FloorsSessionComponent"),
v(),l("design:paramtypes",[U,kb,Na,V,Xa,ja])],Mh);let Nh=class extends C{constructor(a,b,c,d){super();this._slotManager=a;this._floors=b;this._prebidMethods=c;this._floorsExperiment=d;this.floorsType=W.lazyBidPool;this._enabledAdUnits=["Content","Recipe","Below_Post"]}init(){this._slotManager.requestingBids.on(a=>{this._prebidMethods.addToQueue(()=>{this._setLazyBidPoolFloors(a.filter(b=>this._enabledAdUnits.includes(b.location)&&!b.refreshCount&&b.lazy&&b.bidPoolId).map(b=>({adUnitCode:b.id,refreshCount:b.refreshCount,
bidPoolId:b.bidPoolId})))})})}_setLazyBidPoolFloors(a){let b=this._floors.getDefaultFloorConfig();for(let c of a){let {adUnitCode:d,bidPoolId:e}=c;a=Date.now();this._floors.updateBidTTL(d,a,e);[a]=e?this._prebidMethods.getHighestCpmBidsForPoolId(e):this._prebidMethods.getHighestCpmBids(d);(a=null===a||void 0===a?void 0:a.cpm)&&this._floors.setValues(b,d,a)}this._floors.prioritizeFloorsConfig(b,W.lazyBidPool)}get active(){return this.enabled}get enabled(){return!0===this._floorsExperiment.result.legacy}};
Nh=k([p("FloorsLazyBidPoolComponent"),v(),l("design:paramtypes",[U,Na,V,Xa])],Nh);let Oh=class extends C{constructor(a,b,c,d,e,f){super();this._floorsConfig=f;this._floorsComponents=[a,b,c,d,e].filter(h=>h.enabled)}init(){this._floorsComponents.forEach(a=>{a.active&&this._floorsConfig.addActiveFloorsType(a.floorsType);void 0!==a.init&&a.init()})}};Oh=k([v(),l("design:paramtypes",[Nh,Ih,Jh,Lh,Mh,Yb])],Oh);let Ph=class extends C{constructor(a,b,c){super();this._config=a;this._spaEventBus=b;this._footerConfigEventBus=
c;this._footerClassNames=["adthrive-comscore","adthrive-footer-message"];this._footer={};this._added()}start(){this._config.footer.elements.length&&(this._footer=document.createElement("div"),this._footer.classList.add(...this._footerClassNames),this._config.footer.elements.sort((a,b)=>a.order-b.order).forEach(({element:a})=>{a instanceof Element?this._footer.insertAdjacentElement("beforeend",a):this._footer.insertAdjacentHTML("beforeend",a)}),(document.querySelector(""===this._config.adOptions.footerSelector?
".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector)||document.body).insertAdjacentElement("beforeend",this._footer),this._setupListeners())}_setupListeners(){this._spaEventBus.routeChanged.once(()=>{document.querySelector(`.${this._footerClassNames.join(".")}`)||this.start()})}_added(){this._footerConfigEventBus.footerElementAdded.on(a=>{this._config.footer.elements.push(a)},{handleEventsAlreadyEmitted:!0})}};Ph=k([p("FooterComponent"),v(),l("design:paramtypes",[y,ja,Mb])],Ph);
let On={"000000":"A","000001":"B","000010":"C","000011":"D","000100":"E","000101":"F","000110":"G","000111":"H","001000":"I","001001":"J","001010":"K","001011":"L","001100":"M","001101":"N","001110":"O","001111":"P","010000":"Q","010001":"R","010010":"S","010011":"T","010100":"U","010101":"V","010110":"W","010111":"X","011000":"Y","011001":"Z","011010":"a","011011":"b","011100":"c","011101":"d","011110":"e","011111":"f",1E5:"g",100001:"h",100010:"i",100011:"j",100100:"k",100101:"l",100110:"m",100111:"n",
101E3:"o",101001:"p",101010:"q",101011:"r",101100:"s",101101:"t",101110:"u",101111:"v",11E4:"w",110001:"x",110010:"y",110011:"z",110100:"0",110101:"1",110110:"2",110111:"3",111E3:"4",111001:"5",111010:"6",111011:"7",111100:"8",111101:"9",111110:"-",111111:"_"},Ed=class extends C{constructor(a,b,c,d){super();this._config=a;this._ccpaComponent=b;this._ortb2=c;this._spaEventBus=d;this.ccpaRequired=this._config.ccpa.required;this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable;this.ccpaOptIn=this._config.ccpa.ccpaOptIn;
this.ccpaOptOut=this._config.ccpa.ccpaOptOut;this.gpcEnabled=this._config.gpc.gpcEnabled;this.gpcUpdated=!1;this.globalPrivacyControl=window.navigator.globalPrivacyControl;this._sectionList=[6,7];this._supportedAPIs=["6:uspv1","7:usnat"];this._usnatFieldOrder=[...Object.values(ea)];this._usnatFields=new Map([[ea.Version,{unencodedVal:1,fieldValLength:6}],[ea.SharingNotice,{unencodedVal:1,fieldValLength:2}],[ea.SaleOptOutNotice,{unencodedVal:1,fieldValLength:2}],[ea.SharingOptOutNotice,{unencodedVal:1,
fieldValLength:2}],[ea.TargetedAdvertisingOptOutNotice,{unencodedVal:1,fieldValLength:2}],[ea.SensitiveDataProcessingOptOutNotice,{unencodedVal:0,fieldValLength:2}],[ea.SensitiveDataLimitUseNotice,{unencodedVal:0,fieldValLength:2}],[ea.SaleOptOut,{fieldValLength:2,optIn:Ua.OptedIn,optOut:Ua.OptedOut}],[ea.SharingOptOut,{fieldValLength:2,optIn:Ua.OptedIn,optOut:Ua.OptedOut}],[ea.TargetedAdvertisingOptOut,{fieldValLength:2,optIn:Ua.OptedIn,optOut:Ua.OptedOut}],[ea.SensitiveDataProcessing,{unencodedVal:[0,
0,0,0,0,0,0,0,0,0,0,0],fieldValLength:24}],[ea.KnownChildSensitiveDataConsents,{unencodedVal:[0,0],fieldValLength:4}],[ea.PersonalDataConsents,{unencodedVal:0,fieldValLength:2}],[ea.MspaCoveredTransaction,{unencodedVal:2,fieldValLength:2}],[ea.MspaOptOutOptionMode,{unencodedVal:0,fieldValLength:2}],[ea.MspaServiceProviderMode,{unencodedVal:0,fieldValLength:2}],[ea.SubSectionType,{unencodedVal:0,fieldValLength:2}],[ea.Gpc,{unencodedVal:!!navigator.globalPrivacyControl,fieldValLength:1}]]);this._pingData=
{gppVersion:"1.0",cmpStatus:"loaded",cmpDisplayStatus:"visible",cmpId:3,supportedAPIs:this._supportedAPIs};this._extendedPingData={...this._pingData,gppVersion:"1.1",signalStatus:"ready",sectionList:this._sectionList,applicableSections:this._sectionList,gppString:this._createGPPString(),parsedSections:{uspv1:this._config.ccpa.privacyString||null,usnat:this._getUSNatObj()}};this._sections={tcfeuv1:null,tcfeuv2:null,"":null,"--":null,tcfca:null,uspv1:this._config.ccpa.privacyString||null,usnat:this._getUSNatObj(),
usca:null,usva:null,usco:null,usut:null,usct:null}}init(){window.__gpp=this._gpp.bind(this);this._addLocatorFrame();this._enableEvents();this._setPrebidGPPString();this._spaEventBus.routeChanged.on(()=>{this._setPrebidGPPString()})}_triggerEventCallbacks(a){let b=window.__gpp.events;if(b&&b.length){let c=this._extendedPingData;b.forEach(d=>{let e={eventName:a,listenerId:d.id,data:this._getEventData(a),pingData:c};d.callback(e)})}}_getEventData(a){if("sectionChange"===a)return this._supportedAPIs}_enableEvents(){this._config.ccpa.consentChange.on(()=>
{this._triggerEventCallbacks("sectionChange");this._setPrebidGPPString()})}_setPrebidGPPString(){let a=this._createGPPString();this._ortb2.addOrtb2Reg(a,this._sectionList)}_addEventListner(a,b,c){window.__gpp.events=window.__gpp.events||[];"lastId"in window.__gpp||(window.__gpp.lastId=0);window.__gpp.lastId++;let d=window.__gpp.lastId;window.__gpp.events.push({id:d,callback:a,parameter:b});return{eventName:"listenerRegistered",listenerId:d,data:!0,pingData:c?this._extendedPingData:this._pingData}}_removeEventListner(a){let b=
!1;window.__gpp.events=window.__gpp.events||[];for(let c=0;c<window.__gpp.events.length;c++)if(window.__gpp.events[c].id==a){window.__gpp.events.splice(c,1);b=!0;break}return{eventName:"listenerRemoved",listenerId:a,data:b}}_createUSNatString(){let a=this._usnatFieldOrder.reduce((b,c)=>`${b}${this._getUSNatData(c,!0)}`,"");if(66>a.length){let b=66-a.length;for(let c=0;c<b;c++)a=`${a}0`}return(a.match(/.{6}/g)||[]).map(b=>On[b]||"A").join("")}_padStart(a,b){return a.padStart?a.padStart(b,"0"):`${a}${Array(b).join("0")}`}_encodedUSNat(a,
b){a=this._usnatFields.get(a)&&this._usnatFields.get(a).fieldValLength||0;b=(+b>>>0).toString(2);return this._padStart(b,a)}_getUSNatData(a,b=!1){var c=this._usnatFields.get(a);if(!c)return"";if(void 0!==c.unencodedVal)return b?this._encodedUSNat(a,c.unencodedVal):c.unencodedVal;c=this._config.ccpa.privacyString===this.ccpaOptOut?c.optOut:c.optIn;return b?this._encodedUSNat(a,c||"0"):c}_getUSNatObj(){return this._usnatFieldOrder.map(a=>{let b=this._getUSNatData(a);return{[a]:b}}).reduce((a,b)=>({...a,
...b}),{})}_getGPPData(){return{sectionId:3,gppVersion:1,sectionList:this._sectionList,applicableSections:this._sectionList,gppString:this._createGPPString(),pingData:this._pingData}}_hasSection(a){return this._sections[a]?!0:!1}_getSection(a){return this._sections[a]?this._sections[a]:null}_callUSPAPI(a){return this._ccpaComponent.uspapi(a,1,(b,c)=>{if(c)return b})}_getField(a){var b=a.split(".");a=b[0];b=b[1];if(this._hasSection(a)){if("uspv1"===a)return this._callUSPAPI(b);if("usnat"===a)return this._getUSNatData(b)}else return null}_addLocatorFrame(){if(null===
document.getElementById("__gppLocator")){let a=document.createElement("iframe");a.style.display="none";a.id="__gppLocator";a.name="__gppLocator";document.body.appendChild(a);window.__gpp_msghandler=b=>{let c="string"===typeof b.data,d;try{d=c?JSON.parse(b.data):b.data}catch(e){d=null}if("object"===typeof d&&null!==d&&"__gppCall"in d){let e=d.__gppCall;window.__gpp(e.command,(f,h)=>{f={__gppReturn:{returnValue:f,success:h,callId:e.callId}};b.source.postMessage(c?JSON.stringify(f):f,"*")},e.parameter)}}}"__gpp"in
window&&"function"===typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}_createGPPString(){let a=this._callUSPAPI("getUSPData").uspString,b=this._createUSNatString();return`${"DBABzw"}~${a}~${b}`}_gpp(a,b,c){let d="function"===typeof b;switch(a){case "ping":return d?b(this._extendedPingData,!0):this._pingData;case "addEventListener":return this._addEventListner(b,c);case "removeEventListener":return this._removeEventListner(c);
case "hasSection":if(c)return d?b(this._hasSection(c),!0):this._hasSection(c);case "getSection":if(c)return a=this._getSection(c),d?b(a,!0):a;case "getField":if(c)return d?b(this._getField(c),!0):this._getField(c);case "getGPPData":return d?b(this._getGPPData()):this._getGPPData()}}get enabled(){return"US"===this._config.context.country}};Ed=k([p("GPPComponent"),v(),l("design:paramtypes",[y,yd,Db,ja])],Ed);let Qh=class extends C{constructor(a,b){super();this._slotManager=a;this._slots=b}init(){let a=
!1;this._slots.bidServed.on(b=>{b.servedPrebidBidResponse&&"gumgum"===b.servedPrebidBidResponse.bidder&&"Footer"===b.location&&(a=!0)});this._slotManager.refreshing.on(b=>{b.filter(c=>"Footer"===c.location)&&a&&(a=!1,window.GUMGUM.removeISAd())})}};Qh=k([p("GumGumInScreenComponent"),v(),l("design:paramtypes",[U,la])],Qh);let Rh=class extends C{constructor(a,b,c){super();this._emailCaptureHandler=a;this._config=b;this._gdprEnforcement=c;this._hasRun=!1}init(){this._config.identityApi.optIn.on(({data:a,
cb:b})=>this.identityOptIn(a,b).catch(()=>{}));window.addEventListener("message",a=>{if(window===window.top&&a&&a.origin===window.origin&&a.data&&"adthriveIdentityAPI"===a.data.message&&a.data.info){let b={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(a.data.info,c=>{var d;a.source instanceof MessagePort||a.source instanceof ServiceWorker||(b.response=c,null===(d=a.source)||void 0===d?void 0:d.postMessage(b,a.origin))}).catch(()=>{})}},!1)}start(){this._config.identityApi.apiReady.emit()}validateData(a){if(!a.source||
"string"!==typeof a.source||20<a.source.length)throw Error("source required with 20 characters or less");if(!a.plainText&&!a.sha256&&!a.sha1)throw Error("plainText, sha256 or sha1 required");if(a.plainText&&("string"!==typeof a.plainText||!dk(a.plainText.toLowerCase().replace(/\s/g,""))))throw Error(`plainText not string or not valid email: ${a.plainText}`);if(a.sha256&&("string"!==typeof a.sha256||64!==a.sha256.length))throw Error(`sha256 not string or not encoded properly: ${a.sha256}`);if(a.sha1&&
("string"!==typeof a.sha1||40!==a.sha1.length))throw Error(`sha256 not string or not encoded properly: ${a.sha1}`);}categorizeSource(a){let b=a.source;"slickstream"!==a.source&&(r.event("IdentityAPI","optIn",`source:${b}`),a.source="api")}buildPII(a){let b={source:`${this._emailCaptureHandler.checkSources(a.source)}_c`};a.plainText&&(b.email=a.plainText);a.sha256&&(b.sha256Hash=a.sha256);a.sha1&&(b.sha1Hash=a.sha1);return b}async identityOptIn(a,b){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");
if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled&&!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.");this.validateData(a);this.categorizeSource(a);let c=this.buildPII(a);this._emailCaptureHandler.emailCaptured.emit(c);b({success:!0,data:{message:"OK"}});
this._hasRun=!0}catch(c){b({success:!1,data:{message:c.message}})}}};Rh=k([p("IdentityAPIComponent"),v(),l("design:paramtypes",[oc,y,lb])],Rh);let Sh=class extends J{init(){this._key="JumpToTracker";this._default=!1}};Sh=k([q()],Sh);var Fd;(function(a){a.Recipe="Recipe";a.Video="Video"})(Fd||(Fd={}));class kl{constructor(){this._elements=[];this._hasFired=!1;this._buttonClicked=this._processButtonClicked.bind(this)}init(){this._addElementListeners()}_processButtonClicked(a){this._hasFired||this._logEvent(a.target.classList);
this._cleanup()}_logEvent(a){r.event("JumpToTracker","_logEvent",this.trackerType.toLowerCase(),a)}_cleanup(){for(let a of this._elements)a.removeEventListener("click",this._buttonClicked)}_addElementListeners(){this.setElements()}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll(this.selectors.join()));for(let a of this._elements)a.addEventListener("click",this._buttonClicked)}}let Th=class extends kl{constructor(){super();this.trackerType=Fd.Recipe;this.selectors=
".wprm-recipe-jump #jump-to-recipe #wprm-jump .wprm-jump .tasty-recipes-jump-link .mv-create-jtr .jump-to-recipe".split(" ");this.init()}};Th=k([v(),l("design:paramtypes",[])],Th);let Uh=class extends kl{constructor(){super();this.trackerType=Fd.Video;this.selectors=[".wprm-recipe-jump-video"];this.init()}};Uh=k([v(),l("design:paramtypes",[])],Uh);let Vh=class extends C{constructor(a){super();this._jumpToTrackerExperiment=a}start(){E.resolve(Th);E.resolve(Uh)}get enabled(){return this._jumpToTrackerExperiment.result}};
Vh=k([v(),p("JumpToTrackerComponent"),l("design:paramtypes",[Sh])],Vh);let Wh=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._videoEventProxy=c;this._renderedSlotKey=new Map;this._filterKeys=new Set("abgroup pvk bucket branch deployment siteName siteId site_code mcmp".split(" "));this._enabled=this._config.impressionLog.enabled}init(){this._gam.slotRenderEnded.on(a=>this._bannerSlotRenderEnded(a));this._videoEventProxy.videoSlotRendered.on(this._videoSlotRenderEnded.bind(this))}get enabled(){return this._enabled}_getDecodedURI(a){try{return decodeURIComponent(a)}catch(b){return""}}_getTargetingData(a){a=
fb(a.split("?")[1]);return{custParams:this._getDecodedURI(a.get("cust_params")||""),iu:a.get("iu")||"",sz:this._sizeStringToArray(a.get("sz"))||[1,1]}}_sizeStringToArray(a){if(a)return a.split("x").map(b=>parseInt(b))}_bannerSlotRenderEnded({event:a,slot:b}){let c=a.slot.getAdUnitPath(),d=tb();this._renderedSlotKey.set(c,d);a={adUnitPath:c,advertiserId:a.advertiserId,agnosticCreativeId:a.sourceAgnosticCreativeId,agnosticLineItemId:a.sourceAgnosticLineItemId,campaignId:a.campaignId,companyIds:a.companyIds,
creativeId:a.creativeId,isEmpty:a.isEmpty,lineItemId:a.lineItemId,serviceName:a.serviceName,siteTargeting:this._filterTargeting(this._gam.getTargetingMap()),size:a.size,slotElementId:b.id,slotKey:d,slotTargeting:this._filterTargeting(b.getTargetingMap()),yieldGroupIds:a.yieldGroupIds,transactionId:b.transactionId};this._logImpressionEvent(a)}_videoSlotRenderEnded(a){let b=this._getTargetingData(a.tag);a={adUnitPath:b.iu,creativeId:a.gamCreativeId,isEmpty:a.isEmpty,lineItemId:a.gamLineItemId,size:b.sz,
slotElementId:a.adUnitName,slotKey:tb(),slotTargeting:this._filterTargeting(pk(b.custParams))};this._logImpressionEvent(a)}_filterTargeting(a){return Object.keys(a).filter(b=>!this._filterKeys.has(b)&&a[b].length).reduce((b,c)=>{b[c]=a[c];return b},{})}_logImpressionEvent(a){r.event("SlotRenderEnded","adImpression",a)}};Wh=k([p("ImpressionLogComponent"),v(),l("design:paramtypes",[y,D,Ya])],Wh);let Xh=class extends C{constructor(a,b,c){super();this._googleAdManager=a;this._config=b;this._slotManager=
c;this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on(({slot:a,event:b})=>{this.slotRenderEnded(a,b)})}slotRenderEnded(a,b){var c;!b.isEmpty&&2===(null===(c=b.size)||void 0===c?void 0:c.length)&&a.element&&this._locations.includes(a.location)&&a.sticky&&(a.element.setAttribute("closable","true"),this._addCloseButton(a))}_addCloseButton(a){let {element:b,location:c,refreshCount:d}=a;var e=b.hasAttribute("closable");let f=b.querySelector(".adthrive-close");e&&!f&&(e=document.createElement("span"),
e.innerHTML="&times;",e.className="adthrive-close",e.addEventListener("click",()=>{let h=document.createEvent("Event");"Footer"===a.location&&sessionStorage.setItem("adthrive_footer_closed","true");h.initEvent(`adthrive${c}Close`,!0,!0);b.parentElement&&(window.dispatchEvent(h),b.parentElement.removeChild(b),r.event("CloseButtonComponent","logCloseFooter","User clicked footer close button",{nref:d}),this._slotManager.destroy(b.id))}),b.appendChild(e))}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?
"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};Xh=k([p("CloseButtonComponent"),v(),l("design:paramtypes",[D,y,U])],Xh);var hm=/\s/,im=/^\s+/,Rj=0/0,mm=/^[-+]0x[0-9a-f]+$/i,jm=/^0b[01]+$/i,km=/^0o[0-7]+$/i,lm=parseInt,om=Math.max,nm=Math.min;class ll{constructor(a,b){this._overlap=null;this._stuck=!1;this._cutoff=this._start=0;this._cutoffBuffer=20;this._stickyClass="adthrive-stuck";
this._element=a.element;b&&(this._overlap=a.stickyOverlapSelector?document.querySelector(a.stickyOverlapSelector):this.findOverlap(this._element));window.addEventListener("scroll",le(()=>this.update(),500));window.addEventListener("resize",le(()=>{this.unstick();this.update();this.check()},500));window.addEventListener("scroll",()=>this.check())}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){let b=
window.pageYOffset;var a=this._element.offsetHeight+this._cutoffBuffer;a=0!==this._cutoff&&b+a>this._cutoff;this._start<b&&!a?this.stick():this.unstick()}}stick(){if(!this._stuck){let a=getComputedStyle(this._element,null),b=this._element.parentElement;if(b){let c=getComputedStyle(b,null);b.style.minHeight=c.getPropertyValue("height")}this._element.style.width||(this._element.style.width=a.getPropertyValue("width"));this._element.classList.add(this._stickyClass);this._stuck=!0}}unstick(){this._stuck&&
(this._element.classList.remove(this._stickyClass),this._stuck=!1)}getTop(a){return a.getBoundingClientRect().top+window.pageYOffset}findOverlap(a){let b=null;for(;a.parentElement;){a=a.parentElement;let c=a.nextElementSibling;for(;c&&!Qb(c);)c=c.nextElementSibling;c&&0<c.offsetTop&&(!b||c.offsetTop<b.offsetTop)&&(b=c)}return b}}let Yh=class extends J{constructor(){super(...arguments);this._expConfigABGroup=""}init(){let a=E.resolve(y);this._key="StickyOutstreamTopCenter_"+String(a.site.id);this._expConfigABGroup=
"sotc_"+String(a.site.id);this._default=!1}};Yh=k([p("StickyOutstreamTopCenterMultiSiteExperiment"),q()],Yh);let Zh=class extends J{init(){let a=E.resolve(Yh),b=a.key,c=this._coreExperimentConfig.getCoreExperiment(b);this._key=c?b:"StickyOutstreamTopCenter";this.setABGroup(!0,c?a._expConfigABGroup||"":"sotc");this._default=!1}};Zh=k([p("StickyOutstreamTopCenterExperiment"),q()],Zh);class $h{constructor(a,b,c,d,e,f,h){this._config=a;this._slotManager=b;this._slot=c;this._eventProxy=d;this._videoCloseButton=
e;this._amazonMethods=f;this._gam=h;this._isClosed=this._isRendered=!1;this._isTopCenterExperiment=!0;this._isMobile="phone"===this._config.context.device;this._prebidAmazonAdvertiserIds=[a.prebid.advertiserId,a.amazon.advertiserId];a=this._config.video.stickyOutstreamSettings.mobileLocation;this._isTopCenterExperiment=this._isMobile&&"top-center"===a?E.resolve(Zh).result:!1;this._mobileHeaderSelector=this._config.video.stickyOutstreamSettings.mobileHeaderSelector}setup(){this._isRendered||(this._isRendered=
!0,this._appendCloseButton(),this._activate());this._slot.setSlotTargetingFlag("fref",[`${this._slot.noAdRefreshCount}`],!0)}get renderState(){return this._isRendered}_activate(){this._handleWidthBreak();this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this));let a=this._slot.element.parentElement;if(a){a.classList.add("adthrive-sticky-outstream-idle");if(this._isTopCenterExperiment){a.classList.add("adthrive-sticky-outstream-top-center");var b=this._mobileHeaderSelector?gb(this._mobileHeaderSelector):
null;if(b&&b.valid&&b.elements&&0<b.elements.length){b=b.elements[0].getBoundingClientRect().height;a.style.setProperty("top",`${b}px`,"important");let c=gb("#adthrive-sticky-outstream-close");c.valid&&c.elements&&0<c.elements.length&&c.elements[0].style.setProperty("top",`${10+b}px`,"important")}}this._isMobile&&"bottom-left"===this._config.video.stickyOutstreamSettings.mobileLocation?a.classList.add("adthrive-sticky-outstream-mobile-left"):a.classList.add("adthrive-sticky-outstream-mobile-right");
this._gam.slotRequested.on(this._handleSlotRequested.bind(this));this._gam.slotRenderEnded.on(this._handleSlotRenderEnded.bind(this))}}_handleSlotRenderEnded({event:a,slot:b}){"Video_StickyOutstream"!==b.location||a.isEmpty||a.advertiserId&&this._prebidAmazonAdvertiserIds.includes(a.advertiserId)||!(a=this._slot.element.parentElement)||(a.classList.add("adthrive-sticky-outstream-active"),a.classList.remove("adthrive-sticky-outstream-idle"))}_handleSlotRequested({slot:a}){"Video_StickyOutstream"===
a.location&&(a=this._slot.element.parentElement)&&!a.classList.contains("adthrive-sticky-outstream-idle")&&(a.classList.remove("adthrive-sticky-outstream-active"),a.classList.add("adthrive-sticky-outstream-idle"))}_appendCloseButton(){var a;let b=this._slot.element,c=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),"sticky outstream","adthrive-sticky-outstream-close",!1,this._isTopCenterExperiment);null===(a=b.parentNode)||void 0===a?void 0:a.insertBefore(c,b);c.style.display=
"none";setTimeout(()=>{c.style.display="inline-flex"},this._config.video.closeButtonTimeout)}_logPlayerClose(a){$h.closeEvent.emit();r.event("StickyOutstream","handleClose",{device:pa()?"desktop":"mobile",closeReason:a})}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(a){if(!this._isClosed){this._isClosed=!0;var b=this._slot.element,c=b.parentElement;this._logPlayerClose(a);c&&(c.removeChild(b),c.classList.remove("adthrive-sticky-outstream-active"),
this._slotManager.destroy(b.id),this._removeListener())}}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this));this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device&&!this._isTopCenterExperiment){let a=ve();this._slot.element.parentElement.style.setProperty("top","auto","important");this._slot.element.parentElement.style.setProperty("bottom",
`${a}px`,"important")}}}$h.closeEvent=new z;let tc=class extends T{constructor(){super(...arguments);this.colorMap={b:{background:"#000000",highlight:"#ffffff"},w:{background:"#ffffff",highlight:"#000000"},g25:{background:"#f7f7f7",highlight:"#080808"},g50:{background:"#3f3f3f",highlight:"#ffffff"}}}init(){this._key="TopCenterMobileBackground"}isEnabled(){return super.isEnabled()&&I()}color(){if(this.result){if(this.colorMap[this.result])return this.colorMap[this.result];r.error("InstreamPlayer",
"get topBackgroundColor","invalid result:",this.result)}return null}get backgroundColor(){let a=this.color();return a?a.background:null}get buttonTitleColor(){let a=this.color();return a?a.highlight:null}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],tc.prototype,"run",null);tc=k([p("TopCenterMobileBackgroundCoreExperiment"),q()],tc);let Gd=class extends C{constructor(a){super();this._topCenterMobileBackgroundCoreExperiment=a;this._isTopCollapse=
this._isInstreamExperiment=this._isButtonOutsideContainerTop=this._isButtonInsideContainer=this._hasTitleBar=!1}createDefaultButton(a){let b=document.createElement("div");b.innerHTML="<span>&times;</span>";b.className="adthrive-wrapper-close";b.style.display="none";b.id="adthrive-collapse-close";b.onclick=a;return b}createPlayerCloseButton(a,b,c,d=!1,e=!1){this._hasTitleBar=d;this._isTopCollapse=e;this._isInstreamExperiment="instream"===b||e;this._isButtonOutsideContainerTop="instream"===b;this._isButtonInsideContainer=
"sticky outstream"===b&&!e;d=this._getButtonClasses();b=this._getSvgOptions(this._isTopCollapse&&"instream"===b?this._topCenterMobileBackgroundCoreExperiment.buttonTitleColor:null);c=this._createCloseButton(d,c,b);c.onclick=a;return this._isButtonInsideContainer?this.applyCloseButtonWrapper(c):c}_getButtonClasses(){let a=[];this._isButtonOutsideContainerTop&&a.push("adthrive-wrapper-float-close");this._isInstreamExperiment&&(a=[...a,...this._getInstreamClasses()]);return a}_getInstreamClasses(){let a=
["adthrive-instream-close"];this._isTopCollapse?a.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&a.push("adthrive-top-left-outer","adthrive-float-left");return a}_getSvgOptions(a){let b="white",c="black";if(this._isButtonInsideContainer||this._isTopCollapse)b="transparent",c="white";a&&(c=a);return{fillColor:b,strokeColor:c}}_buildNewCloseButton(a,b){a.appendChild(this._createCloseButtonX(b));a.appendChild(this._createCloseButtonCircleThatGoesAroundTheX(b))}_createCloseButton(a,
b,c){let {fillColor:d,strokeColor:e}=null!==c&&void 0!==c?c:{fillColor:"white",strokeColor:"black"};a=this._createButtonHtml(a,b);b=this._createSvg(d);this._isTopCollapse?this._buildNewCloseButton(b,e):(c=this._createPath(e),b.appendChild(c));a.appendChild(b);return a}_createButtonHtml(a,b){let c=document.createElement("div");c.className=a.join(" ");c.id=b;return c}_createSvg(a){let b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("width","18");b.setAttribute("height",
"18");b.setAttribute("fill",a);return b}_createPath(a){let b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7");b.setAttribute("stroke",a);b.setAttribute("stroke-width","1");return b}_createCloseButtonCircleThatGoesAroundTheX(a){let b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("cx","9");b.setAttribute("cy","9");b.setAttribute("r","8");b.setAttribute("stroke",
a);b.setAttribute("stroke-width","2");b.setAttribute("fill","none");return b}_createCloseButtonX(a){let b=document.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("x","9");b.setAttribute("y","9");b.setAttribute("text-anchor","middle");b.setAttribute("stroke",a);b.setAttribute("fill",a);b.setAttribute("stroke-width","1px");b.setAttribute("font-size","13px");b.setAttribute("alignment-baseline","middle");b.textContent="x";return b}applyCloseButtonWrapper(a){let b=document.createElement("div"),
c=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];this._hasTitleBar?c.push("adthrive-top-left-inner-wrapper"):c.push("adthrive-top-left-inner");b.classList.add(...c);b.appendChild(a);return b}};Gd=k([p("VideoCloseButtonComponent"),v(),l("design:paramtypes",[tc])],Gd);let ai=class extends J{init(){this._key="StickySidebarFeatureFlag";this._default=!1}};ai=k([p("StickySidebarExperiment"),q()],ai);let Hd=class extends C{constructor(a,b,c,d,e,f,h,m,n,u,w){super();this._slots=a;this._config=
b;this._slotManager=c;this._eventProxy=d;this._videoCloseButton=e;this._gam=f;this._outstream=h;this._amazonMethods=m;this._sticky=[];this._slots.added.on(t=>{if((!u.result||"Recipe"!==(null===t||void 0===t?void 0:t.location))&&t&&t.sticky){t.element.classList.add("adthrive-sticky");if("Sidebar"===t.location){let A=this._config.adOptions.dynamicStickySidebarEnabled&&w.result&&t.sequence&&9<=t.sequence;n.result&&t.sequence&&5>=t.sequence?Nb(t.element):A?t.element.classList.contains("adthrive-sticky-sidebar")?
Nb(t.element):this._sticky.push(new ll(t,!0)):this._sticky.push(new ll(t,!0))}"Video_StickyOutstream"===t.location&&(this._stickyOutstream=new $h(this._config,this._slotManager,t,this._eventProxy,this._videoCloseButton,this._amazonMethods,this._gam))}});if(this._amazonMethods.isAmazonLoaded()&&this._config.amazon.enabled)this._gam.slotOnload.on(({slot:t})=>{let A=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===t.location&&A&&(this._outstream.callRendererWithUrl(A,t.id,
!0),delete window.apsBidObject)})}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};Hd=k([p("StickyComponent"),v(),l("design:paramtypes",[la,y,U,Ya,Gd,D,sd,hg,ai,Bb,Ad])],Hd);let bi=class extends C{constructor(a,b,c,d){super();this._config=a;this._slotManager=b;this._sticky=c;this._intersectionObserverManager=d}init(){let a=this._slotManager;a.added.on(b=>{for(let c of b)c.lazy?(D.pushToQueue(()=>{c.googleTagSlot.setTargeting("lazy",
"true")}),this._intersectionObserverManager.observe(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent,c)):"Video_StickyOutstream"===c.location?(this._sticky.stickyOutstreamReady(),a.display([c]).catch(d=>{r.error("GoogleLazyLoadComponent","init","display stickyOutstream slot",d)})):(D.pushToQueue(()=>{c.googleTagSlot.setTargeting("lazy","false")}),a.display(c).catch(d=>{r.error("GoogleLazyLoadComponent","init","display non lazy slot",d)}))})}};bi=k([p("GoogleLazyLoadComponent"),v(),l("design:paramtypes",
[y,U,Hd,nc])],bi);let ci=class extends C{constructor(a){super();this._slotManager=a}init(){this._slotManager.added.on(a=>{D.pushToQueue(()=>{for(let b of a){let c=ye(b)||0;b.hvp=c;50<=c&&b.setTargeting({key:"hvp",value:c.toString()})}})});this._slotManager.refreshing.on(a=>{D.pushToQueue(()=>{for(let b of a)if(2>=b.refreshCount&&(!b.hvp||80>b.hvp)){let c=ek(b)||0;b.hvp=c;60<=c&&b.setTargeting({key:"hvp",value:`${c}`})}})})}};ci=k([p("HvpComponent"),v(),l("design:paramtypes",[U])],ci);let di=class{constructor(a,
b){this._config=a;this._gam=b;this._config.marmalade.selectorMatches=this.filterBasedOnSettings()}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(a){r.error("MarmaladeInjector","inject",a)}return[]}filterBasedOnSettings(){let a=this._config.adTypes,b=I()?a.inRecipeRecommendationMobile:a.inRecipeRecommendationDesktop,c=I()?a.sponsorTileMobile:a.sponsorTileDesktop;return this._config.marmalade.selectorMatches.filter(({adUnit:d})=>"Native_Recipe"===
d.location?(b&&this._gam.setTargetingFlag("irrEligible",["true"],!0),b):"Sponsor_Tile"===d.location?(c&&this._gam.setTargetingFlag("stEligible",["true"],!0),c):!0)}processMatch(a,b){let {adUnit:c,match:d}=b;b=this.getElementId(c.location,c.sequence);!a.some(e=>e.location===c.location&&e.sequence===c.sequence)&&(b=this.addAd(d,b,c.position,c.classNames))&&(b=new Gk(c.location,c.sequence,c.size,b,!1,c.lazy),a.push(b));return a}getElementId(a,b){return[this._config.gam.prefix,a,b].filter(sb).join("_")}addAd(a,
b,c,d=[]){d=`<div id="${b}" class="adthrive-ad ${d.join(" ")}"></div>`;a.insertAdjacentHTML(c,d);return document.getElementById(b)}};di=k([p("MarmaladeInjector"),v(),l("design:paramtypes",[y,D])],di);let ei=class extends C{constructor(a,b,c,d,e,f){super();this._config=a;this._marmaladeInjector=b;this._slotManager=c;this._gam=d;this._prebidMethods=e;this._eventBus=f;this._siteCodeObject={};this._mcmp=this._config.marmalade.mcmp.filter(Ta);this._siteCodes=this._config.marmalade.siteCodes.filter(Ta);
this._siteCodeObject=this._siteCodes.reduce((h,m)=>{h[m]="True";return h},{})}init(){this._eventBus.marmaladeResponseLoaded.on(()=>{this._initializeMarmalade()});this._addDynamicSlots();this._addFlpMessaging();this._setPageLevelTargeting();this._setIXTargeting();let a=()=>{this._setMcmpTargeting();this._setIXTargeting()};this._config.marmalade.rfDataProcessed.emitted?a():this._config.marmalade.rfDataProcessed.on(()=>a())}_initializeMarmalade(){this._mcmp=this._config.marmalade.mcmp.filter(Ta);this._siteCodes=
this._config.marmalade.siteCodes.filter(Ta);this._siteCodeObject=this._siteCodes.reduce((a,b)=>{a[b]="True";return a},{});this.init()}_getRfCodes(a){let b=[];if(a){let c=this._config.marmalade;[...c.rfMcmpCodes,...c.rfIabCodes].forEach(d=>{let e=d[0];d[1].includes(a)&&b.push(e)})}return b}_setMcmpTargeting(){let a=this._getRfCodes("gam");this._gam.setTargeting({key:"mcmp",value:[...this._mcmp,...a]})}_setIXTargeting(){let a=this._getRfCodes("ix");Pb({MCMP:[...a,...this._mcmp].join("#MCMP:"),...this._siteCodeObject},
this._prebidMethods)}_setPageLevelTargeting(){this._slotManager.requestingBids.once(()=>{this._gam.setTargetingFlag("rf",[String(this._eventBus.recencyFrequencyDataSet.emitted)])});this._setMcmpTargeting();this._gam.setTargeting({key:"site_code",value:this._siteCodes});this._gam.setTargeting({key:"marmalade",value:this._config.marmalade.loaded?"true":"false"})}_addDynamicSlots(){let a=this._marmaladeInjector.inject();a.forEach(b=>b.refreshInterval=0);if(0<a.length)this._gam.started.on(()=>this._slotManager.add(a).catch(b=>
{r.error("MarmaladeComponent","init",b)}))}_addFlpMessaging(){let a=this._config.marmalade.flpProdIds.filter(Ta);a&&Mm(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:a})}get enabled(){return!this._config.disableAds.all}};ei=k([p("MarmaladeComponent"),v(),l("design:paramtypes",[y,di,U,D,V,Ga])],ei);let fi=class extends J{init(){this._key="MagniteCarbon";this._default=!1}};fi=k([p("MagniteCarbonExperiment"),q()],fi);let gi=class extends C{constructor(a,b,c){super();
this._magniteCarbonExperiment=a;this._prebidMethods=b;this._config=c;this.ANALYTICS_VERSION="v1.0";this.PROFILE_ID_KEY="carbon_ccuid";this.PROFILE_ID_COOKIE="ccuid";this.SESSION_ID_COOKIE="ccsid";this.DAY_MS=864E5;this.MINUTE_MS=6E4;this.PARENT_ID="8fea659f19";this.ANALYTICS_HOST="https://pb-ing.ccgateway.net";this.sessionId=this.profileId=this.pageViewId="";this._pageEngagement={ttl:60,count:0,id:0,startTime:0,timeLastEngage:0};this.auctionEndEventCount=0}async init(){this._pageEngagement.id=this._generateUUID();
this._pageEngagement.startTime=Date.now();this._pageEngagement.timeLastEngage=Date.now();this.pageViewId=this._generateUUID().toString();this.profileId=this._getProfileId();this.sessionId=this._getSessionId();let a=await this._createBaseEngagementEvent();this._sendEngagementEvent(a,"page_load");this._prebidMethods.onEvent("auctionEnd",()=>{void this._auctionEndEvent()});this._prebidMethods.onEvent("tcf2Enforcement",b=>{void this.tcf2EnforcementEvent(b)})}async tcf2EnforcementEvent(a){var b,c,d;if(0<
(null===(b=a.storageBlocked)||void 0===b?void 0:b.length)||0<(null===(c=a.biddersBlocked)||void 0===c?void 0:c.length)||0<(null===(d=a.analyticsBlocked)||void 0===d?void 0:d.length))this._registerEngagement(),b=await this._createBaseEngagementEvent(),b.tcf_events=a,this._sendEngagementEvent(b,"tcf_enforcement")}async _auctionEndEvent(){this.auctionEndEventCount++;if(1===this.auctionEndEventCount){this._registerEngagement();let a=await this._createBaseEngagementEvent();this._sendEngagementEvent(a,
"auction_end")}this._prebidMethods.offEvent("auctionEnd",this._auctionEndEvent.bind(this))}async _createBaseEngagementEvent(){let a={profile_id:this.profileId,session_id:this.sessionId,pageview_id:this.pageViewId,engagement_id:this._pageEngagement.id,engagement_count:this._pageEngagement.count,engagement_ttl:this._pageEngagement.ttl,start_time:this._pageEngagement.startTime,end_time:Date.now(),script_id:window.location.host,url:window.location.href,referrer:document.referrer,consent:this._getConsentData()},
b=await this.getExternalIds();a.external_ids=b;return a}_registerEngagement(){let a=Date.now(),b=(a-this._pageEngagement.timeLastEngage)/1E3;this._pageEngagement.timeLastEngage=a;b<this._pageEngagement.ttl||(this._pageEngagement.count++,this._pageEngagement.startTime=a,this._pageEngagement.id=this._generateUUID())}handleGdprConsent(){"function"===typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,a=>{if(a&&a.tcString&&a.tcString.length)return a.tcString});return""}_getConsentData(){var a;let b=
null!==(a=this._config.ccpa.privacyString)&&void 0!==a?a:"";return{gdpr_consent:this._config.gdpr.enabled?this.handleGdprConsent():"",ccpa_consent:this._config.ccpa.required?b:""}}async getExternalIds(){let a={},b=[];await this._prebidMethods.waitForQueue().then(c=>{!0===c&&(b=this._prebidMethods.getUserIdsAsEids());b.forEach(d=>{d.source&&(null===d||void 0===d?0:d.uids.length)&&(a[d.source]=d.uids.map(e=>e.id))})});return a}_sendEngagementEvent(a,b){fetch(`${this.ANALYTICS_HOST}/${this.ANALYTICS_VERSION}/parent/${this.PARENT_ID}/engagement/trigger/${b}`,
{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}).then(c=>c.json()).then(c=>{try{this._updateProfileId(c)}catch(d){r.error("MagniteCarbonComponent","importScript","unable to parse API response")}}).catch(c=>r.error("MagniteCarbonComponent","importScript",c))}_updateProfileId(a){(null===a||void 0===a?0:a.update)&&""!=(null===a||void 0===a?void 0:a.id)&&(this.setCookie(this.PROFILE_ID_COOKIE,a.id,(new Date(Date.now()+89*this.DAY_MS)).toString(),
"Lax"),F.setLocalStorageValue(this.PROFILE_ID_KEY,a.id,!1))}setCookie(a,b,c,d){document.cookie=`${a}=${b}; SameSite=${d}; Secure; path=/; expires=${c}`}getCookie(a){return ha(a)}_getProfileId(){let a=(new Date(Date.now()+89*this.DAY_MS)).toUTCString();var b=F.getLocalStorageValue(this.PROFILE_ID_KEY);let c=this.getCookie(this.PROFILE_ID_COOKIE);if(b)return this.setCookie(this.PROFILE_ID_COOKIE,b,a,"Lax"),b;if(c)return F.setLocalStorageValue(this.PROFILE_ID_KEY,c,!1),c;b=this._generateUUID();F.setLocalStorageValue(this.PROFILE_ID_KEY,
b,!1);this.setCookie(this.PROFILE_ID_COOKIE,b,a,"Lax");return b.toString()}_getSessionId(){let a=(new Date(Date.now()+5*this.MINUTE_MS)).toUTCString();var b=this.getCookie(this.SESSION_ID_COOKIE);if(b&&""!=b)return this.setCookie(this.SESSION_ID_COOKIE,b,a,"Lax"),b;b=this._generateUUID();this.setCookie(this.SESSION_ID_COOKIE,b,a,"Lax");return b.toString()}_generateUUID(a){let b;b=window&&window.crypto&&void 0!==window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random();
return a?(a^b>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,this._generateUUID)}get enabled(){return this._magniteCarbonExperiment.result}};gi=k([p("MagniteCarbonComponent"),q(),l("design:paramtypes",[fi,V,y])],gi);let hi=class extends C{constructor(a,b,c){super();this._config=a;this._gam=b;this._topicsApiIframeManager=c}get enabled(){return this._topicsApiIframeManager.enabled}start(){let a=this._topicsApiIframeManager.topics;if(0<a.length)a.forEach(b=>{this._gam.setTargetingFlag("topicapi",
[`${b.topic}`])});else this._topicsApiIframeManager.topicsDataRecevied.on(b=>{b.forEach(c=>{this._gam.setTargetingFlag("topicapi",[`${c.topic}`])})})}};hi=k([p("OriginTrialComponent"),v(),l("design:paramtypes",[y,D,pc])],hi);let ii=class extends C{constructor(a){super();this._gam=a;this.shouldSpyNativeApis=.05>Math.random()}get enabled(){return Wj()}init(){this._gam.setTargeting({key:"fledge",value:"true"});this._setupFledgeLogging()}_setupFledgeLogging(){this.shouldSpyNativeApis&&navigator.joinAdInterestGroup&&
navigator.leaveAdInterestGroup&&navigator.runAdAuction&&(navigator.joinAdInterestGroup=this._addLogsToFledgeFunction(navigator.joinAdInterestGroup,["owner","name","biddingLogicUrl"]),navigator.leaveAdInterestGroup=this._addLogsToFledgeFunction(navigator.leaveAdInterestGroup,["owner","name"]),navigator.runAdAuction=this._addLogsToFledgeFunction(navigator.runAdAuction,"seller interestGroupBuyers decisionLogicUrl sellerCurrency sellerTimeout sellerExperimentGroupId".split(" ")))}_addLogsToFledgeFunction(a,
b=[]){return tm(a?a:()=>Promise.resolve(),{beforeExec:c=>{let d=Object.keys(c).reduce((e,f)=>{b.includes(f)&&(e[f]=c[f]);return e},{});r.event("FledgeComponent",a.name,d)}})}};ii=k([p("FledgeComponent"),v(),l("design:paramtypes",[D])],ii);let ji=class{constructor(a,b,c,d,e){this._emailCaptureHandler=a;this._gdprEvents=b;this._config=c;this._gam=d;this._piiEventBus=e;this._consent=this._email="";this._hashObj={sha256Hash:"",sha1Hash:""};this._source="";this._emailCounted=this._consentReceived=!1;this.piiCaptured=
new z}init(){this._emailCaptureHandler.emailCaptured.on(a=>this._handleEmailCapture(a));this._gdprEvents.consentCaptured.on(a=>this._handleConsentCapture(a));this._emailCaptureHandler.piiManagerReady.emit();this._config.ccpa.consentChange.on(a=>{this._handleCCPAConsentChange(a||"")})}_atLeastOneHashProvided(a){return Object.values(a).some(b=>0<b.length)}async _handleEmailCapture(a){let {email:b,sha256Hash:c,sha1Hash:d,source:e}=a;c||d?this._hashObj={sha256Hash:c||"",sha1Hash:d||""}:b&&await this._hashEmail(b);
this._email=b;this._source=e;this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(a){this._consentReceived=!0;this._consent=a;(this._email||this._atLeastOneHashProvided(this._hashObj))&&this._sendPii()}_sendPii(){this._gam.setTargetingFlag("emsrc",[this._source]);F.setLocalStorageValue("adt_emsrc",this._source,!1);F.setLocalStorageValue("adt_ei",this._hashObj,!1);/Chrom|Applechromium/.test(ca)&&(sk("adt_ei",this._hashObj),sk("adt_emsrc",this._source));this._gam.setTargetingFlag("hem",
["1"]);this._piiEventBus.dataCaptured.emit({email:this._email,...this._hashObj,consent:this._consent,source:this._source})}async _hashEmail(a){if(!("msCrypto"in window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window){a=(new TextEncoder).encode(a);let [b,c]=await Promise.all([this._convertToSpecificHashType("SHA-256",a),this._convertToSpecificHashType("SHA-1",a)]);this._hashObj.sha256Hash=b;this._hashObj.sha1Hash=c}}async _convertToSpecificHashType(a,b){a=await crypto.subtle.digest(a,
b);return Array.from(new Uint8Array(a)).map(c=>("00"+c.toString(16)).slice(-2)).join("")}_handleCCPAConsentChange(a=""){let b=F.getLocalStorageValue("adt_ei",!1),c=F.getLocalStorageValue("adt_emsrc",!1);a=a===this._config.ccpa.ccpaOptOut;if(/Chrom|Applechromium/.test(ca)){let d=qk("adt_ei"),e=qk("adt_emsrc");(d||e)&&a&&(rk("adt_ei"),rk("adt_emsrc"))}(b||c)&&a&&(F.removeLocalStorageValue("adt_ei",!1),F.removeLocalStorageValue("adt_emsrc",!1))}};ji=k([p("PiiManager"),q(),l("design:paramtypes",[oc,Oa,
y,D,Va])],ji);let ki=class extends Eb{constructor(a,b){super();this._prebidMethods=a;this._userIds=b;this.userId=b.get("connectId").id}get enabled(){return this._userIds.get("connectId").enabled}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map(a=>{a.name===this.userId.name&&(a=this.userId);return a})}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}run(a){a.sha256Hash&&this.userId.params&&(this.userId.params.he=a.sha256Hash,a=this.updateUserIds(),this._prebidMethods.setConfig({userSync:{userIds:a}}),
this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},()=>{}))}};ki=k([p("YahooPiiPartner"),v(),l("design:paramtypes",[V,Pa])],ki);let li=class extends Eb{constructor(a,b){super();this._prebidMethods=a;this._userIds=b;this._userId=b.get("id5Id").id}get enabled(){return this._userIds.get("id5Id").enabled}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map(a=>{a.name===this._userId.name&&(a=this._userId);
return a})}run(a){if(a.sha256Hash&&this._userId.params){this._userId.params.he=a.sha256Hash;let b=this.updateUserIds();a.sha256Hash&&this._userIds.sharedIdValue&&(a=btoa(`1=${a.sha256Hash}&5=${this._userIds.sharedIdValue}&12=${ca}`),this._userId.params.pd=a);this._prebidMethods.setConfig({userSync:{userIds:b}});this._prebidMethods.refreshUserIds({submoduleNames:[this._userId.name]},()=>{})}}};li=k([v(),p("Id5PiiPartner"),l("design:paramtypes",[V,Pa])],li);let mi=class extends Eb{constructor(a,b,c){super();
this._config=a;this._prebidMethods=b;this._userIds=c}get enabled(){let a=this._config.partners;return!(!a.display.get(g.Criteo)&&!a.video.get(g.Criteo))}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}run(a){a&&a.sha256Hash&&this._prebidMethods.setBidderConfig({bidders:[g.Criteo],config:{ortb2:{user:{ext:{data:{eids:[{source:"cafemedia.com",uids:[{id:a.sha256Hash,atype:3,ext:{stype:"hemsha256"}}]}]}}}}}})}};mi=k([v(),p("CriteoBidderPiiPartner"),l("design:paramtypes",[y,V,Pa])],mi);
let ni=class extends Eb{constructor(a,b,c){super();this._config=a;this._prebidMethods=b;this._userIds=c;this._fabrickIdUserIdName="fabrickId";this._userId=c.get(this._fabrickIdUserIdName).id}get enabled(){return this._userIds.get(this._fabrickIdUserIdName).enabled}processPii(a){this._prebidMethods.addToQueue(()=>{this._run(a)})}_run(a){var b,c,d=null!==(b=this._prebidMethods.getConfig("userSync.userIds"))&&void 0!==b?b:[];b=d.find(f=>f.name===this._fabrickIdUserIdName);d=d.filter(f=>f.name!==this._fabrickIdUserIdName);
let e=!(null===(c=this._userId.params)||void 0===c||!c.e);b&&!e&&(this._prebidMethods.setConfig({userSync:{userIds:[...d,{...b,params:{...(null===b||void 0===b?void 0:b.params),e:a.sha256Hash}}]}}),this._prebidMethods.refreshUserIds({submoduleNames:[this._fabrickIdUserIdName]},()=>{}))}};ni=k([v(),p("FabrickIdPiiPartner"),l("design:paramtypes",[y,V,Pa])],ni);let oi=class extends Eb{constructor(a,b,c,d){super();this._config=a;this._events=b;this._prebidMethods=c;this._userIds=d;this._userId=d.get("liveIntentId").id;
this._config.gdpr.enabled?this._events.consentCaptured.on(()=>this._pixelSync(!0)):this._pixelSync()}get enabled(){return this._userIds.get("liveIntentId").enabled}_getGdprConsent(){let a="tcunavailable",b=0;"function"===typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,c=>{c&&c.tcString&&c.tcString.length&&(a=c.tcString,b=1)});return`&gdpr=${b}&gdpr_consent=${a}`}_pixelSync(a=!1){a=`https://pixel.rubiconproject.com/token?pid=49096${a?this._getGdprConsent():""}${this._config.ccpa.required?
`&us_privacy=${this._config.ccpa.privacyString}`:""}`;let b=new Image;b.src=a;b.style.display="none";b.alt="";document.body.appendChild(b)}processPii(a){this._prebidMethods.addToQueue(()=>{this.run(a)})}run(a){var b,c;let d=null===(b=window.liQ_instances)||void 0===b?void 0:b[0];null!==d&&void 0!==d&&d.ready&&a.sha256Hash&&this._userId.params&&(this._userId.params.emailHash=a.sha256Hash,b=this.updateUserIds(),this._prebidMethods.setConfig({userSync:{userIds:b}}),this._prebidMethods.refreshUserIds({submoduleNames:[this._userId.name]},
()=>{}),d.push({hash:null!==(c=a.sha256Hash)&&void 0!==c?c:""}))}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map(a=>{a.name===this._userId.name&&(a=this._userId);return a})}};oi=k([v(),p("LiveIntentPiiPartner"),l("design:paramtypes",[y,Oa,V,Pa])],oi);let pi=class extends C{constructor(a,b,c,d,e,f,h,m){super();this._piiManager=a;this._piiEventBus=b;this._partners=[c,d,e,f,h,m].filter(n=>n.enabled);this._piiEventBus.dataCaptured.on(n=>{this._partners.forEach(u=>{u.processPii(n)})})}start(){this._partners.forEach(a=>
a.init&&a.init());this._piiManager.init()}};pi=k([p("PiiCaptureComponent"),v(),l("design:paramtypes",[ji,Va,mi,ni,li,oi,wd,ki])],pi);let qi=class extends C{constructor(a){super();this._slotManager=a;this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on(a=>{D.pushToQueue(()=>{a.forEach(b=>b.setTargeting({key:"refresh",value:"00"}));a.forEach(b=>b.setTargeting({key:"nref",value:"0"}))})});this._slotManager.refreshing.on(a=>{D.pushToQueue(()=>{for(let b of a){let c=`0${Math.min(b.refreshCount,
this._maxSlotRefreshCount)}`.slice(-2);b.setTargeting({key:"refresh",value:c});b.setTargeting({key:"nref",value:b.refreshCount.toString()})}})})}};qi=k([p("RefreshCountComponent"),v(),l("design:paramtypes",[U])],qi);let Id=class extends J{init(){this._key="RefreshRebuild";this._default=!0}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Id.prototype,"run",null);Id=k([p("RefreshRebuildExperiment"),q()],Id);let ri=class extends C{constructor(a,
b){super();this._slotManager=a;this._refreshRebuildExperiment=b}init(){this._slotManager.refreshing.on(a=>{a.filter(this.slotHasHighRefreshCountIncrement).forEach(b=>this._slotManager.rebuild(b))})}slotHasHighRefreshCountIncrement(a){return 0===a.refreshCount%100}get enabled(){return this._refreshRebuildExperiment.result}};ri=k([p("RefreshRebuildComponent"),v(),l("design:paramtypes",[U,Id])],ri);let si=class extends C{constructor(a,b){super();this._config=a;this._prebidMethods=b;this._ids=["adserver.org",
"flashtalking.com","neustar.biz"]}fetchAsyncSignals(a){return Promise.resolve({obfuscate:()=>btoa(JSON.stringify({signals:[...a,{source:"mcmp",data:this._config.marmalade.mcmp,isPubCreated:!0},{source:"sens",data:this._config.site.sensitiveCategories,isPubCreated:!0}]}))})}init(){D.pushToQueue(()=>{this._prebidMethods.waitForQueue().then(a=>{if(!0===a){let b=this._prebidMethods.getUserIdsAsEids().filter(c=>this._ids.includes(c.source)).map(c=>({source:c.source,data:c.uids[0].id,isPubCreated:!0}));
window.googletag.secureSignalProviders&&window.googletag.secureSignalProviders.push({networkCode:this._config.gam.networkCode,collectorFunction:async()=>(await this.fetchAsyncSignals(b)).obfuscate()})}})})}};si=k([p("SecureSignalsComponent"),v(),l("design:paramtypes",[y,V])],si);let ti=class extends C{constructor(a,b,c,d,e,f,h,m,n,u){super();this._config=a;this._spaEventBus=b;this._slotManager=c;this._prebidActionManager=d;this._prebidMethods=e;this._singlePageAppManagerExperiment=f;this._dynamicAdsComponent=
h;this._intersectionObserverManager=m;this._gam=n;this._adInjectionMap=u;this._observerDebounceDuration=this._routeChangeBufferDuration=500;this._observerSettledDuration=1E3;this._lastContentMutationTimestamp=Infinity;this._lastHref=document.location.href.split("#")[0];this._isTransitioning=!1}start(){this._addRouteChangeObserver();this._setupRouteChangeListener()}get enabled(){return this._singlePageAppManagerExperiment.result}_setupRouteChangeListener(){this._spaEventBus.routeChanged.on(a=>{this._handleRouteChange().catch(b=>
{r.error("SinglePageAppManagerComponent","routeChanged",b);this._isTransitioning=!1})})}_resetStatefulEmitters(){qe.forEach(a=>{a.resetEmitted();a.resetOnces()})}async _handleRouteChange(){var a,b;let c=()=>{const d=document.location.href.split("#")[0];return d&&d!==this._lastHref};this._isTransitioning=!0;this._config.disableAds.clear();this._intersectionObserverManager.unobserveAll(!1);this._adInjectionMap.reset();await zk(this._routeChangeBufferDuration);if(c())throw Error("Handler canceled after route change buffer.");
this._slotManager.removeAllElements();this._prebidActionManager.reset();this._prebidMethods.clearAllAuctions();this._slotManager.destroyAll();this._refreshPageviewKey();Ce.resetTimeOrigin();this._config.disableAds.init();this._config.context.sessionKey=this._config.context.setSessionKey();this._config.context.isFirstPageview=this._config.context.checkIsFirstPageview();this._config.context.pageUrl=window.location.href;await this._waitForPageMutations();if(c())throw Error("Handler canceled after page settled.");
this._resetStatefulEmitters();this._config.resetDynamicAds();null===(a=this._config.clsOptions)||void 0===a?void 0:a.injectedSlots.splice(0,this._config.clsOptions.injectedSlots.length);null===(b=this._config.clsOptions)||void 0===b?void 0:b.injectedVideoSlots.splice(0,this._config.clsOptions.injectedVideoSlots.length);this._dynamicAdsComponent.start();this._spaEventBus.resetCompleted.emit();this._gam.setTargetingFlag("spa_rc",["1"]);this._isTransitioning=!1}_refreshPageviewKey(){let a=this._config.context.pageviewKey,
b=tb();this._config.context.pageviewKey=b;this._gam.setTargeting({key:"pvk",value:b});return a}_addRouteChangeObserver(){document.body?(new MutationObserver(Sj(a=>{const b=document.location.href.split("#")[0];if(b&&this._lastHref!==b){try{this._spaEventBus.routeChanged.emit({to:b,from:this._lastHref})}catch(c){r.error.call(r,"SinglePageAppManagerComponent","_addRouteChangeObserver",'Error while emitting "routeChanged" event',c instanceof Error?c.message:String(c))}this._lastHref=b}else this._isTransitioning&&
this._hasPageContentMutated(a)&&(this._lastContentMutationTimestamp=Date.now())},this._observerDebounceDuration,{leading:!0}))).observe(document.body,{childList:!0,subtree:!0,attributes:!0}):r.error("SinglePageAppManagerComponent","_addRouteChangeObserver","DOM is not ready")}async _waitForPageMutations(){try{return await Fe({condition:()=>Date.now()-this._lastContentMutationTimestamp>this._observerSettledDuration})}catch(a){}}_hasPageContentMutated(a){return a.some(b=>{let c="childList"===b.type,
d=0<b.addedNodes.length||0<b.removedNodes.length;b=b.target;b=(null===b||void 0===b?void 0:b.id.includes("AdThrive_"))||(null===b||void 0===b?void 0:b.id.includes("google_ad"));return c&&d&&!b})}};ti=k([p("SinglePageAppManagerComponent"),v(),l("design:paramtypes",[y,ja,U,Fb,V,Hb,Dd,nc,D,mb])],ti);let ui=class extends C{constructor(a){super();this._singlePageAppManagerExperiment=a}start(){window.camAddRouteObserver&&window.camAddRouteObserver()}get enabled(){return!this._singlePageAppManagerExperiment.result}};
ui=k([p("CamSinglePageAppManagerComponent"),v(),l("design:paramtypes",[Hb])],ui);let vi=class extends C{constructor(a){super();this._config=a}start(){if(this._config.site.style&&0<this._config.site.style.length)Qa(this._config.site.style);else if(this._config.context.styleUrl){var a=this._config.context.styleUrl;const b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href=a;document.head.appendChild(b)}}};vi=k([p("SiteStyleComponent"),v(),l("design:paramtypes",[y])],vi);let wi=
class extends C{constructor(a,b){super();this._gam=a;this._config=b}init(){let a=this.getReferrer();null!==a&&this._gam.setTargeting({key:"doc_ref",value:a})}getReferrer(){let a=Nc(this._config.context.savedReferrer);a&&a.length&&F.setLocalStorageValue("referrer",a);return a}};wi=k([p("TrafficSourceComponent"),v(),l("design:paramtypes",[D,y])],wi);let xi=class extends C{constructor(a,b){super();this._config=a;this._gam=b}init(){let a=B(F.getLocalStorageValue("utm",!0,!0,18E5),{});["utm_medium","utm_campaign",
"utm_session","utm_source"].forEach(b=>{var c=this._config.context.querystring.get(b);c=B(c,a[b]);this._gam.setTargeting({key:b,value:c});c&&(a[b]=c)});F.setLocalStorageValue("utm",a)}};xi=k([p("UTMComponent"),v(),l("design:paramtypes",[y,D])],xi);let Jd=class{constructor(a){this.config=a;this._headerVisibleEvents=[];this._headerHiddenEvents=[];this._header=null;this._isHeaderVisible=!0;this.handleUncollapse=()=>{};this.handleCollapse=b=>{if(b.mobileHeaderSelector){this.anchorVideoPlayerBelowNavbar(b,
b.mobileHeaderSelector);let c=this.siteHeader(b.mobileHeaderSelector);c&&(c.onclick=b.siteHeaderOnClick)}};this.collapsiblePersistentHeaderObserver=new IntersectionObserver(b=>{for(let c of b)(this._isHeaderVisible=c.isIntersecting)?this._headerVisibleEvents.forEach(d=>d()):this._headerHiddenEvents.forEach(d=>d())},{threshold:.95})}applyTransitionToElement(a){a.style.transition="all 0.2s ease-in-out"}pushElementBelowHeader(a,b){b=this.getHeaderHeight(b);null!==b&&(a.style.top=`${b}px`)}anchorVideoPlayerBelowNavbar(a,
b){let {playerElement:c,topBackgroundElement:d}=a;a=()=>{if(null!==this.getHeaderHeight(b)){this.applyTransitionToElement(d);this.applyTransitionToElement(c);this.pushElementBelowHeader(d,b);this.pushElementBelowHeader(c,b);const f=c.querySelector(".adthrive-top-collapse-wrapper-bar");f&&this.pushElementBelowHeader(f,b)}};let e=()=>{d.style.top="0";c.style.top="0"};this._isHeaderVisible?a():e();this._headerVisibleEvents.push(a);this._headerHiddenEvents.push(e)}getHeaderHeight(a){return(a=this.siteHeader(a))?
this.getElementHeight(a):null}getElementHeight(a){return a.getBoundingClientRect().height}siteHeader(a){if(this._header)return this._header;a=document.querySelector(a);if(!a)return null;this._header=a;this.collapsiblePersistentHeaderObserver.observe(this._header);return this._header}};Jd=k([q(),p("TopCenterVideoPlayerForPersistentHeadersUtils"),l("design:paramtypes",[y])],Jd);var $a;let ml=ia.getScrollTop(),nl=void 0,da=$a=class{static changeState(a,b){let c=this._shouldCollapse(a);if(!this._handleOtherVideoPlaying(b,
a))switch(a.playerState){case 0:this._handleUnstarted(b,c,a);break;case 1:this._handleUncollapsedPlay(b,c,a);break;case 2:this._handleCollapsedPlay(b,c,a);break;case 8:this._handleNonLinearAdPlay(b,c,a);break;case 4:this._handleUserPauseCollapsed(b,c,a);break;case 3:this._handleUserPauseUncollapsed(b,c,a);break;case 5:this._handlePausedNotVisible(b,a);break;case 9:this._handleNonLinearAdPaused(b,a);break;case 6:this._handleOverlapped(b,c,a);break;case 10:this._handleNonLinearAdOverlapped(b,c,a)}return a.playerState}static _handleUnstarted(a,
b,c){let d=c.playerInstance;4===a&&(c.collapseTimer.firstInView||(c.collapseTimer.firstInView=new Date),$a.startEvent.emit(),b?(this.collapse(c),d.getViewable()&&d.play(!0),c.playerState=d._nonLinearAd?8:2):c.playerState=d._nonLinearAd?8:1)}static _setPlayerClosed(a){a.playerState=7;this._isTopCollapse(a)&&E.resolve(wa).topCenterVideoClosed.emit()}static _handleOtherVideoPlaying(a,b){return 7===a?(this.uncollapse(b),b.playerInstance.pause(!0),this._setPlayerClosed(b),!0):!1}static _handleUncollapsedPlay(a,
b,c){let {playerInstance:d}=c;4===a?b?(this.collapse(c),d.play(!0),c.playerState=2):d.play(!0):3===a?b?(d.play(!0),this.collapse(c),c.playerState=2):(d.pause(!0),c.playerState=5):1===a&&(c.playerState=3)}static _handleVideoHeight(a){let {playerElement:b,topBackgroundElement:c}=a;c&&b.offsetHeight>=c.offsetHeight&&(c.style.height="163px")}static _handleCollapsedPlay(a,b,c){let {playerInstance:d,playerElement:e}=c;4===a?b?d.play(!0):(this.uncollapse(c),d.play(!0),c.playerState=1):3===a?b||(this.uncollapse(c),
d.pause(!0),c.playerState=5):1===a?c.playerState=4:6===a?(c.lastCollapsedClasses=e.className,this.uncollapse(c),d.pause(!0),c.playerState=6):5===a&&(this.uncollapse(c),d.pause(!0),this._setPlayerClosed(c))}static _handleNonLinearAdPlay(a,b,c){let {playerInstance:d}=c;4===a?b&&this.collapse(c):3===a?(d.pauseAd(!0),c.playerState=9):6===a&&(this.uncollapse(c),d.pauseAd(!0),c.playerState=10)}static _handleUserPauseCollapsed(a,b,c){let {playerInstance:d}=c;4!==a||b?1===a?c.playerState=2:5===a&&(this.uncollapse(c),
d.pause(!0),this._setPlayerClosed(c)):(this.uncollapse(c),c.playerState=3)}static _handleUserPauseUncollapsed(a,b,c){4===a&&b?(this.collapse(c),c.playerState=4):1===a&&(c.playerState=1)}static _handlePausedNotVisible(a,b){let {playerInstance:c}=b;4===a&&(c.play(!0),b.playerState=1)}static _handleNonLinearAdPaused(a,b){let {playerInstance:c}=b;4===a?(c.pauseAd(!1),b.playerState=8):this.playerWouldOverlapFooter(b)&&(b.playerState=10)}static _handleOverlapped(a,b,c){({playerInstance:a}=c);b&&!this.playerWouldOverlapFooter(c)?
(this.collapse(c),a.play(!0),c.playerState=2):c.playerState=6}static _handleNonLinearAdOverlapped(a,b,c){({playerInstance:a}=c);b&&!this.playerWouldOverlapFooter(c)?(this.collapse(c),a.pauseAd(!1),c.playerState=8):(a.pauseAd(!0),c.playerState=10)}static handleResize(a){this._isCollapsed(a.playerState)?("adthrive-collapse-mobile"===a.collapseType&&"adthrive-collapse-top-center"===a.collapseMobileSubType&&a.topBackgroundElement&&(a.topBackgroundElement.style.height=`${a.playerElement.offsetHeight}px`,
a.topBackgroundElement.style.width=`${window.innerWidth}px`),a.forceMobile||"adthrive-collapse-sticky"!==a.collapseType||this._stickToSidebar(a)):this.resizeContainer(a)}static handleScroll(a){let {playerState:b,playerElement:c,playerContainer:d,mediaStarted:e,mobileCollapseOnScrollUp:f}=a;var h=ia.getScrollTop();let m=h>ml;ml=h;h=this.playerWouldOverlapFooter(a);var n=this._shouldCollapseOnScrollUp(a);let u=!ia.playerViewable(c)&&(n?!e:!0);n=this._isWarmupComplete(a);let w=u?3:h?6:4;"off"!==f&&(h=
ym(d)&&5===b&&!n,this._isTopOfPage()?(w=3,this.stopCollapseWarmupTimer(a)):m&&h?(this.startCollapseWarmupTimer(a),w=3,"1"===f&&(clearTimeout(nl),nl=setTimeout(()=>{this._isWarmupComplete(a)&&(this.stopCollapseWarmupTimer(a),a.playerState=1,this.changeState(a,w))},1E3))):n&&this.stopCollapseWarmupTimer(a));this.changeState(a,w);2===a.playerState||4===a.playerState?$a.startCollapseTimer(a):$a.stopCollapseTimer(a)}static handleOtherVideoPlaying(a){this.changeState(a,7)}static handlePageVisibilityChange(a,
b){7!==b.playerState&&0!==b.playerState&&3!==b.playerState&&4!==b.playerState&&5!==b.playerState&&6!==b.playerState&&(a?b.playerInstance.pause(!0):b.playerInstance.play(!0))}static handleWidthBreak(a,b){7!==b.playerState&&0!==b.playerState&&(a.matches?(this._isCollapsed(b.playerState)&&(this.toggleCollapsedPlayerClasses(!1,b),"adthrive-collapse-sticky"===b.collapseType&&this._unstickFromSidebar(b.playerElement),b.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,b)),b.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,
b),b.forceMobile=!1,this._isCollapsed(b.playerState)&&(this.toggleCollapsedPlayerClasses(!0,b),"adthrive-collapse-sticky"===b.collapseType&&this._stickToSidebar(b))))}static handleClose(a){$a.closeEvent.emit();this.changeState(a,5);$a.stopCollapseTimer(a);r.event("jw-player","handleClose",{timeElapsed:a.collapseTimer.timeCollapsed,device:pa()?"desktop":"mobile",playerType:a.playerType})}static handleUserClick(a){this.changeState(a,1)}static collapse(a){let {playerElement:b,topBackgroundElement:c}=
a;this.disableCollapse||(this.collapseEvent.emit(),this.toggleCollapsedPlayerClasses(!0,a),a.forceMobile||"adthrive-collapse-sticky"!==a.collapseType||this._stickToSidebar(a),c&&(this._handleVideoHeight(a),E.resolve(Jd).handleCollapse({playerElement:b,topBackgroundElement:c,siteHeaderOnClick:()=>this.uncollapse(a),mobileHeaderSelector:a.mobileHeaderSelector})),a.playerInstance.resize(),setTimeout(d=>{this.displayCloseButton(d)},a.closeButtonTimeout,a),E.resolve(wa).topCenterVideoCollapsed.emit(a))}static displayCloseButton(a){this._isCollapsed(a.playerState)&&
(a.closeButton.style.display="inline-flex")}static uncollapse(a){$a.uncollapseEvent.emit();this.toggleCollapsedPlayerClasses(!1,a);this._unstickFromSidebar(a.playerElement);a.closeButton.style.display="none";this.resizeContainer(a);E.resolve(Jd).handleUncollapse();E.resolve(wa).topCenterVideoUnCollapsed.emit()}static _shouldCollapse(a){let {mediaStarted:b,playerContainer:c,mobileCollapseOnScrollUp:d}=a,e=this._shouldCollapseOnScrollUp(a);if(ia.isMobileLandscape())return!1;let f=this._isTopCollapse(a);
if("off"!==d&&f){var h=!!a.collapseTimer.warmupStartTime;a=this._isWarmupComplete(a);if(this._isTopOfPage()||h&&!a)return!1}h=ia.getScrollTop();a=ia.getScrollBottom();let m=c.offsetHeight,n=xe(c).top,u=n+m;return f?b&&(h>=n||e&&a<=u):b&&(h>=n+m/2||e&&a<=u-m/2)}static _shouldCollapseOnScrollUp(a){return a.desktopCollapseOnScrollUp||"off"!==a.mobileCollapseOnScrollUp}static _isCollapsed(a){return 2===a||4===a}static _isWarmupComplete(a){let {collapseTimer:b,mobileCollapseOnScrollUp:c,playerContainer:d}=
a;if(!b.warmupStartTime)return!1;if("1"===c)return 1E3<Date.now()-b.warmupStartTime.getTime();if("2"===c)return zm(d)}static _isTopOfPage(){return 1>window.scrollY}static _isTopCollapse(a){return a.collapseMobileSubType&&"adthrive-collapse-top-center"===a.collapseMobileSubType}static _stickToSidebar(a){a.stickyElement&&(a.playerElement.style.left=`${a.stickyElement.getBoundingClientRect().left}px`,a.playerElement.style.width=`${a.stickyElement.clientWidth}px`);a.playerElement.style.top=`${a.topMargin}px`}static _unstickFromSidebar(a){a.style.cssText=
""}static playerWouldOverlapFooter(a){if(!a.footerElement)return!1;if(a.playerElement.className.includes("adthrive-collapse-bottom")||a.lastCollapsedClasses&&a.lastCollapsedClasses.includes("adthrive-collapse-bottom")){let b=ve();return!(window.innerHeight-b<a.footerElement.getBoundingClientRect().top)}return!((a.topMargin||0)+a.playerElement.getBoundingClientRect().height<a.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(a,b){var c=b.playerInstance.utils;c=La(c,"toggleClass")&&
"function"===typeof c.toggleClass?c.toggleClass:()=>{};b.forceMobile?(c(b.playerElement,"adthrive-collapse-mobile",a),c(b.playerElement,b.collapseMobileSizeType,a),c(b.playerElement,b.collapseMobileSubType,a),this.repositionCollapseMobile(b,a)):(c(b.playerElement,b.collapseType,a),b.collapseSubType&&c(b.playerElement,b.collapseSubType,a),b.collapseMobileSizeType&&c(b.playerElement,b.collapseMobileSizeType,a),"adthrive-collapse-mobile"===b.collapseType&&(c(b.playerElement,b.collapseMobileSubType,a),
this.repositionCollapseMobile(b,a)))}static repositionCollapseMobile(a,b){"adthrive-collapse-bottom-left"===a.collapseMobileSubType||"adthrive-collapse-bottom-right"===a.collapseMobileSubType?this.repositionCollapseMobileBottom(a):"adthrive-collapse-top-center"===a.collapseMobileSubType&&this.repositionCollapseMobileTop(a,b)}static repositionCollapseMobileTop(a,b){a.topBackgroundElement&&(a.topBackgroundElement.style.height=b?`${a.playerElement.offsetHeight}px`:"0")}static repositionCollapseMobileBottom(a){if(a.playerElement.className.includes("adthrive-collapse-bottom")||
a.collapseMobileSubType&&-1<a.collapseMobileSubType.indexOf("bottom")){let b=ve();a.playerElement.style.setProperty("top","auto","important");a.playerElement.style.setProperty("bottom",`${b}px`,"important")}}static resizeContainer(a){a.playerContainer.style.height=`${a.playerElement.offsetHeight+30}px`}static startCollapseTimer(a){a.collapseTimer.isRunning||(a.collapseTimer.startTime?a.collapseTimer.lastCollapsedTime=new Date:(a.collapseTimer.startTime=new Date,a.collapseTimer.lastCollapsedTime=a.collapseTimer.startTime),
a.collapseTimer.isRunning=!0)}static stopCollapseTimer(a){a.collapseTimer.isRunning&&(a.collapseTimer.lastCollapsedTime&&(a.collapseTimer.timeCollapsed+=Date.now()-a.collapseTimer.lastCollapsedTime.getTime()),a.collapseTimer.isRunning=!1)}static startCollapseWarmupTimer(a){a.collapseTimer.warmupStartTime||(a.collapseTimer.warmupStartTime=new Date)}static stopCollapseWarmupTimer(a){a.collapseTimer.warmupStartTime&&(a.collapseTimer.warmupStartTime=void 0)}};da.collapseEvent=new z;da.uncollapseEvent=
new z;da.closeEvent=new z;da.startEvent=new z;da.disableCollapse=!1;da=$a=k([p("CollapseUtils")],da);class Pn{constructor(){}init(a){this.setup(a)}}let yi=class extends T{init(){this._key="TearDownPlayer"}};yi=k([p("TearDownPlayerExperiment"),q()],yi);let Kd=class extends Ie{constructor(a,b){super();this._siteExperiments=a;this._pubabgroup=b;this._positions="bottom-left bottom-right bottom-center top-left top-right top-center".split(" ");this._choices=[];this._mappedChoices=[];this._resultValidator=
c=>this._positions.includes(c);this._result="control";this.key=ra.MobileStickyPlayerPosition;this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){return super.run()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig&&this._isValidResult(this._result)){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;
this._pubabgroup.set(a,`${this._result}`)}else r.error("MobileStickyPlayerPositionSiteExperiment","setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:a,value:b})=>({weight:a,choice:String(b)}))}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Kd.prototype,"run",null);Kd=k([q(),l("design:paramtypes",[Fa,xa])],Kd);let zi=class{logEvents(a,b){this._logPlayerPlayEvents(a,
b);this._logPlayerPauseEvents(a,b);this._logPlayerMuteEvents(a,b);this._logPlayerVolumeEvents(a,b);this._logPlayerSeekEvents(a,b)}_logPlayerPlayEvents(a,b){a.on("play",c=>this._onPlayerPlayEvent(c,b))}_logPlayerPauseEvents(a,b){a.on("pause",c=>this._onPlayerPauseEvent(c,b))}_logPlayerMuteEvents(a,b){a.on("mute",c=>this._onPlayerMuteEvent(c,b))}_logPlayerVolumeEvents(a,b){a.on("volume",c=>this._onPlayerVolumeEvent(c,b))}_logPlayerSeekEvents(a,b){a.on("seek",c=>this._onPlayerSeekEvent(c,b))}_onPlayerPlayEvent(a,
b){"interaction"===a.playReason&&r.event("JwPlayer","play",b)}_onPlayerPauseEvent(a,b){"interaction"===a.pauseReason&&r.event("JwPlayer","pause",b)}_onPlayerMuteEvent(a,b){r.event("JwPlayer","mute",{mute:a.mute,...b})}_onPlayerVolumeEvent(a,b){r.event("JwPlayer","volume",{volume:a.volume,...b})}_onPlayerSeekEvent(a,b){r.event("JwPlayer","seek",{position:a.position,...b})}};zi=k([q()],zi);class ol extends Pn{constructor(a,b,c,d,e,f,h,m,n="adthrive-collapse-float",u,w,t,A,G,N,O,H,P){var K;super();this._playerId=
a;this._playlistId=b;this._name=c;this._size=d;this._pageElement=e;this._eventProxy=f;this._vastLoadTimeout=h;this._config=m;this._collapseType=n;this._collapseMobileSizeType=u;this._prebidMethods=w;this._auctionManagers=t;this._playerType=A;this._isCollapsible=G;this._desktopCollapseOnScrollUp=N;this._mobileCollapseOnScrollUp=O;this._saveVideoCloseState=H;this._mobileLocation=P;this.initialAuctionPlayer=!1;this._prerollNum=0;this.imaVersion=this.jwVersion="";this.requestVideoBids=()=>{throw Error("Request video bids not set");
};this.buildVideoUrl=()=>{throw Error("Build video url not set");};this.setPlayerInstance=()=>{throw Error("Reset player not set");};this.waitForConsent=()=>{throw Error("Wait for consent not set");};this.collapseCollection=null;this._defaults={};this._state=0;this._adDurationLogged=this._nextAdFetched=!1;this._isFirstPlay=!0;this._wasClicked=this._calledNextVideo=this._createdSkipContainer=!1;this._canSkip=!0;this._isAdvancePlaylist=!1;this._additionalAdFields=this._adDetails=null;this._tearDownAfterNextAd=
this._canTearDown=!1;this._tearDownTimer=null;this._tearDownPlayerTimeout=0;this._stalePlayerTimer=null;this._currentAdDurationWithBuffer=this._currentAdTime=0;this._adTimingBuffer=10;this._defaultAdDuration=30;this._autoplayBehaviorConfig={mute:!0};this._topBackgroundElement=null;this._bidMarkedOnCurrentAd=!1;this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,
vpaidmode:"insecure",vpaidcontrols:!0},generateSEOMetadata:!0,preload:"metadata"};this._spaListeners=[];this._transactionId="";this._userIdTargetingData=[];this._pendingBidRequests=[];this._adPlayMap=new Map;this._mediaId="nf";E.resolve(ja).routeChanged.on(()=>{this._spaListeners.forEach(Y=>Y());this._spaListeners.length=0});this._prebidAuctionManager=this._auctionManagers.getPrebidAuctionManager();this._topCenterMobileBackgroundCoreExperiment=E.resolve(tc);this._mobileStickyPlayerPositionSiteExperiment=
E.resolve(Kd);this._videoCloseButtonComponent=E.resolve(Gd);window.matchMedia&&(a=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`),a.addListener(this._handleWidthBreak.bind(this)),this._handleWidthBreak(a));a=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?a.playlistPlayer.enabled:a.relatedPlayer.enabled;if("contextual"!==this._playerType||this._isCollapsible&&a)this._tearDownPlayerTimeout=null!==(K=E.resolve(yi).result)&&
void 0!==K?K:0,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get mediaId(){return this._mediaId}get playerContainer(){return this._playerContainer}get playerElement(){return this._playerElement}get size(){return this._size}set videoAdUnit(a){this._videoAdUnit=a}get videoAdUnit(){return this._videoAdUnit}getJwBoostTargeting(){return{playerID:this._playlistId,...((this.name===x.Video_In_Post_ClicktoPlay_SoundOn||
this.name===x.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId})}}get transactionId(){return this._transactionId}set transactionId(a){this._transactionId=a}set userIdTargetingData(a){this._userIdTargetingData=a}get userIdTargetingData(){return this._userIdTargetingData}get vp(){return 1>=this._prerollNum?this._prerollNum:9>=this._prerollNum?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(a){this._defaults=a}_createCollapsibleCollection(a){let {playerElement:b,
playerContainer:c,footerElement:d,stickyElement:e,mobileHeaderSelector:f}=a;this.collapseCollection={playerInstance:this.playerInstance,playerType:this._playerType,playerState:this._state,playerContainer:c,playerElement:b,topBackgroundElement:this._topBackgroundElement,footerElement:d,stickyElement:e,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,
collapseSubType:"adthrive-collapse-bottom-right",collapseMobileSubType:this._getCollapseMobileSubType(),mobileHeaderSelector:f,collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1,desktopCollapseOnScrollUp:this._desktopCollapseOnScrollUp,mobileCollapseOnScrollUp:this._mobileCollapseOnScrollUp}}_resetAdVars(){this._bidMarkedOnCurrentAd=!1;this._adDetails=null;this._adDurationLogged=this._nextAdFetched=!1;this._currentAdDurationWithBuffer=this._currentAdTime=0;this._pendingBidRequests.length=
0;this._clearStaleTimers()}async _handleNextAdFetch(){this._nextAdFetched||(this._nextAdFetched=!0,this._prerollNum++,await this._fetchBids(),0<this._pendingBidRequests.length&&this._pendingBidRequests[0].then(()=>{void this._fetchBids()}).catch(()=>{}))}async _inViewPlay(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&await this.waitForConsent();await this._fetchBids();void this._triggerAdPlay()}_setPlayerVersions(){let a=this.playerInstance,b=/^[0-9]+.[0-9]+.[0-9]+/.exec(a.version);this.jwVersion=
b&&b[0];this.imaVersion=a.plugins&&a.plugins.googima&&a.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,jwVersion:this.jwVersion}}async _fetchBids(){if(2>this._pendingBidRequests.length){let a=this.requestVideoBids([this]);a&&(this._pendingBidRequests.push(a),await a)}}_playerReady(a){this._startTearDownTimer();this._configureQuality();this._setPlayerVersions()}_jwSetup(a){a={...this._defaults,...this._baseConfig,...a};if(this.playerInstance.setup)try{this.playerInstance.setup(a),
this._handleNonLinearAd(),this._setupEventListeners()}catch(b){r.error("InstreamPlayer","jwSetup","Unexpected issue while setting up JWPlayer",{playerId:this._playerId,err:b})}else r.error("InstreamPlayer","jwSetup","Unexpected issue while setting up JWPlayer",{playerId:this._playerId})}_handleNonLinearAd(){this.playerInstance.on("adImpression",a=>{var b=La(a.ima,"ad")?a.ima.ad:null;if((b=this._getAdDetailsFromAd(b))&&La(b,"linear")&&!1===b.linear||"nonlinear"===a.linear){this.playerInstance._nonLinearAd=
!0;this.playerInstance.pause();a=document.getElementById(`${this._playlistId}`);let c=a.querySelector("div > div.jw-overlays.jw-reset");c.style.backgroundColor="black";let d=a.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");d.style.zIndex="-1";this.playerInstance.once("adComplete",()=>{this.playerInstance._nonLinearAd=!1;c.style.backgroundColor="transparent";d.style.zIndex="";this.playerInstance.play()})}})}async _handleScroll(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&
await this.waitForConsent();this.collapseCollection&&(this._isFirstPlay&&await this._fetchBids(),da.handleScroll(this.collapseCollection))}_handleResize(){this.collapseCollection&&da.handleResize(this.collapseCollection)}_handlePageVisibilityChange(a){this.collapseCollection&&da.handlePageVisibilityChange(a,this.collapseCollection)}_displayCloseButton(){this.collapseCollection&&da.displayCloseButton(this.collapseCollection)}_handleClose(){this.collapseCollection&&(this._saveVideoCloseState&&F.setLocalStorageValue("video_closed",
!0),da.handleClose(this.collapseCollection))}_handleUserClick(){this.collapseCollection&&da.handleUserClick(this.collapseCollection)}_handleWidthBreak(a){this.collapseCollection&&da.handleWidthBreak(a,this.collapseCollection)}_handleVideoPlayingEvent(a){a!==this._playlistId&&(this.collapseCollection?da.handleOtherVideoPlaying(this.collapseCollection):this.playerInstance.pause(!0))}_handleTitleClick(a){this.collapseCollection.collapseTimer.firstInView&&r.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-
this.collapseCollection.collapseTimer.firstInView.valueOf(),link:a.currentTarget.getAttribute("href")})}_handleFooterRefreshedEvent(){this.collapseCollection&&da.repositionCollapseMobileBottom(this.collapseCollection)}_configureQuality(){if(!pa())this.playerInstance.on("levels",a=>{this.playerInstance.setCurrentQuality(a.levels.length-1)})}_createPlayerCloseButton(){let a=this._wrapperTitleWrapperElement||this._videoTitleElement;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this._handleClose.bind(this),
"instream","adthrive-collapse-close",!!a,this._isTopCollapse)}_createPlayerCollapseBackgroundElement(){let a=document.createElement("div");a.classList.add("adthrive-collapse-mobile-background");a.style.width=`${window.innerWidth}px`;a.style.display="inline";a.style.height="0";return a}_createLinkIcon(a){let b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("width","24");b.setAttribute("height","24");b.setAttribute("style","vertical-align: top;");let c=document.createElementNS("http://www.w3.org/2000/svg",
"path");c.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5");c.setAttribute("stroke","white");c.setAttribute("stroke-width","2");c.setAttribute("stroke-linejoin","round");b.appendChild(c);b.id=`${a}-svg-link`;return b}_createLearnMoreLink(a){let b=document.createElement("a");b.classList.add("adthrive-learn-more-link");b.innerText="Tap here to learn more.";b.id=`${a}-learn-more-link`;return b}_createPlayerWrapper(a){a?
(this._wrapperTitleWrapperElement=document.createElement("a"),a=this._createLinkIcon(this._playlistId),this._wrapperTitleWrapperElement.appendChild(a)):this._wrapperTitleWrapperElement=document.createElement("div");this._videoTitleElement=document.createElement("span");a=document.createElement("div");let b=document.createElement("div");b.className="adthrive-wrapper-title-wrapper";this._videoTitleElement.classList.add("adthrive-video-text-cutoff");this._videoTitleElement.classList.add("adthrive-video-title");
this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff";this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement);this._wrapperTitleWrapperElement.target="_blank";this._wrapperTitleWrapperElement.onclick=this._handleTitleClick.bind(this);this._closeButton=this._createPlayerCloseButton();b.appendChild(this._wrapperTitleWrapperElement);a.className="adthrive-wrapper-bar";a.appendChild(b);a.appendChild(this._closeButton);return a}_createTopCollapseWrapper(a=!0){let b=document.createElement("div");
b.className="adthrive-top-collapse-wrapper-bar";this._closeButton=this._createPlayerCloseButton();var c=document.createElement("div");c.style.minHeight="33px";c.appendChild(this._closeButton);b.appendChild(c);c=document.createElement("a");this._topCollapseVideoTitleElement=document.createElement("span");this._topCollapseVideoTitleElement.classList.add("adthrive-top-collapse-wrapper-video-title");let d=this._topCenterMobileBackgroundCoreExperiment.buttonTitleColor;d&&(this._topCollapseVideoTitleElement.style.color=
d);c.appendChild(this._topCollapseVideoTitleElement);a&&(a=this._createLearnMoreLink(this._playlistId),c.appendChild(a),c.onclick=this._handleTitleClick.bind(this));b.appendChild(c);this._wrapperText=c;return b}_trimEventData(a){var b,c;a={...a};let d=a.ima&&a.ima.ad&&this._getAdDetailsFromAd(a.ima.ad);(null===a||void 0===a?0:a.tag)&&delete a.tag;d&&d.traffickingParameters&&delete d.traffickingParameters;(null===(c=null===(b=null===a||void 0===a?void 0:a.ima)||void 0===b?void 0:b.userRequestContext)||
void 0===c?0:c.adTagUrl)&&delete a.ima.userRequestContext.adTagUrl;(null===a||void 0===a?0:a.mediaFile)&&delete a.mediaFile;return a}_handleNextButton(){this._calledNextVideo=!0;this._removeSkipContainer();this._isAdvancePlaylist&&1===this.playerInstance.getPlaylist().length?(this.playerInstance.pause(),this.playerInstance.seek(0),this.playerInstance.once("firstFrame",()=>{void this._triggerAdPlay()}),this.playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this.playerInstance.next()}_createNavButton(a){let b=
document.createElement("div");b.id=`${a}-video`;b.textContent=a.charAt(0).toUpperCase()+a.slice(1);Ck(15)||Ck(16)||$m()||b.classList.add("video-box-shadow");return b}_createSkipContainer(){let a=document.createElement("div");a.id="next-stay-container";let b=this._createNavButton("next");b.onclick=this._handleNextButton.bind(this);a.appendChild(b);a.appendChild(this._createNavButton("stay"));return a}_initSkipContainer(){this.playerInstance.on("time",({position:a,duration:b})=>{if(!(!this._canSkip||
this.playerInstance._nonLinearAd||this._wasClicked||5>b)){var c=40>b,d=c?a>=b-5:25<=a,e=c?a>=b:30<=a;!this._createdSkipContainer&&(c?a>=b:20<=a)&&void this._handleNextAdFetch();!this._createdSkipContainer&&d?(this._createdSkipContainer=!0,this._skipContainer=this._createSkipContainer(),this.playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&
e&&this._handleNextButton()}})}_handleVideoPlayerClicked(){this._wasClicked=!0;this._removeSkipContainer()}_removeSkipContainer(){var a,b;null===(b=null===(a=this._skipContainer)||void 0===a?void 0:a.parentNode)||void 0===b?void 0:b.removeChild(this._skipContainer);this._skipContainer=void 0}_handleFirstFrame(){this._wasClicked=this._createdSkipContainer=this._calledNextVideo=!1}_getCollapseMobileSubType(){return this._mobileStickyPlayerPositionSiteExperiment.enabled&&"control"!==this._mobileStickyPlayerPositionSiteExperiment.result?
ia.setMobileLocation(this._mobileStickyPlayerPositionSiteExperiment.result):this._mobileLocation}get _isTopCollapse(){return"adthrive-collapse-top-center"===this._getCollapseMobileSubType()}isTopCenterCollapse(){return"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse}_createTopCenterBackground(a){this._topBackgroundElement=this._createPlayerCollapseBackgroundElement();let b=this._topCenterMobileBackgroundCoreExperiment.backgroundColor;b&&(this._topBackgroundElement.style.backgroundColor=
b);a.appendChild(this._topBackgroundElement)}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=null)}_listenForLargeVastError(){this._prebidMethods.onEvent("vastExceededLimit",a=>{r.error("JwPlayer","listenForLargeVastError",{meta:a.bids[0].meta,bidder:a.bids[0].bidder,adId:a.bids[0].adId,creativeId:a.bids[0].creativeId,responseSize:a.responseSize,maxSizeAllowed:a.maxSizeAllowed})})}_getErrorLogAdDetails(){return(({wrapperIds:a,wrapperCreativeIds:b,
wrapperSystems:c,vastCreativeId:d,mediaFileURL:e,adId:f,adUnitName:h,adomain:m,hb_bidder:n,amznp:u,hb_pb:w,amznbid:t,hb_deal:A})=>({wrapperIds:a,wrapperCreativeIds:b,wrapperSystems:c,vastCreativeId:d,mediaFileURL:e,adId:f,adUnitName:h,adomain:m&&encodeURIComponent(m),hb_bidder:n,amznp:u,hb_pb:w,amznbid:t,hb_deal:A}))(this._adDetails||{})}_setStaleAdDetection(){let a=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout(()=>{r.error("JwPlayer",
"stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._getErrorLogAdDetails()});-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this.playerInstance.playlistItem(this.playerInstance.getPlaylistIndex())},1E3*a))}_getJwEventLog(a){return{playerName:this._name,rawData:this._trimEventData(a)}}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),
this.playerInstance.remove(),this.setPlayerInstance(this),void this._handleScroll(),this._adPlayMap=new Map)}_enableTearDown(){this._tearDownAfterNextAd=!0}_startTearDownTimer(){let a=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),a))}_handleErrors(){["adError","setupError","error"].forEach(a=>{this._bidMarkedOnCurrentAd=!1;let b="adError"===a;this.playerInstance.on(a,c=>{this._clearStaleTimers();if(!this._adDetails){let d="tag"in
c&&c.tag||"";this._addAdDetailFields(d);this._adDetails={...this._additionalAdFields,adUnitName:this._name,tag:d,isEmpty:!0}}900===c.code&&this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails);"setupError"===a&&this._preventCollapse();r.error("JwPlayer",a,{code:c.code,...(b&&{message:c.message,adErrorCode:c.adErrorCode}),...this._getJwEventLog(c)});"adError"===a&&(this._tearDownPlayer(),this._checkRenderedAdDetails(),c={message:c.message,code:c.code,adErrorCode:c.adErrorCode,...this._getPlayerVersions(),
...this._getErrorLogAdDetails()},r.error("JwPlayer","vastError",c))})})}_handleTimeEvents(){this.playerInstance.on("beforeComplete",()=>{this._resetAdVars();this.playerInstance._nonLinearAd=!1});this.playerInstance.on("time",({position:a,duration:b})=>{10>b-a&&void this._handleNextAdFetch()});this.playerInstance.on("adTime",a=>{this._currentAdTime=a.position;this._config.video.logAdDuration&&!this._adDurationLogged&&(r.event("VideoManager","VideoAdDuration",{adDuration:a.duration,roundedAdDuration:Math.round(a.duration)}),
this._adDurationLogged=!0)});this.playerInstance.on("adComplete",()=>{this._tearDownPlayer()})}async _triggerAdPlay(){let a=this._config.gdpr;!a.consentCaptured&&a.enabled&&await this.waitForConsent();this._adPlayMap.get(this._prerollNum)||(void this._playLinearAd(),this._isFirstPlay=!1)}_handlePlayingEvents(){this.playerInstance.on("playlistItem",({item:a})=>{var b;this._mediaId=null!==(b=a.mediaid)&&void 0!==b?b:"nf"});["play","adPlay","pause","adSkipped","adPause"].forEach(a=>{let b="play"===a,
c="adPlay"===a,d="pause"===a,e="adPause"===a,f="adSkipped"===a;this.playerInstance.on(a,h=>{if(b||e||f)if(this._clearStaleTimers(),e)this.playerInstance.once("adPlay",()=>{0!==this._currentAdTime&&this._setStaleAdDetection()});if(b||c)this._eventProxy.emitVideoPlayingEvent(this._playlistId),c&&this._checkRenderedAdDetails();(b||d)&&(h="pauseReason"in h&&h.pauseReason||"playReason"in h&&h.playReason&&!this._calledNextVideo)&&"interaction"===h&&this._handleUserClick()});if((b||c)&&this.collapseCollection)this.playerInstance.once(a,
()=>{this.collapseCollection.mediaStarted=!0;void this._handleScroll()})});this.playerInstance.on("beforePlay",()=>{this._adPlayMap.has(this._prerollNum)||this.playerInstance.pause();void this._triggerAdPlay()})}_checkRenderedAdDetails(){let a=this._prebidAuctionManager,b=this._adDetails;a&&b&&!this._bidMarkedOnCurrentAd&&this._markPrebidBidAsUsed(b.gamCreativeId,a,b.wrapperSystems)}_markPrebidBidAsUsed(a="",b,c=[]){b=a&&b.videoCreativeIdMapping.get(a);let d=!1,e=!1,f=!1;c.forEach(h=>{h=h.toLowerCase();
"gdfp"===h&&(e=!0);"prebid.org wrapper"===h?d=!0:"amazon"===h&&(f=!0)});if(b){if(a=this._adDetails,a=(a&&a.tag&&this._getCustParamsFromQueryString(a.tag)||{})[`hb_adid_${b}`.substring(0,20)])this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name,adId:a}),this._bidMarkedOnCurrentAd=!0}else if(a)r.event("JwPlayer","MarkBidsAsUsed",{message:"Creative Id Not Found",gamCreativeId:a});else{if(d||e&&!f||!c.length)this._bidMarkedOnCurrentAd=!0,this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name});
r.event("JwPlayer","MarkBidsAsUsed",{message:"Missing Creative Id"})}}_getCustParamsFromQueryString(a){return(a=(a=a&&fb(a.split("?")[1]))&&a.get("cust_params"))&&pk(this._getDecodedURI(a))}_getDecodedURI(a){try{return decodeURIComponent(a)}catch(b){return""}}_getAdDetailsFromAd(a){return a&&0<Object.keys(a).length?a[Object.keys(a)[0]]:null}_handleAdTrackingEvents(){this.playerInstance.on("adLoaded",a=>{let b=a.ima&&a.ima.ad&&this._getAdDetailsFromAd(a.ima.ad);this._currentAdDurationWithBuffer=(b&&
b.duration||a.duration||this._defaultAdDuration)+this._adTimingBuffer;let c=a.tag;b&&(this._addAdDetailFields(c),this._adDetails={...this._additionalAdFields,wrapperIds:b.adWrapperIds,gamCreativeId:b.adWrapperCreativeIds[b.adWrapperCreativeIds.length-1],gamLineItemId:b.adWrapperIds[b.adWrapperIds.length-1],wrapperCreativeIds:b.adWrapperCreativeIds,vastCreativeId:b.creativeId,mediaFileURL:b.mediaUrl,adUnitName:this._name,tag:a.tag,isEmpty:!1,wrapperSystems:b.adWrapperSystems});this._setStaleAdDetection()});
this.playerInstance.on("adImpression",()=>{this._eventProxy.emitVideoSlotRenderedEvent(this._adDetails||{})});this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach(a=>{this.playerInstance.on(a,b=>{r.event("JwPlayer",a,this._getJwEventLog(b))})})}_addAdDetailFields(a){var b=a&&this._getCustParamsFromQueryString(a);a=b&&b.hb_adid;let c=b&&b.hb_adomain,d=b&&b.hb_bidder,e=b&&b.amznp,f=b&&b.hb_pb,h=b&&b.amznbid;b=b&&b.hb_deal;this._additionalAdFields=
{adId:a&&String(a),adomain:c&&String(c),hb_bidder:d&&String(d),amznp:e&&String(e),hb_pb:f&&String(f),amznbid:h&&String(h),hb_deal:b&&String(b)}}_setupEventProxies(){if("adthrive-collapse-mobile"===this._collapseType)this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this));this._spaListeners.push(this._eventProxy.scroll.on(this._handleScroll.bind(this)));this._spaListeners.push(this._eventProxy.resize.on(this._handleResize.bind(this)));this._spaListeners.push(this._eventProxy.pageVisibility.on(this._handlePageVisibilityChange.bind(this)));
this._spaListeners.push(this._eventProxy.videoPlaying.on(this._handleVideoPlayingEvent.bind(this)))}_onBeforeRequestBids(){this._prebidMethods.onEvent("beforeRequestBids",a=>{let b=this._prebidAuctionManager&&this._prebidAuctionManager.userIdComponent.getTargetingData(),c;c=this._prebidAuctionManager&&this._prebidAuctionManager.liveRampPiiPartner._shouldSetTargeting?b?[...b,"ats"]:["ats"]:b;a.forEach(d=>{var e;let f=d.code===this.name;f&&c&&(this.userIdTargetingData=c);d=null!==(e=d.ortb2Imp&&d.ortb2Imp.ext&&
d.ortb2Imp.ext.tid)&&void 0!==e?e:"";f&&d&&(this.transactionId=d)})})}_setupEventListeners(){this._onBeforeRequestBids();this._handleErrors();this._listenForLargeVastError();this._handleTimeEvents();this._handlePlayingEvents();this._handleAdTrackingEvents();this._setupEventProxies();this._listenForPlayerEventsToLog();this.playerInstance.on("ready",this._playerReady.bind(this))}_listenForPlayerEventsToLog(){E.resolve(zi).logEvents(this.playerInstance,{mediaId:this._playlistId,siteId:this._config.site.id,
playerId:this._playerId})}_preventCollapse(){da.disableCollapse=!0;this.collapseCollection&&da.uncollapse(this.collapseCollection)}async _playLinearAd(){let a=()=>{const b=this.buildVideoUrl(this);this.playerInstance._nonLinearAd=!1;this.playerInstance.playAd(b);this._adPlayMap.set(this._prerollNum,!0);this._resetAdVars()};await this._fetchBids();if(0<this._pendingBidRequests.length){let b=this._pendingBidRequests.pop();b&&b.then(()=>{a()}).catch(()=>{})}}}let Ld=class extends ol{constructor(a,b,
c,d,e,f,h,m,n,u,w,t,A,G,N,O){super(a,b,c,d,e,f,1E4,h,n,u,w,t,"contextual",m,A,G,void 0,N);this._mobileHeaderSelector=O;this._topBackgroundElement=null;this._playerConfig={repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`,height:"auto"};this._wrapperBarRemoved=!1;this._hasContentSpecificPlaylist=!(!h.video.contentSpecificPlaylists||!Of(h.video.contentSpecificPlaylists));this._playerElement=document.createElement("div");this._canSkip=!1;this._autoplayStationaryPlayer=
this._shouldStationaryAutoplay();if(m||this._autoplayStationaryPlayer)this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._playerContainer=this._pageElement}_appendPlayer(){let a=document.createElement("div");a.id=this._playlistId;a.className="adthrive-jw-static-player";this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id=
"adthrive-contextual-position",this.isTopCenterCollapse()&&this._createTopCenterBackground(this._pageElement),this._config.video.removeVideoTitleWrapper?this._addCloseWithoutWrapper():this.isTopCenterCollapse()?this._addTopCenterWrapper():this._addPlayerWithoutWrapper(),this._playerElement.appendChild(a),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(a)}setup(){this._isFirstPlay&&this._appendPlayer();this.playerInstance=window.jwplayer(this._playlistId);if(this._isCollapsible){let a=
{playerElement:this._playerElement,playerContainer:this._pageElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null,stickyElement:this._stickyElement,mobileHeaderSelector:this._mobileHeaderSelector||null};this._createCollapsibleCollection(a);this._playerConfig.playlist=ia.addMaxResolutionQueryParam(this._playerConfig.playlist)}this._jwSetup(this._playerConfig);this._config.video.contextualPlayerAdded=!0}_handleNextButton(){this._hideWrapperBar();
super._handleNextButton()}_playerReady(a){super._playerReady(a);this._initRelatedPlaylist();let b=this._autoplayStationaryPlayer;if(b||this.collapseCollection)a.viewable&&void this._inViewPlay(),b&&this._logStationaryAutoplay();this._isCollapsible&&this._setupCollapsible()}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&r.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}_loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then(a=>
{a.playlist&&a.playlist.length&&(a=this._hasContentSpecificPlaylist?a.playlist:ia.shufflePlaylist(a.playlist),a=this.playerInstance.getPlaylist().concat(a),this.playerInstance.once("userInactive",()=>{var b;(null===(b=this.collapseCollection)||void 0===b?0:b.mediaStarted)||this._handleScroll().catch(()=>{})}),this.playerInstance.load(a),this._handleScroll().catch(()=>!1))}).catch(()=>!1)}_setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0);this.playerInstance.once("complete",
()=>{this._hideWrapperBar();this._canSkip=!0})}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}_setWrapperBar(){this._wrapperBar=this._playerElement.querySelector(".adthrive-wrapper-bar")}_hideWrapperBar(){let a=this._wrapperBar,b=this._playerElement;!this._wrapperBarRemoved&&a&&(this._wrapperBarRemoved=!0,a.parentNode&&a.parentNode.removeChild(a),this._wrapperBar=null,b.insertBefore(this._createPlayerCloseButton(),
b.firstChild),this.collapseCollection&&(this.collapseCollection.closeButton=this._closeButton,this._displayCloseButton()))}_addCloseWithoutWrapper(){this._playerElement.appendChild(this._createPlayerCloseButton());this._playerElement.classList.add("adthrive-player-without-wrapper-text")}_addTopCenterWrapper(){this._playerElement.appendChild(this._createPlayerWrapper(!1));this._playerElement.appendChild(this._createTopCollapseWrapper(!1));this._playerElement.classList.add("adthrive-player-with-wrapper-text")}_addPlayerWithoutWrapper(){this._playerElement.appendChild(this._createPlayerWrapper(!1));
this._playerElement.classList.add("adthrive-player-without-wrapper-text")}_initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then(a=>{a&&(this._loadPlaylistPlayerVideos(),this._setupAllowSkip(),this.playerInstance.on("firstFrame",()=>this._handleFirstFrame()),this.playerInstance.getContainer().addEventListener("click",()=>this._handleVideoPlayerClicked()),this._initSkipContainer())}).catch(()=>!1)}_setTitleTextForVideoTitleElement(a){var b=this.playerInstance.getPlaylistItem(0);
b=La(b,"title")?b.title:null;a.innerText="string"===typeof b?b:""}_setupCollapsible(){this._setWrapperBar();this._wrapperBar&&this._wrapperBar.style.setProperty("display","flex");this._videoTitleElement&&this._setTitleTextForVideoTitleElement(this._videoTitleElement);this._topCollapseVideoTitleElement&&this._setTitleTextForVideoTitleElement(this._topCollapseVideoTitleElement);this._handleResize()}};Ld=k([p("ContextualPlayer"),l("design:paramtypes",[Object,String,String,Array,HTMLElement,Ya,y,Boolean,
String,String,V,Gb,Boolean,String,String,Object])],Ld);let Ai=class extends ol{constructor(a,b,c,d,e,f,h,m,n="adthrive-collapse-float",u,w,t,A,G,N,O,H,P,K){super(a,b,c,d,f,h,m.video.vastTimeout,m,n,u,w,t,"playlist",!0,A,G,H,N);this._sharedVideoSettings=e;this._title=P;this._shuffle=K;this._topBackgroundElement=null;this._isCollapsible=!0;this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}};this._playerContainer=(this._clsPlayerContainer=
document.querySelector(`#cls-video-container-${this._playlistId} > div`))?this._clsPlayerContainer:document.createElement("div");this._playerElement=document.createElement("div");a=(a=this._config.video.contentSpecificPlaylists)&&Of(a);this._hasContentSpecificPlaylist=!!a;a&&(this._playlistId=a,this._playerConfig.playlist=`https://cdn.jwplayer.com/v2/playlists/${a}`);this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig};this.initialAuctionPlayer=!0;this._stickyElement=null;this._checkVideoClose()&&
(this._state=7);this._footerElement=this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null;this._createCollapsibleCollection({playerElement:this._playerElement,playerContainer:this._playerContainer,footerElement:this._footerElement,stickyElement:this._stickyElement,mobileHeaderSelector:O||null})}setup(){this._isFirstPlay&&this._appendPlayer();this.playerInstance=window.jwplayer(this._playlistId);this.collapseCollection&&(this.collapseCollection.playerInstance=
this.playerInstance,this.collapseCollection.playerContainer=this._playerContainer,this.collapseCollection.playerElement=this._playerElement,this.collapseCollection.topBackgroundElement=this._topBackgroundElement);this._isCollapsible&&(this._playerConfig.playlist=ia.addMaxResolutionQueryParam(this._playerConfig.playlist));this._jwSetup(this._playerConfig);this._config.video.playlistPlayerAdded=!0}_appendPlayer(){let a=document.createElement("div");this._playerContainer.classList.add("adthrive-player-container");
this._playerContainer.classList.add("adthrive-collapse-player");this._playerContainer.id="adthrive-collapse-container";this._playerElement.className="adthrive-player-position";this._playerElement.id="adthrive-collapse-position";a.id=this._playlistId;let b=this._getTitle();if(b){let c=document.createElement("h3");c.innerText=b;c.className="adthrive-player-title";c.id="adthrive-collapse-title";this._playerElement.appendChild(c)}this._config.video.removeVideoTitleWrapper?(this._playerElement.appendChild(this._createPlayerCloseButton()),
this._playerElement.classList.add("adthrive-player-without-wrapper-text")):"adthrive-collapse-mobile"===this._collapseType&&this._isTopCollapse?(this._playerElement.appendChild(this._createPlayerWrapper(!0)),this._playerElement.appendChild(this._createTopCollapseWrapper()),this._playerElement.classList.add("adthrive-player-with-wrapper-text")):(this._playerElement.appendChild(this._createPlayerWrapper(!0)),this._playerElement.classList.add("adthrive-player-without-wrapper-text"));this.collapseCollection.closeButton=
this._closeButton;this._playerElement.appendChild(a);this.isTopCenterCollapse()&&this._createTopCenterBackground(this._playerContainer);this._playerContainer.appendChild(this._playerElement);this._clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,this._playerContainer)}_linkProvidedByPublisher(a){return!a.startsWith("https://cdn.jwplayer.com")}_playerReady(a){var b;super._playerReady(a);null===(b=this._playerElement.querySelector(".adthrive-wrapper-bar"))||
void 0===b?void 0:b.style.setProperty("display","flex");this._getShuffle()&&!this._hasContentSpecificPlaylist&&(b=this.playerInstance.getPlaylist(),this.playerInstance.load(ia.shufflePlaylist(b)));this._config.video.advancePlaylist.playlistPlayer.enabled&&(this.playerInstance.on("firstFrame",()=>this._handleFirstFrame()),this.playerInstance.getContainer().addEventListener("click",()=>this._handleVideoPlayerClicked()),this._initSkipContainer());this.playerInstance.on("playlistItem",c=>{c=c.item;let d=
this._playlistId,e=document.getElementById(`${d}-learn-more-link`),f=document.getElementById(`${d}-svg-link`);this._videoTitleElement&&La(c,"title")&&"string"===typeof c.title&&(this._videoTitleElement.innerText=c.title);this._topCollapseVideoTitleElement&&La(c,"title")&&"string"===typeof c.title&&(this._topCollapseVideoTitleElement.innerText=c.title);this._wrapperTitleWrapperElement&&La(c,"link")&&"string"===typeof c.link&&this._linkProvidedByPublisher(c.link)&&(this._wrapperTitleWrapperElement.href=
c.link,f||this._wrapperTitleWrapperElement.prepend(this._createLinkIcon(d)));this._wrapperText&&La(c,"link")&&"string"===typeof c.link&&this._linkProvidedByPublisher(c.link)&&(this._wrapperText.href=c.link,e||this._wrapperText.append(this._createLearnMoreLink(d)));c&&La(c,"link")&&"string"===typeof c.link&&!this._linkProvidedByPublisher(c.link)&&(null===f||void 0===f?void 0:f.remove(),null===e||void 0===e?void 0:e.remove())});this._handleResize();a.viewable&&void this._inViewPlay()}_getShuffle(){return this._shuffle?
this._shuffle:!1}_getTitle(){return this._title?this._title:""}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};Ai=k([p("PlaylistPlayer"),l("design:paramtypes",[String,String,String,Array,Object,HTMLElement,Ya,y,String,String,V,Gb,Boolean,String,String,Object,Boolean,String,Boolean])],Ai);let Md=class extends hb{constructor(a,b,c){super();this._siteExperiments=a;this._pubabgroup=b;this.storagePrefix="se";this._choices=[];this._result=!1;this.key=ra.StickyOutstreamOnStickyPlayer;
this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);this.enabled&&this.experimentConfig&&Dk(c)&&(this._choices=this.experimentConfig.variants,this._result=this.run(),this.setExperimentTargeting())}run(){return(new ba(this._choices[0].weight/100)).get()}setExperimentTargeting(){if(this.enabled&&this.experimentConfig){var a=`${this.experimentConfig.key.toLowerCase()}-${this.experimentConfig.id}`;this._pubabgroup.set(a,this._result?"on":"off")}else r.error("StickyOutstreamOnStickyPlayerPagesSiteExperiment",
"setExperimentTargeting","() => %o","Experiment targeting requires an experiment config")}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Md.prototype,"run",null);Md=k([q(),S(2,R("AdThrive")),l("design:paramtypes",[Fa,xa,Object])],Md);let Nd=class extends J{init(){this._key="StickyOutstreamOnStickyPlayerPages";this._default=!0}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Nd.prototype,
"run",null);Nd=k([p("StickyOutstreamOnStickyPlayerPagesExperiment"),q()],Nd);class Qn extends C{constructor(a,b){super();this._videoConfig=a;this._component=b;this._stickyRelatedOnPage=!1;this._contextualMediaIds=[];this._device=pa()?"desktop":"mobile";this._potentialPlayerMap=this.setPotentialPlayersMap()}setPotentialPlayersMap(){var a=this._videoConfig.players||[];let b=this._filterPlayerMap();a=a.filter(c=>"stationaryRelated"===c.type&&c.enabled);b.stationaryRelated=a;return this._potentialPlayerMap=
b}_filterPlayerMap(){let a=this._videoConfig.players,b={stickyRelated:[],stickyPlaylist:[],stationaryRelated:[]};return a&&a.length?a.filter(c=>{var d;return null===(d=c.devices)||void 0===d?void 0:d.includes(this._device)}).reduce((c,d)=>{c[d.type]||(r.event(this._component,"constructor","Unknown Video Player Type detected",d.type),c[d.type]=[]);d.enabled&&c[d.type].push(d);return c},b):b}_checkPlayerSelectorOnPage(a){a=this._potentialPlayerMap[a].map(b=>({player:b,playerElement:this._getPlacementElement(b)}));
return a.length?a[0]:{player:null,playerElement:null}}_getOverrideElement(a,b,c){if(a&&b)c=document.createElement("div"),b.insertAdjacentElement(a.position,c);else{let {player:d,playerElement:e}=this._checkPlayerSelectorOnPage("stickyPlaylist");d&&e&&(a=document.createElement("div"),e.insertAdjacentElement(d.position,a),c=a)}return c}_shouldOverrideElement(a){a=a.getAttribute("override-embed");return"true"===a||"false"===a?"true"===a:this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.overrideEmbedLocation:
!1}_getPlacementElement(a){var b;let c=gb(a.pageSelector),d=tk(a.elementSelector);if(!c.valid)return r.error("VideoUtils","getPlacementElement",Error(`${a.pageSelector} is not a valid selector`)),null;if(a.pageSelector&&(null===(b=c.elements)||void 0===b||!b.length))return r.event("VideoUtils","getPlacementElement",Error(`PSNF: ${a.pageSelector} does not exist on the page`)),null;if(!d.valid)return r.error("VideoUtils","getPlacementElement",Error(`${a.elementSelector} is not a valid selector`)),null;
if(d.elements.length>a.skip)return d.elements[a.skip];r.event("VideoUtils","getPlacementElement",Error(`ESNF: ${a.elementSelector} does not exist on the page`));return null}_getEmbeddedPlayerType(a){(a=a.getAttribute("data-player-type"))&&"default"!==a||(a=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static");this._stickyRelatedOnPage&&(a="static");return a}_getUnusedMediaId(a){return(a=a.getAttribute("data-video-id"))&&!this._contextualMediaIds.includes(a)?
(this._contextualMediaIds.push(a),a):!1}_createRelatedPlayer(a,b,c){"collapse"===b?this._createCollapsePlayer(a,c):"static"===b&&this._createStaticPlayer(a,c)}_createCollapsePlayer(a,b){let {player:c,playerElement:d}=this._checkPlayerSelectorOnPage("stickyRelated"),e=c?c:this._potentialPlayerMap.stationaryRelated[0];e&&e.playerId?(this._shouldOverrideElement(b)&&(b=this._getOverrideElement(c,d,b)),b=document.querySelector(`#cls-video-container-${a} > div`)||b,this._createStickyRelatedPlayer({...e,
mediaId:a},b)):r.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(a,b){this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId?this._createStationaryRelatedPlayer({...this._potentialPlayerMap.stationaryRelated[0],mediaId:a},b):r.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return this._isVideoAllowedOnPage()&&(this._potentialPlayerMap.stickyRelated.length||
this._potentialPlayerMap.stickyPlaylist.length)?!0:!1}_determineAutoplayPlayers(){let a=this._component,b="VideoManagerComponent"===a,c=this._config;if(this._stickyRelatedOnPage)r.event(a,"stickyRelatedOnPage",b&&{device:c&&c.context.device,isDesktop:this._device}||{});else{var {player:d,playerElement:e}=this._checkPlayerSelectorOnPage("stickyPlaylist");d&&d.playerId&&d.playlistId&&e?this._createPlaylistPlayer(d,e):r.event(a,"noStickyPlaylist",b&&{vendor:"none",device:c&&c.context.device,isDesktop:this._device}||
{})}}_initializeRelatedPlayers(a){for(let b=0;b<a.length;b++){let c=a[b],d=this._getEmbeddedPlayerType(c),e=this._getUnusedMediaId(c);e&&this._createRelatedPlayer(e,d,c)}}}let Bi=class{constructor(a,b,c,d,e,f,h){this._abgroup=a;this._config=b;this._gam=c;this._irisTv=d;this._floors=e;this._videoEventBus=f;this._slotEventBus=h;this._apstagSlotBids=new Map;this._prebidSlotTargetingMap=new Map;this.shouldPrebidRun=!1;this._videoEventBus.addAPStagSlotBidResponse.on(({playlistId:m,bid:n})=>this._addAPStagSlotBidResponse(m,
n));this._slotEventBus.addPrebidSlotTargeting.on(({adUnitCode:m,slotTargeting:n})=>this._addPrebidSlotTargeting(m,n))}_addAPStagSlotBidResponse(a,b){this._apstagSlotBids.set(a,b)}_addPrebidSlotTargeting(a,b){this._prebidSlotTargetingMap.set(a,b)}getVideoTargeting(a,b){let c=this._irisTv.irisContextualData,d={};Object.keys(b).forEach(e=>{let f=this._abgroup.get("rvadv_ab1");"abgroup"===e&&f&&b[e].push(`${"rvadv_ab1"}:${f}`);d[e]=encodeURIComponent(b[e].toString())});d.vprenum=String(a._prerollNum);
d.jwv=a.jwVersion||"";d.imav=a.imaVersion||"";d.voba=this._config.videoOpenBidding.bidders.toString();c&&(d.iris_context=c.toString());return d}_getVideoBid(a){let b=this._apstagSlotBids.get(a);if(b)return this._apstagSlotBids.delete(a),b}getPrebidNoBidTargeting(a){if(a=this.getPrebidSlotTargeting(a).noBid)return{hb_bidder:a}}getPrebidSlotTargeting(a){return this._prebidSlotTargetingMap.get(a)||{}}_convertFlagSlotValues(a){let b=[];Object.keys(a).forEach(c=>{let d=a[c];"string"===typeof d?b.push(`${c}%3A${d}`):
Array.isArray(d)&&0<d.length&&b.push(d.map(e=>`${c}%3A${e}`).join(","))});return b.join(",")}_getAmazonBidTargeting(a){if(a=this._getVideoBid(a)){let b={};for(let c in a)"targeting"===c?b={...b,...a[c]}:this._config.amazon.amznTargetingKeys.includes(c)&&(b[c]=a[c]);return b}}_getCustParams(a){let b=this._gam.getTargetingMap(),c=this._getAmazonBidTargeting(a._playlistId),d={...("playlist"===a.isPlayerType&&{plid:a._playlistId}),jwmid:a.mediaId,...this._floors.getVideoFlagSlot(a.name),idp:a.userIdTargetingData,
tid:a.transactionId};return{...(d&&{flag_slot:this._convertFlagSlotValues(d)}),...this.getVideoTargeting(a,b),...this.getPrebidNoBidTargeting(a.name),...c}}handleGdprConsent(){let a={gdpr:1,gdpr_consent:"tcunavailable"};"function"===typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,b=>{b&&b.tcString&&b.tcString.length&&(a.gdpr_consent=b.tcString);b&&b.addtlConsent&&b.addtlConsent.length&&(a.addtl_consent=b.addtl_consent)});return a}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();
else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(a){let b=window.location.origin,c=Xb();return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${a.name}/${this._config.site.id}`,sz:a.size.join("x"),hl:"en",output:"vast",url:"__page-url__",vad_type:"linear",description_url:`${encodeURIComponent(encodeURIComponent(b))}`,pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript",vpos:"preroll",wta:1,tfcd:c?1:0}}buildGAMVideoUrl(a){var b=
this.getConsentParams(),c=ia.createQueryString(this._getCustParams(a));c=ia.createEncodedQueryString({cust_params:c});a=this.getDefaultVideoUrlParams(a);b={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...a,...b};return`${"https://securepubads.g.doubleclick.net/gampad/ads"}?${ia.createQueryString(b)}&${c}`}buildGAMVideoUrlPrebid(a){let b=a.videoAdUnit||{},c=this._getCustParams(a);a=this.getDefaultVideoUrlParams(a);return window.pbjs.adServers.dfp.buildVideoUrl({adUnit:b,
params:{...a,cust_params:c}})}buildVideoUrl(a){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(a):this.buildGAMVideoUrl(a)}};Bi=k([p("VideoUrlBuilder"),q(),l("design:paramtypes",[aa,y,D,Cb,Na,wa,Ia])],Bi);let Rn=(a=>{let b=!1;return async()=>{if(!b){try{await Fe(a)}catch(c){}b=!0}}})({condition:()=>!1,delay:500,maxAttempts:8}),Od=class extends J{init(){this._key="VideoCollapseScrollUp";this._default=!1}isEnabled(){return super.isEnabled()&&!I()}run(){return super.run()}};k([L(),l("design:type",
Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Od.prototype,"run",null);Od=k([p("VideoCollapseScrollUpExperiment"),q()],Od);let Pd=class extends T{init(){this._key="VideoCollapseScrollUpTopCenter"}isEnabled(){return super.isEnabled()&&I()}run(){return super.run()}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Pd.prototype,"run",null);Pd=k([p("VideoCollapseScrollUpTopCenterExperiment"),q()],Pd);let Ci=class extends Qn{constructor(a,b,
c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P){super(a.video,"VideoManagerComponent");this._config=a;this._bootstrapConfig=b;this._prebidMethods=c;this._auctionManagers=d;this._jwBoostExperiment=e;this._userPageDataLoggingEvent=f;this._collapsibleVideoLoggingStore=h;this._videoRequestManager=m;this._eventProxy=n;this._mediaType=u;this._stickyOutstreamOnStickyPlayerPagesExperiment=w;this._stickyOutstreamOnStickyPlayerPagesSiteExperiment=t;this._videoUrlBuilder=A;this._irisTv=G;this._events=N;this._spaEventBus=O;
this._videoCollapseScrollUpExperiment=H;this._videoCollapseScrollUpTopCenterExperiment=P;this._jwPlayers=[];this._spaListeners=[];this._IN_POST_SELECTOR=".adthrive-video-player";this._desktopCollapseOnScrollUp=!1;this._mobileCollapseOnScrollUp="off";this._desktopCollapseOnScrollUp=this._videoCollapseScrollUpExperiment.result;this._mobileCollapseOnScrollUp=this._videoCollapseScrollUpTopCenterExperiment.result||"off"}async init(){var a,b;(((null!==(b=null===(a=document.querySelector("meta[name=generator]"))||
void 0===a?void 0:a.content)&&void 0!==b?b:null)||"").includes("Wix")||window.wixPerformanceMeasurements||window["wix-perf-measure"]||window.wixDevelopersAnalytics)&&await Rn();this._setupSpaListeners();this._handleCollapsibleVideoLogging();this._initializePlayers();this._mediaType.runOneStreamExperiment()}_setupSpaListeners(){this._spaEventBus.routeChanged.on(()=>{this._removeExistingSpaListeners();this._removePlayers();this._stickyRelatedOnPage=!1;this._contextualMediaIds=[];this.setPotentialPlayersMap()});
this._spaEventBus.resetCompleted.on(()=>{this._handleCollapsibleVideoLogging();this._initializePlayers()})}_removeExistingSpaListeners(){this._spaListeners.forEach(a=>a());this._spaListeners.length=0}_removePlayers(){this._jwPlayers.forEach(a=>a.playerInstance.remove());this._jwPlayers.length=0}_initializePlayers(){let a=document.querySelectorAll(this._IN_POST_SELECTOR);a.length&&this._initializeRelatedPlayers(a);if(this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(b){r.error("VideoManagerComponent",
"initializePlayers",b)}}else try{this._importScripts()}catch(b){r.error("VideoManagerComponent","initializePlayers",b)}}_createStationaryRelatedPlayer(a,b){a=new Ld(a.playerId,a.mediaId,x.Video_In_Post_ClicktoPlay_SoundOn,"mobile"===this._device?[400,225]:[640,360],b,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,this._desktopCollapseOnScrollUp,this._mobileCollapseOnScrollUp);this._jwPlayers.push(a)}_createStickyRelatedPlayer(a,
b){let c="mobile"===this._device?[400,225]:[640,360],d=x.Video_Individual_Autoplay_SOff,e=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=d;this._stickyRelatedOnPage=!0;this._config.video.mobileStickyPlayerOnPage="mobile"===this._device?!0:!1;a=new Ld(a.playerId,a.mediaId,d,c,b,this._eventProxy,this._config,!0,e,"adthrive-collapse-medium",this._prebidMethods,this._auctionManagers,this._desktopCollapseOnScrollUp,this._mobileCollapseOnScrollUp,a.mobileLocation,a.mobileHeaderSelector);
this._jwPlayers.push(a)}_createPlaylistPlayer(a,b){let c=a.playerId,d=a.playlistId,e=this._getCollapseType(),f="adthrive-collapse-mobile"===e?[400,225]:[640,360],h="mobile"===this._device?x.Video_Coll_SOff_Smartphone:x.Video_Collapse_Autoplay_SoundOff,m={classNames:[],enabled:!0,pageSelector:a.pageSelector,elementSelector:a.elementSelector,position:a.position,skip:a.skip};this._config.video.mobileStickyPlayerOnPage=!0;a=new Ai(c,d,h,f,m,b,this._eventProxy,this._config,e,"adthrive-collapse-medium",
this._prebidMethods,this._auctionManagers,this._desktopCollapseOnScrollUp,this._mobileCollapseOnScrollUp,a.mobileLocation,a.mobileHeaderSelector,a.saveVideoCloseState,a.title,a.shuffle);this._collapsibleVideoLoggingStore.playerName=h;this._jwPlayers.push(a)}_initJwBoost(){this._prebidMethods.setConfig({...(this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}})})}_hasViewableCollapsiblePlayer(a){return a.length?
a.some(b=>b.collapsible&&ia.playerViewable(b._pageElement)):!1}_hasCollapsiblePlayer(a){return a.length?a.some(b=>b.collapsible):!1}_hasViewableAutoplayStationaryPlayer(a){return a.length?a.some(b=>!b.collapsible&&ia.playerViewable(b._pageElement)):!1}_setPlayerInstance(a){void this._resetPlayer(a)}_resetPlayer(a){a.init()}async _initializePlayer(a,b){let c=this._videoRequestManager;a.setDefaults(window.jwplayer.defaults);window.jwplayer.defaults={};await this._bootstrapConfig.bootstrapLoaders[qa.Prebid].then(()=>
{this._videoUrlBuilder.shouldPrebidRun=!0}).catch(()=>{});b&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]);c.addVideoSlots([a]);a.setPlayerInstance=this._setPlayerInstance.bind(this);a.requestVideoBids=async d=>await c.requestVideoBids(d);a.waitForConsent=this.gdprConsentWait.bind(this);D.pushToQueue(()=>{a.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder);a.init()})}async gdprConsentWait(){return new Promise(a=>{this._events.consentCaptured.on(b=>
{b&&a(!0)})})}_importScripts(){this._config.video.preventStickyOutstream=this._preventStickyOutstream();this._config.ccpa.userOptedOut||this._initJwBoost();this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0);this._jwPlayers.forEach(a=>{let b="contextual"===a.isPlayerType;b&&this._config.video.setupAdvanceRelatedExperiment(a.collapsible);Ea(`https://content.jwplatform.com/libraries/${a._playerId}.js${this._config.video.jwpVersion?`?version_override=${this._config.video.jwpVersion}`:""}`).then(async()=>
this._initializePlayer(a,b)).catch(c=>r.error("VideoManagerComponent","importScripts",c))})}_preventStickyOutstream(){let a=this._hasViewableCollapsiblePlayer(this._jwPlayers),b=!a&&this._hasViewableAutoplayStationaryPlayer(this._jwPlayers),c=this._disableStickyOutstreamInPresenceOfCollapsiblePlayer();return a||b||c}_disableStickyOutstreamInPresenceOfCollapsiblePlayer(){return this._hasCollapsiblePlayer(this._jwPlayers)?this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.enabled&&this._stickyOutstreamOnStickyPlayerPagesSiteExperiment.result?
!1:this._stickyOutstreamOnStickyPlayerPagesExperiment.result?!1===this._config.video.stickyOutstreamSettings.allowForPageWithStickyPlayer.enabled:!0:!1}_isVideoAllowedOnPage(){return this._config.disableAds.video?(this._config.disableAds.reasons.has("video_tag")?r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via video plugin")):
this._config.disableAds.reasons.has("video_page")?r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via command queue")):r.error("VideoManagerComponent","isVideoAllowedOnPage",Error("DBP: Disabled by publisher via other")),!1):!0}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){this._spaListeners.push(da.collapseEvent.on(()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=
fa()}));this._spaListeners.push(da.uncollapseEvent.on(()=>{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?fa()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0;this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0}));this._spaListeners.push(da.closeEvent.on(()=>{this._collapsibleVideoLoggingStore.wasClosed=!0}));da.startEvent.once(()=>{this._collapsibleVideoLoggingStore.wasStarted=!0});this._spaListeners.push(this._userPageDataLoggingEvent.loggingData.on(()=>
{this._collapsibleVideoLoggingStore.startedCollapsedTime&&(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=fa()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};Ci=k([p("VideoManagerComponent"),v(),l("design:paramtypes",[y,ka,V,Gb,qc,xb,xd,kb,Ya,ya,Nd,Md,Bi,Cb,Oa,ja,Od,Pd])],Ci);var ab,uc,pl,Qd,vc,ql=-1,nb=function(a){addEventListener("pageshow",function(b){b.persisted&&(ql=b.timeStamp,a(b))},!0)},Di=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},
Rd=function(){var a=Di();return a&&a.activationStart||0},za=function(a,b){var c=Di(),d="navigate";0<=ql?d="back-forward-cache":c&&(document.prerendering||0<Rd()?d="prerender":document.wasDiscarded?d="restore":c.type&&(d=c.type.replace(/_/g,"-")));return{name:a,value:void 0===b?-1:b,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1E12),navigationType:d}},Ib=function(a,b,c){try{if(PerformanceObserver.supportedEntryTypes.includes(a)){var d=
new PerformanceObserver(function(e){Promise.resolve().then(function(){b(e.getEntries())})});return d.observe(Object.assign({type:a,buffered:!0},c||{})),d}}catch(e){}},Aa=function(a,b,c,d){var e,f;return function(h){0<=b.value&&(h||d)&&((f=b.value-(e||0))||void 0===e)&&(e=b.value,b.delta=f,h=b.value,b.rating=h>c[1]?"poor":h>c[0]?"needs-improvement":"good",a(b))}},Ei=function(a){requestAnimationFrame(function(){return requestAnimationFrame(function(){return a()})})},Sd=function(a){var b=function(c){"pagehide"!==
c.type&&"hidden"!==document.visibilityState||a(c)};addEventListener("visibilitychange",b,!0);addEventListener("pagehide",b,!0)},Fi=function(a){var b=!1;return function(c){b||(a(c),b=!0)}},Jb=-1,Td=function(a){"hidden"===document.visibilityState&&-1<Jb&&(Jb="visibilitychange"===a.type?a.timeStamp:0,removeEventListener("visibilitychange",Td,!0),removeEventListener("prerenderingchange",Td,!0))},rl=function(){addEventListener("visibilitychange",Td,!0);addEventListener("prerenderingchange",Td,!0)},Gi=
function(){return 0>Jb&&(Jb="hidden"!==document.visibilityState||document.prerendering?1/0:0,rl(),nb(function(){setTimeout(function(){Jb="hidden"!==document.visibilityState||document.prerendering?1/0:0;rl()},0)})),{get firstHiddenTime(){return Jb}}},wc=function(a){document.prerendering?addEventListener("prerenderingchange",function(){return a()},!0):a()},sl=[1800,3E3],tl=function(a,b){b=b||{};wc(function(){var c,d=Gi(),e=za("FCP"),f=Ib("paint",function(h){h.forEach(function(m){"first-contentful-paint"===
m.name&&(f.disconnect(),m.startTime<d.firstHiddenTime&&(e.value=Math.max(m.startTime-Rd(),0),e.entries.push(m),c(!0)))})});f&&(c=Aa(a,e,sl,b.reportAllChanges),nb(function(h){e=za("FCP");c=Aa(a,e,sl,b.reportAllChanges);Ei(function(){e.value=performance.now()-h.timeStamp;c(!0)})}))})},ul=[.1,.25],Sn=function(a,b){b=b||{};tl(Fi(function(){var c,d=za("CLS",0),e=0,f=[],h=function(n){n.forEach(function(u){if(!u.hadRecentInput){var w=f[0],t=f[f.length-1];e&&1E3>u.startTime-t.startTime&&5E3>u.startTime-w.startTime?
(e+=u.value,f.push(u)):(e=u.value,f=[u])}});e>d.value&&(d.value=e,d.entries=f,c())},m=Ib("layout-shift",h);m&&(c=Aa(a,d,ul,b.reportAllChanges),Sd(function(){h(m.takeRecords());c(!0)}),nb(function(){e=0;d=za("CLS",0);c=Aa(a,d,ul,b.reportAllChanges);Ei(function(){return c()})}),setTimeout(c,0))}))},xc={passive:!0,capture:!0},Tn=new Date,xl=function(a,b){ab||(ab=b,uc=a,pl=new Date,vl(removeEventListener),wl())},wl=function(){if(0<=uc&&uc<pl-Tn){var a={entryType:"first-input",name:ab.type,target:ab.target,
cancelable:ab.cancelable,startTime:ab.timeStamp,processingStart:ab.timeStamp+uc};Qd.forEach(function(b){b(a)});Qd=[]}},Un=function(a){if(a.cancelable){var b=(1E12<a.timeStamp?new Date:performance.now())-a.timeStamp;"pointerdown"==a.type?function(c,d){var e=function(){xl(c,d);h()},f=function(){h()},h=function(){removeEventListener("pointerup",e,xc);removeEventListener("pointercancel",f,xc)};addEventListener("pointerup",e,xc);addEventListener("pointercancel",f,xc)}(b,a):xl(b,a)}},vl=function(a){["mousedown",
"keydown","touchstart","pointerdown"].forEach(function(b){return a(b,Un,xc)})},yl=[100,300],Vn=function(a,b){b=b||{};wc(function(){var c=Gi(),d=za("FID"),e=function(n){n.startTime<c.firstHiddenTime&&(d.value=n.processingStart-n.startTime,d.entries.push(n),m(!0))},f=function(n){n.forEach(e)},h=Ib("first-input",f);var m=Aa(a,d,yl,b.reportAllChanges);h&&Sd(Fi(function(){f(h.takeRecords());h.disconnect()}));h&&nb(function(){d=za("FID");m=Aa(a,d,yl,b.reportAllChanges);Qd=[];uc=-1;ab=null;vl(addEventListener);
Qd.push(e);wl()})})},Ud=0,Hi=1/0,Vd=0,Wn=function(a){a.forEach(function(b){b.interactionId&&(Hi=Math.min(Hi,b.interactionId),Vd=Math.max(Vd,b.interactionId),Ud=Vd?(Vd-Hi)/7+1:0)})},zl=[200,500],Ii=0,Ja=[],Ji={},Al=function(a){var b=Ja[Ja.length-1],c=Ji[a.interactionId];if(c||10>Ja.length||a.duration>b.latency)c?(c.entries.push(a),c.latency=Math.max(c.latency,a.duration)):(a={id:a.interactionId,latency:a.duration,entries:[a]},Ji[a.id]=a,Ja.push(a)),Ja.sort(function(d,e){return e.latency-d.latency}),
Ja.splice(10).forEach(function(d){delete Ji[d.id]})},Xn=function(a,b){b=b||{};wc(function(){"interactionCount"in performance||vc||(vc=Ib("event",Wn,{type:"event",buffered:!0,durationThreshold:0}));var c=za("INP"),d=function(h){h.forEach(function(n){(n.interactionId&&Al(n),"first-input"===n.entryType)&&!Ja.some(function(u){return u.entries.some(function(w){return n.duration===w.duration&&n.startTime===w.startTime})})&&Al(n)});var m;(h=(m=Math.min(Ja.length-1,Math.floor(((vc?Ud:performance.interactionCount||
0)-Ii)/50)),Ja[m]))&&h.latency!==c.value&&(c.value=h.latency,c.entries=h.entries,f())},e=Ib("event",d,{durationThreshold:b.durationThreshold||40});var f=Aa(a,c,zl,b.reportAllChanges);e&&(e.observe({type:"first-input",buffered:!0}),Sd(function(){d(e.takeRecords());0>c.value&&0<(vc?Ud:performance.interactionCount||0)-Ii&&(c.value=0,c.entries=[]);f(!0)}),nb(function(){Ja=[];Ii=vc?Ud:performance.interactionCount||0;c=za("INP");f=Aa(a,c,zl,b.reportAllChanges)}))})},Bl=[2500,4E3],Ki={},Yn=function(a,b){b=
b||{};wc(function(){var c=Gi(),d=za("LCP"),e=function(n){(n=n[n.length-1])&&n.startTime<c.firstHiddenTime&&(d.value=Math.max(n.startTime-Rd(),0),d.entries=[n],h())},f=Ib("largest-contentful-paint",e);if(f){var h=Aa(a,d,Bl,b.reportAllChanges);var m=Fi(function(){Ki[d.id]||(e(f.takeRecords()),f.disconnect(),Ki[d.id]=!0,h(!0))});["keydown","click"].forEach(function(n){addEventListener(n,m,!0)});Sd(m);nb(function(n){d=za("LCP");h=Aa(a,d,Bl,b.reportAllChanges);Ei(function(){d.value=performance.now()-n.timeStamp;
Ki[d.id]=!0;h(!0)})})}})},Cl=[800,1800],Zn=function c(b){document.prerendering?wc(function(){return c(b)}):"complete"!==document.readyState?addEventListener("load",function(){return c(b)},!0):setTimeout(b,0)},$n=function(b,c){c=c||{};var d=za("TTFB"),e=Aa(b,d,Cl,c.reportAllChanges);Zn(function(){var f=Di();if(f){var h=f.responseStart;0>=h||h>performance.now()||(d.value=Math.max(h-Rd(),0),d.entries=[f],e(!0),nb(function(){d=za("TTFB",0);(e=Aa(b,d,Cl,c.reportAllChanges))(!0)}))}})};let Wd=class extends C{constructor(b,
c){super();this._bootstrapConfig=b;this._pageManager=c;this._maxTimeOnPage=36E5;this._webVitals=[];this._webVitalsSent=!1}init(){this._visibilityChangeOff=this._pageManager.visibilityChange.on(()=>this.logWebVitals());we().then(()=>{let b=this.addWebVital.bind(this);Vn(b);Sn(b);Yn(b);tl(b);Xn(b);$n(b)}).catch(()=>!1);setTimeout(()=>{this.logWebVitals()},this._maxTimeOnPage)}addWebVital({name:b,delta:c,value:d,id:e}){this._webVitals.push({name:b,delta:c,value:d,id:e})}logWebVitals(){var b;if(!this._webVitalsSent){var c=
{webVitals:this._webVitals,DOMSize:document.querySelectorAll("*").length,gptLoad:!0,gptv:googletag&&googletag.getVersion&&googletag.getVersion()};this._webVitalsSent=!0;null===(b=this._visibilityChangeOff)||void 0===b?void 0:b.call(this);this._bootstrapConfig.gptLibFailed&&(c.gptLoad=!1);r.fetchEvent("WebVitalsComponent","logWebVital",c)}}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};Wd=k([p("WebVitalsComponent"),v(),l("design:paramtypes",[ka,va])],Wd);let Li=class extends J{init(){this._key=
"LayoutShift";this._default=!1}isEnabled(){return super.isEnabled()&&eb()}};Li=k([p("LayoutShiftExperiment"),q()],Li);let Xd=class extends C{constructor(b,c,d,e,f,h){super();this._gam=b;this._slotManager=c;this._slots=d;this._videoRequestManager=e;this._layoutShiftExperiment=f;this._pageManager=h;this._events=[];this._maxTimeOnPage=36E5;this._screenHeightsWithin=5;this._previousSiblings=3;this._layoutShiftData=[];this._slotResize={};this._loggedInitialLoadShift=!1;this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&
"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.includes("layout-shift")}watchSlotShift(){this.setPerformanceObserver();this.setResizeEvents();this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver(b=>{this.analyzeEntries(b.getEntries())}),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(b){r.error("LayoutShiftComponent","SetPerformanceObserver",b)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingVideoBids.on(b=>
{b.forEach(c=>{this.setResizeObservers(c._playlistId,c._pageElement)})}));this._events.push(this._gam.slotRequested.on(({slot:b})=>{this.setResizeObservers(b.element.id,b.element)}));this._slotManager.refreshing.once(()=>{this.logLayoutShift()})}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on(()=>this.logLayoutShift()));this._events.push(this._pageManager.visibilityChange.on(()=>this.logLayoutShift()));setTimeout(()=>{this.logLayoutShift()},this._maxTimeOnPage)}setResizeObservers(b,
c){this._slotResize[b]||(this._slotResize[b]={hasResized:!1,resizeObserver:new ResizeObserver(d=>{d.forEach(()=>{this._slotResize[b].hasResized=!0;this._slotResize[b].ro_ts=Date.now();this._slotResize[b].resizeObserver.disconnect()})})},this._slotResize[b].resizeObserver.observe(c))}analyzeEntries(b){let c=Date.now();for(let d of b){let {value:e,sources:f,hadRecentInput:h}=d;if(!h){b={value:e,po_ts:c,nodes:[]};for(let m of f)if(m.node){let n=Ob(m.node),u=n.split(":")[1];b.nodes.push({identifier:n,
posDiff:m.currentRect.top-m.previousRect.top,absPos:window.pageYOffset+Number(m.currentRect.top),prevEls:this.getPreviousSibling(m.node,this._previousSiblings),parent:Ob(m.node.parentNode),hasResized:this.checkResizes(m.node),...(this._slotResize[u]&&this._slotResize[u].ro_ts&&{ro_ts:this._slotResize[u].ro_ts})})}this._layoutShiftData.push(b)}}}getPreviousSibling(b,c=3){b=b.previousElementSibling;let d=0,e=[];for(;b&&d<c;)++d,e.push(Ob(b)),b=b.previousElementSibling;return e}checkResizes(b){let c=
Ob(b).split(":")[1];return this._slotResize[c]&&this._slotResize[c].hasResized?this.checkIsSticky(c)||this.checkElementPlacement(b):!1}checkIsSticky(b){return(b=this._slots.get(b))&&b.isSticky}checkElementPlacement(b){var c=b.getBoundingClientRect();if(c=0<=c.top&&0<=c.left&&c.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&c.right<=(window.innerWidth||document.documentElement.clientWidth)||window.pageYOffset>b.getBoundingClientRect().top+window.pageYOffset)c=this._screenHeightsWithin,
c=window.pageYOffset-(b.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*c;return c}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach(b=>{r.event("LayoutShiftComponent","logLayoutShift",b)}),this.cleanUp())}checkAndTrim(b=[]){if(!b.length)return[];b=[...b].sort((d,e)=>e.value-d.value);var c=JSON.stringify(b);if(c.length>this._maxPayloadSize){if(2>=Math.ceil(c.length/this._maxPayloadSize))return[b.slice(0,
Math.ceil(b.length/2)),b.slice(Math.ceil(b.length/2))];c=this._maxPayloadSize/c.length*(Math.ceil(c.length/this._maxPayloadSize)/2);let d=b.slice();d.length=Math.floor(b.length*c);return this.checkAndTrim(d)}return[b]}cleanUp(){this.disconnectObservers();this.removeEventListeners()}removeEventListeners(){this._events.forEach(b=>{b()})}disconnectObservers(){this._layoutObserver.disconnect();let b=Object.keys(this._slotResize);for(let c of b)this._slotResize[c].resizeObserver.disconnect()}};Xd=k([p("LayoutShiftComponent"),
v(),l("design:paramtypes",[D,U,la,kb,Li,va])],Xd);let Yd=class extends Da{constructor(){super(...arguments);this.stickyContainerAdStylingApplied=new Sa}};Yd=k([q()],Yd);let Mi=class extends C{constructor(b,c,d,e,f,h){super();this._gam=b;this.parallaxAdsExperiment=c;this._pageManager=d;this._slotManager=e;this._stickyContainerAdsEventBus=f;this._videoEventBus=h;this._parallaxSlotMap=new Map;this._parallaxScrollEventOffMap=new Map;this._slotRebuildComplete=new Map;this._stickyContainerAdsApplied=!1;
this._scrollStartPosition=300;this._slotScrollStartPosition=new Map}get enabled(){return this.parallaxAdsExperiment.result}start(){this._setupListeners()}_setupListeners(){this._stickyContainerAdsEventBus.stickyContainerAdStylingApplied.on(()=>{this._stickyContainerAdsApplied=!0},{handleEventsAlreadyEmitted:!0});this._videoEventBus.topCenterVideoCollapsed.on(()=>{this._scrollStartPosition=500});this._videoEventBus.topCenterVideoUnCollapsed.on(()=>{this._scrollStartPosition=300});this._gam.slotOnload.on(({slot:b})=>
{if("Content"===b.location){let c=b.element;this._stickyContainerAdsApplied&&this._removeParallaxCSS(c);this._removeParallaxScrollEvent(c);this._isParallaxAd(c)&&(r.event("ParallaxComponent","_setupListeners","parallax_rendered",b.element.id,b.refreshCount),this._parallaxSlotMap.set(c.id,!0),this._setParallaxSlotCSS(c),this._parallaxAdOnScroll(c))}});this._slotManager.refreshing.on(b=>{b.forEach(c=>{let d=c.element.id;"Content"!==c.location||this._slotRebuildComplete.get(d)||this._parallaxSlotMap.get(d)||
this._stickyContainerAdsApplied||this._rebuildSlot(c)})})}_setParallaxSlotCSS(b){b.classList.add("adthrive-parallax-slot");(b=b.firstChild)&&b.classList.add("adthrive-parallax-ad")}_removeParallaxCSS(b){b.classList.remove("adthrive-parallax-slot");(b=b.firstChild)&&b.classList.remove("adthrive-parallax-ad")}_removeParallaxScrollEvent(b){(b=this._parallaxScrollEventOffMap.get(b.id))&&b()}_parallaxAdOnScroll(b){let c=Number(b.getBoundingClientRect().top)+window.pageYOffset,d=()=>{const e=b.firstChild?
b.firstChild:void 0,f=this._isParallaxAd(b);var h=this._getScrollStartPosition(c<window.pageYOffset+window.innerHeight,b);h=.5*(window.pageYOffset-c+h);e&&f&&(e.style.transform=`translateY(-${205<h?205:h}px)`)};this._parallaxScrollEventOffMap.set(b.id,this._pageManager.scroll.on(()=>d()))}_getScrollStartPosition(b,c){if(b)return this._slotScrollStartPosition.get(c.id)||this._scrollStartPosition;this._slotScrollStartPosition.get(c.id)!==this._scrollStartPosition&&this._slotScrollStartPosition.set(c.id,
this._scrollStartPosition);return this._scrollStartPosition}_isParallaxAd(b){b=fl(b);return 600<=b&&750>=b}_rebuildSlot(b){b.sizes=b.sizes.filter(c=>600>c[1]);this._slotManager.rebuild(b);this._slotRebuildComplete.set(b.element.id,!0)}};Mi=k([v(),p("ParallaxAdsComponent"),l("design:paramtypes",[D,Zb,va,U,Yd,wa])],Mi);let yc=class{constructor(){this.contentAdded=new z}};yc=k([p("InfiniteScrollEvents"),q()],yc);let Ni=class extends C{constructor(b,c){super();this._config=b;this._events=c;this._ajaxSelector=
"#ajax-load-more";this._heightThreshold=1E3;this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();let b=new MutationObserver((c,d)=>{c.filter(({type:e,addedNodes:f})=>"childList"===e&&0<f.length).reduce((e,{addedNodes:f})=>[...e,...Array.prototype.slice.call(f)],[]).filter(e=>e instanceof HTMLElement&&e.clientHeight>this._heightThreshold).forEach(e=>{e.parentElement&&(d.disconnect(),d.observe(e.parentElement,{childList:!0}),this._infiniteScrollElement&&
d.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}));try{this._events.contentAdded.emit(e)}catch(f){r.error("InfiniteScrollDetectionComponent","addMutationObserver","added",f)}})});this._infiniteScrollElement?b.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter(c=>c instanceof HTMLElement&&c.offsetHeight>this._heightThreshold).forEach(c=>{b.observe(c,{childList:!0})})}checkForCustomConfig(){let {heightThreshold:b,
selector:c}=this._config.adOptions.infiniteScrollOptions;var d=c?document.querySelector(c):null;if(d)this._infiniteScrollElement=d;else if(d=document.querySelector(this._ajaxSelector))this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=d;b&&0<b&&(this._heightThreshold=b)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};Ni=k([p("InfiniteScrollDetectionComponent"),v(),l("design:paramtypes",[y,yc])],Ni);let Oi=class extends Ch{constructor(b,c){super(c);
this._config=b;this._adInjectionMap=c;this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Oi=k([p("InfiniteScrollDynamicAdsInjector"),v(),l("design:paramtypes",[y,mb])],Oi);let Pi=class extends C{constructor(b,c,d,e,f){super();this._config=b;this._events=c;this._injector=d;this._slotManager=e;this._gam=f;this._page=1}init(){this._events.contentAdded.on(b=>{this._page++;this._config.context.pageviewKey=tb();this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey});
this.slotsAlreadyInjectedInElement(b)||this.addSlots(b)})}slotsAlreadyInjectedInElement(b){return!!b.querySelector("[id*='AdThrive_Content']")}addSlots(b){let c=this._config.dynamicAds.filter(d=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===d.location)).filter(d=>Ee(this._config,d)).filter(d=>d.devices.includes(this._config.context.device)).filter(d=>0===d.pageSelector.length||null!==document.querySelector(d.pageSelector));b=this._injector.inject(c,b);this._slotManager.add(b).then(d=>{d.forEach(e=>
{D.pushToQueue(()=>{e.setTargeting({key:"inf_scroll",value:this._page.toString()})})})}).catch(d=>{r.error("InfiniteScrollDynamicAdsComponent","addSlots",d)})}get enabled(){return this._config.adOptions.infiniteScroll}};Pi=k([p("InfiniteScrollDynamicAdsComponent"),v(),l("design:paramtypes",[y,yc,Oi,U,D])],Pi);let Qi=class extends C{constructor(b,c,d,e){super();this._config=b;this._events=c;this._slotManager=d;this._slots=e;this._debounce=new um(1E3)}start(){this._observer=this.getIntersectionObserver();
this._events.contentAdded.on(b=>{this._observer&&this._observer.observe(b)})}getIntersectionObserver(){return new IntersectionObserver(b=>{for(let c of b)0<c.intersectionRatio&&c.isIntersecting&&this._debounce.limit(c.target.id).then(()=>this.refresh()).catch(d=>{r.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",d)})},{threshold:[.08]})}refresh(){this._config.adOptions.infiniteScrollRefresh&&this._slots.get().filter(b=>this._config.infiniteScroll.refreshSlots.has(b.location)&&
b.isSticky&&!b.isRefreshing).forEach(b=>{this._slotManager.updateRefreshTimeout(b,1001)})}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};Qi=k([p("InfiniteScrollRefreshComponent"),v(),l("design:paramtypes",[y,yc,U,la])],Qi);let Ri=class extends C{constructor(b){super();this._googleAdManager=b}init(){this._googleAdManager.slotResponseReceived.on(({slot:b})=>{this.slotResponseReceived(b)})}slotResponseReceived(b){b.alwaysInView="Footer"===b.location||"Video_StickyOutstream"===
b.location}};Ri=k([p("AlwaysInViewComponent"),v(),l("design:paramtypes",[D])],Ri);let Si=class extends C{constructor(b){super();this._slotManager=b;window.addEventListener("message",c=>{c&&c.data&&"set_adthrive_slot_timeout"===c.data.message&&c.data.slot_id&&0<=c.data.refresh_interval&&this._slotManager.updateRefreshTimeout(c.data.slot_id,c.data.refresh_interval)},!1)}};Si=k([p("ChangeSlotRefreshComponent"),v(),l("design:paramtypes",[U])],Si);let Ti=class extends C{constructor(b,c,d){super();this._slotManager=
b;this._slots=c;this._pageManager=d}init(){this._pageManager.visibilityChange.on(()=>this.documentVisibilityChanged())}documentVisibilityChanged(){let b=document.visibilityState,c=this._slots.get();"visible"===b?this._slotManager.resumeRefresh(c):"hidden"===b&&this._slotManager.pauseRefresh(c)}};Ti=k([p("DocumentHiddenPauseRefreshComponent"),v(),l("design:paramtypes",[U,la,va])],Ti);let Ui=class extends C{constructor(b,c){super();this._googleAdManager=b;this._slotManager=c;this._inViewPercentage=
50}init(){this._googleAdManager.impressionViewable.on(({slot:b})=>{this.processImpressionViewable(b)});this._googleAdManager.slotVisibilityChanged.on(({slot:b,event:c})=>{this.processVisibilityChanged(b,c)})}processImpressionViewable(b){b.outOfViewGPT=!1;this._slotManager.inView(b)}processVisibilityChanged(b,c){this.check(b,c.inViewPercentage)}check(b,c){c&&c>=this._inViewPercentage||"Video_StickyOutstream"===b.location?(b.outOfViewGPT=!1,this._slotManager.inView(b)):(b.outOfViewGPT=!0,this._slotManager.outOfView(b))}};
Ui=k([p("ImpressionViewableRefreshComponent"),v(),l("design:paramtypes",[D,U])],Ui);let Vi=class extends C{constructor(b,c,d){super();this._googleAdManager=b;this._slotManager=c;this._slots=d;this._inViewPercentage=50;this._trackSlotEvents=new Map}init(){this._observer=this.getIntersectionObserver();this._googleAdManager.slotResponseReceived.on(({slot:b})=>{this.slotResponseReceived(b);this._trackSlotEvents.set(b.id,"slotResponseReceived")});this._googleAdManager.slotRenderEnded.on(({slot:b})=>{this.slotResponseReceived(b);
this._trackSlotEvents.delete(b.id)});this._googleAdManager.slotRequested.on(({slot:b})=>{this._trackSlotEvents.set(b.id,"slotRequested")});this._slotManager.refreshing.on(b=>{for(let c of b)this._trackSlotEvents.get(c.id)&&(this._slotManager.rebuild(c),this._trackSlotEvents.delete(c.id));this.refreshing(b)})}get enabled(){return"IntersectionObserver"in window}slotResponseReceived(b){this._observer&&b.element&&this._observer.observe(b.element)}refreshing(b){if(this._observer)for(let c of b)c.element&&
this._observer.unobserve(c.element)}getIntersectionObserver(){return new IntersectionObserver(b=>{for(let c of b)(b=this._slots.get(c.target.id))&&this.check(b,100*c.intersectionRatio)},{threshold:[0,this._inViewPercentage/100]})}check(b,c){c>=this._inViewPercentage||"Video_StickyOutstream"===b.location?(b.outOfViewIO=!1,this._slotManager.inView(b)):(b.outOfViewIO=!0,this._slotManager.outOfView(b))}};Vi=k([p("IntersectionObserverRefreshComponent"),v(),l("design:paramtypes",[D,U,la])],Vi);let Wi=class extends C{constructor(b,
c){super();this._config=b;this._gdprEvents=c;this._comscoreId="20567959";this._gdprEnabled=!1;this._gdprEnabled=this._config.gdpr.enabled}init(){var b=this._config.ccpa.comscoreParams||"0";b={c1:"2",c2:this._comscoreId,...((this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:b})};window._comscore=window._comscore||[];window._comscore.push(b);if(this._gdprEnabled)this._gdprEvents.consentCaptured.on(()=>{Ea(`${"https://sb.scorecardresearch.com"}/cs/${this._comscoreId}/beacon.js`).catch(()=>{})});
else return Ea("https://sb.scorecardresearch.com/beacon.js")}get enabled(){return!0}};Wi=k([p("ComscoreTrackerComponent"),v(),l("design:paramtypes",[y,Oa])],Wi);let Xi=class extends C{constructor(b,c){super();this._gam=b;this._config=c;this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.once(()=>{this.import().then(()=>this.syncData()).catch(b=>r.error("HawkeyeTrackerComponent","init","slotOnload",b))})}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await Ea("https://pghub.io/js/pandg-sdk.js",
!0)}syncData(){window.Tapad.init({ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"},{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then(b=>{})}};Xi=k([p("HawkeyeTrackerComponent"),v(),l("design:paramtypes",[D,y])],Xi);let Yi=class extends C{constructor(b,c){super();this._config=b;this._gam=c;this._trackerHoldoutKey="ats"}init(){try{this._importATS()}catch(b){r.error("LiveRampAtsTrackerComponent","init",b)}}get enabled(){return this._config.liveRampAts.enabled&&
!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}_setECSTags(){let b={},c=this._config.marmalade.mcmp;for(let d of c)b[d]="mcmp";window.__launchpad("ecst",b,d=>{"undefined"!=typeof d&&r.log("LiveRampAtsTrackerComponent","_setECSTags","eCST set succesfully")})}_setListener(){window.addEventListener("lrEnvelopePresent",()=>{this._setECSTags()})}_importATS(){this._setListener();Ea(this._config.liveRampAts.url).then(()=>{r.log("LiveRampAtsTrackerComponent","import liveramp with ATS")}).catch(b=>
{r.error("LiveRampAtsTrackerComponent","error importing liveramp with ATS",b)})}};Yi=k([p("LiveRampAtsTrackerComponent"),v(),l("design:paramtypes",[y,D])],Yi);let Zi=class extends C{constructor(b,c,d){super();this._config=b;this._gam=c;this._idhoExperiment=d;this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f";this.pubid="CAFEMEDIA";this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){F.getLocalStorageValue(`${this.merkleStorageKey}`);this._gam.slotOnload.once(()=>{this.load().then(b=>{b instanceof Error||
!Object.keys(b).length||(F.setLocalStorageValue(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(b)),!1),this.spoof())}).catch(()=>{})})}async load(){let b=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise((c,d)=>{let e=new XMLHttpRequest;e.open("get",b);e.withCredentials=!0;e.addEventListener("load",()=>200!==e.status?d(Error(`Error status: ${e.status} response: ${e.responseText}`)):c(JSON.parse(e.responseText)));e.addEventListener("error",()=>d(Error("Request failed")));
e.send()})}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var b;let c=JSON.parse(decodeURIComponent(F.getLocalStorageValue("pbjs-unifiedid",!1)||"{}")),d=JSON.parse(decodeURIComponent(F.getLocalStorageValue(`${this.merkleStorageKey}`,!1)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",uids:Object.keys(c).map(e=>({id:c[e],ext:{rtiPartner:e}}))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(b=null===d||void 0===d?void 0:d.ppid)||void 0===b?
void 0:b.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){var b;return!this._config.gdpr.enabled&&!this._config.ccpa.enabled&&!(null===(b=this._idhoExperiment.result)||void 0===b?0:b.includes("merkleId"))}};Zi=k([p("MerkleTrackerComponent"),v(),l("design:paramtypes",[y,D,$b])],Zi);let $i=class extends J{init(){this._key="NielsenTracker";this._default=!1}isEnabled(){return super.isEnabled()&&eb()}};$i=k([p("NielsenTrackerExperiment"),v()],$i);let aj=class extends C{constructor(b,c,d){super();
this._config=b;this._nielsenTrackerExperiment=c;this._gam=d}init(){try{this._gam.slotOnload.once(()=>{this.loadImage()})}catch(b){r.error("NielsenTrackerComponent","init",b)}}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){let b=this._config.context.device,c="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia",d={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[b],e={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},
f=Nc(this._config.context.savedReferrer);f&&(f.toLowerCase().includes("instagram.com")||f.toLowerCase().includes("pinterest.com"))&&(d=e[b]);c+=`&ci=${"nlsnci542"}&ca=${d}&pc=${window.location.host}&r=${Date.now()}`;(new Image).src=`${c}`}};aj=k([p("NielsenTrackerComponent"),v(),l("design:paramtypes",[y,$i,D])],aj);let bj=class extends C{constructor(b,c,d){super();this._config=b;this._gam=c;this._slotManager=d;this._accountId="2773249";this._adId="81938";this._configId="2092";this._affDomain="goto.target.com";
this._targetDomain="www.target.com";this._commonPath=this._commonParams="";this._trackerHoldoutKey="tgtaff";this._commonParams=Pm({subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name});this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){try{let b=setTimeout(()=>{this.rewriteAllTargetLinksOnPage()},5E3);this._slotManager.added.once(()=>{this._gam.slotOnload.once(()=>{b&&clearTimeout(b);this.rewriteAllTargetLinksOnPage()})})}catch(b){r.error("TargetRewriteTrackerComponent",
"getAllTargetLinksOnPage",b)}}rewriteAllTargetLinksOnPage(){let b=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),c=>c).filter(c=>this.isTargetLink(c)).forEach(c=>{this.fireImpression(c.href);this.replaceTargetLink(c);b++});b&&r.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:b})}fireImpression(b){b=this.getImpressionPixel(b);return(new Image).src=b}getImpressionPixel(b){let c=`https://${this._affDomain}/i/${this._commonPath}?`,
d=`U1|${this.getUUID()}`;c+=`_ir=${encodeURIComponent(d)}`+"&"+this._commonParams+"&subid3="+encodeURIComponent(b);b=b.split("?");1<b.length&&(c+="&"+b[1]);return c}getUUID(){return`${Date.now().toString()}.${Math.random().toString(36).substring(2,15)}`}replaceTargetLink(b){var c=this.removeHashtagsFromUrl(b.href);c=encodeURIComponent(c);b.classList.add(...["noskimlinks","norewrite"]);b.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${c}&u=${c}#donotlink`}removeHashtagsFromUrl(b){return b.split("#")[0]}isTargetLink(b){return(b=
this.extractDomain(b.href))&&!b.includes(this._affDomain)}extractDomain(b){return(b=/^https?:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(b))&&b[1]||""}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};bj=k([p("TargetRewriteTrackerComponent"),v(),l("design:paramtypes",[y,D,U])],bj);let cj=class extends C{constructor(b){super();this._gam=b}init(){try{this._gam.slotOnload.once(()=>{this.loadImage()})}catch(b){r.error("TheTradeDeskTrackerComponent",
"init",b)}}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};cj=k([p("TheTradeDeskTrackerComponent"),v(),l("design:paramtypes",[D])],cj);let dj=class extends J{init(){this._key="SlotResize";this._default=!1}};dj=k([q()],dj);let ej=class extends C{constructor(b,c,d){super();this.slotResizeExperiment=d;this._slotSizeMap=new Map;this._gamSlotOnLoad=b.slotOnload;this._stickyContentEnabled=c.adOptions.stickyContentEnabled||!1}get enabled(){return this.slotResizeExperiment.result}start(){this._setupListeners()}_setupListeners(){this._gamSlotOnLoad.on(({slot:b})=>
{"Content"===b.location&&this._compareSlot(b)})}_compareSlot(b){let c=this._slotSizeMap.get(b.id),d=getComputedStyle(b.element).height,e=Number(d.slice(0,-2));if(!c||c<e)this._resize(b.element,d),this._setSlotSizeMap(b.element.id,e);this._stickyContentEnabled||this._align(b.element)}_resize(b,c){b.style.minHeight=c}_setSlotSizeMap(b,c){this._slotSizeMap.set(b,c)}_align(b){let {top:c,bottom:d}=b.getBoundingClientRect();b.style.alignContent=c<window.innerHeight-d?"end":"start"}};ej=k([v(),p("SlotResizeComponent"),
l("design:paramtypes",[D,y,dj])],ej);let fj=class extends J{init(){this._key="StickyContainerAdsTopCenterVideoDependency";this._default=!1}};fj=k([v(),p("StickyContainerAdsTopCenterVideoDependencyExperiment")],fj);let Dl=(b,c=!1)=>{let d=Infinity,e=null;for(let m=0;m<b.length;m++){const n=b[m];if(!c||"fixed"===window.getComputedStyle(n).getPropertyValue("position")){const u=n.getBoundingClientRect();var f=n,h=u;const w="hidden"===getComputedStyle(f).visibility;f="none"===getComputedStyle(f).display;
0<h.height&&0<h.width&&!w&&!f&&u.top<d&&(d=u.top,e=n)}}return e},gj=class extends J{init(){this._key="DetectOverlappingHeader";this._default=!1}};gj=k([p("DetectOverlappingHeaderExperiment"),q()],gj);let hj=class{constructor(b,c,d){this._googleAdManager=b;this._pageManager=c;this._topMostElement=null;this._slots={};this._scrollListener=[];this._hasFired=!1;this._slot={slot:null,element:null};d.result&&(this._topMostElement=Dl(Array.from(document.body.querySelectorAll("*")),!0))&&this._addContentSlotListeners()}_addContentSlotListeners(){this._addScrollListener();
this._googleAdManager.slotVisibilityChanged.on(({slot:b})=>{if(-1<b.element.id.indexOf("AdThrive_Content")&&!b.outOfViewGPT&&(this._slots[b.id]=b,this._slot.element||(this._slot={slot:b,element:b.element.firstChild||b.element}),this._slot.element)){let c=Dl([this._slot.element,b.element]);(null===c||void 0===c?void 0:c.id)!==b.element.id&&(this._slot={slot:b,element:b.element.firstChild||b.element})}})}_addScrollListener(){let b=0;this._scrollListener.push(this._pageManager.scroll.on(()=>{b++;20<
b&&(b=0,this._topMostElement&&this._slot.slot&&this._shouldFireLogger(!1===this._slot.slot.outOfViewGPT)&&(this._hasFired=!0,this._scrollListener[0](),r.event("DetectOverlappingHeader","_addScrollListener","overlapped",Ob(this._topMostElement))))}))}_shouldFireLogger(b){if(b=!this._hasFired&&b&&this._topMostElement&&this._slot.slot&&this._slot.element&&!this._adCreativeIsStuckToBottomOfContainer()){var c=this._topMostElement;b=this._slot.element.getBoundingClientRect();c=c.getBoundingClientRect();
b=!(b.right<c.left||b.left>c.right||b.bottom<c.top||b.top>c.bottom)}return!!b}_adCreativeIsStuckToBottomOfContainer(){var b;let c=this._slot.element,d=null===(b=this._slot.element)||void 0===b?void 0:b.parentElement;return c&&d?Math.round(c.getBoundingClientRect().bottom)===Math.round(d.getBoundingClientRect().bottom):!1}};hj=k([p("DetectOverlappingHeader"),v(),l("design:paramtypes",[D,va,gj])],hj);let ij=class extends C{constructor(b,c,d){super();this._videoEventBus=c;this._stickyContainerAdEventBus=
d;this.stickyContainerRecipeExperimentResult=this.stickyContainerAdsExperimentResult=!1;this.stickyBlockedSelectors=[];this.stickyContainerTopCenterVideoExperimentResult=!1;this.stickyContentHeight=b.adOptions.stickyContentHeight;this.stickyRecipeHeight=b.adOptions.stickyRecipeHeight;this.stickyHeaderHeight=Fh(b.adOptions.stickyHeaderSelectors);this.stickyContainerRecipeExperimentResult=E.resolve(Bb).result;b.adOptions.stickyContentEnabled&&(this.stickyContainerAdsExperimentResult=E.resolve(Bd).result,
this.stickyBlockedSelectors=b.adOptions.stickyBlockedSelectors||[],this.stickyContainerTopCenterVideoExperimentResult=I()?E.resolve(fj).result:!1,E.resolve(hj))}get enabled(){return(this.stickyContainerAdsExperimentResult||this.stickyContainerRecipeExperimentResult)&&!jl(this.stickyBlockedSelectors)}start(){this.setCSS();this.logOverflow();this._stickyContainerAdEventBus.stickyContainerAdStylingApplied.emit()}setCSS(){if(this.stickyContainerAdsExperimentResult){var b=this.stickyContentHeight;Qa(`
  .adthrive-device-phone .adthrive-sticky-content {
    height: 450px !important;
    margin-bottom: 100px !important;
  }
  .adthrive-content.adthrive-sticky {
    position: -webkit-sticky;
    position: sticky !important;
    top: 42px !important;
    margin-top: 42px !important;
  }
  .adthrive-content.adthrive-sticky:after {
    content: "\u2014 Advertisement. Scroll down to continue. \u2014";
    font-size: 10pt;
    margin-top: 5px;
    margin-bottom: 5px;
    display:block;
    color: #888;
  }
  .adthrive-sticky-container {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height:${b?b:400}px !important;
    margin: 10px 0 10px 0;
    background-color: #FAFAFA;
    padding-bottom:0px;
  }
  `);Eh(this.stickyHeaderHeight)}this.stickyContainerRecipeExperimentResult&&(b=this.stickyRecipeHeight,Qa(`
  .adthrive-recipe.adthrive-sticky {
    position: -webkit-sticky;
    position: sticky !important;
    top: 42px !important;
    margin-top: 42px !important;
  }
  .adthrive-recipe-sticky-container {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height:${b?b:400}px !important;
    margin: 10px 0 10px 0;
    background-color: #FAFAFA;
    padding-bottom:0px;
  }
  `));this.stickyContainerTopCenterVideoExperimentResult&&this.addListeners()}addListeners(){this._videoEventBus.topCenterVideoCollapsed.on(b=>{this.stickyAdTopProperty||(this.stickyAdTopProperty=this.getStickyAdTopProperty(b));Eh(this.stickyAdTopProperty)});this._videoEventBus.topCenterVideoUnCollapsed.on(()=>{Eh(this.stickyHeaderHeight)})}logOverflow(){var b=document.querySelector(".adthrive-sticky-container");b&&Nb(b);(b=document.querySelector(".adthrive-recipe-sticky-container"))&&Nb(b)}getStickyAdTopProperty(b){let {playerElement:c,
topBackgroundElement:d,collapseMobileSubType:e,mobileHeaderSelector:f}=b;if("adthrive-collapse-bottom-left"===e||"adthrive-collapse-bottom-right"===e)return this.stickyHeaderHeight;b=d?Number(d.getBoundingClientRect().height):Number(c.getBoundingClientRect().height);let h=Fh([f?f:""]);return h?Number(h)+b:b}};ij=k([p("StickyContainerAdsComponent"),v(),l("design:paramtypes",[y,wa,Yd])],ij);let ao=b=>{const c=encodeURIComponent(location.href),d=`https://${"ads.adthrive.com"}/api/v1/marmalade?siteid=${b}&url=${c}&experiments=rubiconFloors,recencyFrequency`;
return fetch?fetch(d).then(e=>e.json()).catch(e=>{r.error("getMarmaladeData","Unable to get marmalade data. Error:",e);return null}):new Promise(e=>{const f=new XMLHttpRequest;f.onload=()=>{200===f.status&&e(f.response)};f.open("GET",d,!0);f.responseType="json";f.send()})},jj=class extends C{constructor(b,c,d){super();this._spaEventBus=b;this._marmaladeEventBus=c;this._config=d;this._siteId=this._config.site.id}init(){this._spaEventBus.routeChanged.on(async()=>{let b=await ao(this._siteId);b&&(this._config.marmalade=
new $c(b,this._marmaladeEventBus),this._marmaladeEventBus.marmaladeResponseLoaded.emit(b))})}get enabled(){return!0}};jj=k([p("SPAMarmaladeComponent"),v(),l("design:paramtypes",[ja,Ga,y])],jj);let kj=class extends C{constructor(b,c,d){super();this._gdprEnforcement=b;this.gppComponent=c;this._config=d;this._cb=null;this._facebookVendorId=20089;this._fbEventsUrlPattern=/connect\.facebook\.net\/en_US\/fbevents.js/;this._userInteractionEvents=["mousemove","keydown","touchstart","wheel"];this._consent=
"revoke";this._throttleInterval=500}init(){this.checkGPPConsentForFacebook();this._config.gdpr.enabled&&this._gdprEnforcement.checkConsentOnLoad().then(b=>{b&&b.tcString?this.checkGDPRConsentForFacebook():this.listenForUserActionComplete()}).catch(()=>{})}checkGPPConsentForFacebook(){this.gppComponent.enabled&&(this._consent=this.gppComponent.gpcEnabled?"revoke":"grant",this._config.ccpa.consentChange.on(b=>{this._consent=b!==this.gppComponent.ccpaOptOut?"grant":"revoke";this.handleFacebookPixelConsent()}),
this.handleFacebookPixelConsent())}checkGDPRConsentForFacebook(){this._gdprEnforcement.checkConsentForVendor(this._facebookVendorId,[1]).then(b=>{this._consent=b?"grant":"revoke";this.handleFacebookPixelConsent()}).catch(()=>{})}listenForUserActionComplete(){window.__tcfapi("addEventListener",2,(b,c)=>{c&&b&&"useractioncomplete"===b.eventStatus&&this.checkGDPRConsentForFacebook()})}checkFBEventsJSExists(){return Array.from(document.querySelectorAll("head > script:not([src]), body > script:not([src])")).some(b=>
this._fbEventsUrlPattern.test(b.innerHTML))}removeUserInteractionListeners(){this._cb&&(this._userInteractionEvents.forEach(b=>window.removeEventListener(b,this._cb)),this._cb=null)}addUserInteractionListeners(b){this._cb=le(()=>{b()&&this.removeUserInteractionListeners()},this._throttleInterval,{leading:!1});this._userInteractionEvents.forEach(c=>window.addEventListener(c,this._cb))}handleFacebookPixelConsent(){window.fbq&&"function"===typeof window.fbq?(window.fbq("consent",this._consent),this.removeUserInteractionListeners()):
!this._cb&&this.checkFBEventsJSExists()&&this.addUserInteractionListeners(this.handleFacebookPixelConsent.bind(this))}get enabled(){return this._config.gdpr.enabled||this.gppComponent.enabled}};kj=k([p("FacebookPixelComponent"),v(),l("design:paramtypes",[lb,Ed,y])],kj);let lj=class extends J{init(){this._key="SlickstreamAdUnits";this._default=!1}};lj=k([p("SlickstreamAdsExperiment"),q()],lj);let mj=class extends Ch{constructor(b,c){super(c);this._config=b;this._adInjectionMap=c;this._count=0}injectSlickstreamAdSlots(b,
c=document,d){let e=[];c=this._getElements(".slick-search-ad-slot div",c);this._count=d+1;b=this._repeatSpecificDynamicAds(b,c.length,this._count).map(n=>{n.lazy=!0;return n});for(d=0;d<c.length;d++){var f=c.item(d);let n=b[d],u=`${n.location}_${n.sequence}`;if(!e.some(w=>w.name===u)){var h=this.getDynamicElementId(),m=`adthrive-${n.location.replace("_","-").toLowerCase()}`;m=[m,`${m}-${n.sequence}`,...n.classNames,"adthrive-slicksearch"];if(f=this.addAd(f,h,n.position,m,n.location))h=this._filterAdUnitSizes(n,
f),h.length&&(e.push(this.createSlot(n,f,h,!1)),this._count++)}}return e}getDynamicElementId(){return`${this._config.gam.prefix}_Content_${this._count}_${this._config.context.device}`}};mj=k([p("SlickstreamAdsInjector"),v(),l("design:paramtypes",[y,mb])],mj);let nj=class extends C{constructor(b,c,d,e){super();this._config=b;this._injector=c;this._slotManager=d;this._slickstreamAdsExperiment=e;this._slickstreamAdSlots=[];this._contentSlotsCount=0}get enabled(){return this._slickstreamAdsExperiment.result}init(){document.addEventListener("slick-search-panel-show",
()=>{let b=document.querySelector("slick-search-panel");b&&!this.slotsAlreadyInjectedInElement(b)&&this._addSlots(b)});document.addEventListener("slick-search-panel-hide",()=>{0<this._slickstreamAdSlots.length&&this._removeSlots()});this._slotManager.added.on(b=>{for(let c of b)"Content"===c.location&&this._contentSlotsCount++})}_addSlots(b){let c=this._config.dynamicAds.filter(d=>"Content"===d.location).filter(d=>Ee(this._config,d)).filter(d=>d.devices.includes(this._config.context.device));0<c.length&&
(b=this._injector.injectSlickstreamAdSlots(c[0],b,this._contentSlotsCount),this._slotManager.add(b).then(d=>{d.forEach(e=>{this._slickstreamAdSlots.push(e);D.pushToQueue(()=>{e.setTargeting({key:"slicksearch",value:"true"});e.setSlotTargetingFlag("slicksearch",["true"])})})}).catch(d=>{r.error("SlickstreamAdsComponent","_addSlots",d)}))}_removeSlots(){this._slotManager.destroy(this._slickstreamAdSlots);this._slotManager.removeElement(this._slickstreamAdSlots);this._contentSlotsCount-=this._slickstreamAdSlots.length;
this._slickstreamAdSlots.length=0}slotsAlreadyInjectedInElement(b){return!!b.querySelector("[id*='AdThrive_Content']")}};nj=k([p("SlickstreamAdsComponent"),v(),l("design:paramtypes",[y,mj,U,lj])],nj);let Zd=class extends Ie{constructor(b,c,d,e){var f;super();this._siteExperiments=b;this._pubabgroup=c;this._clsOptions=d;this._choices=[];this._mappedChoices=[];this._result="";this.key=ra.AdLayout;this._resultValidator=h=>{if("string"!==typeof h)return!1;h=h.substring(1);return/^[-_a-zA-Z]+[-_a-zA-Z0-9]*$/.test(h)};
(null===(f=e.siteAds)||void 0===f?0:f.siteExperiments)?this.experimentConfig=(new Je(e.siteAds)).getSiteExperimentByKey(this.key):this.experimentConfig=this._siteExperiments.getSiteExperimentByKey(this.key);b=this._clsOptions.getWeightedChoiceExperiment(this.key,!0);this.enabled&&this._isValidResult(b)?(this._result=b,this.setExperimentTargeting()):this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),this.setExperimentTargeting())}run(){if(!this.enabled)return r.error("AdLayoutSiteExperiment",
"run","() => %o","No experiment config found. Defaulting to empty class name."),"";let b=(new ub(this._mappedChoices)).get();if(this._isValidResult(b))return b;r.error("AdLayoutSiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to empty class name for result",b);return""}setExperimentTargeting(){if(this.enabled&&this._isValidResult(this._result)){var b=this.experimentConfig;b=`${b.key.toLowerCase()}-${b.id}`;this._pubabgroup.set(b,this._result)}else r.error("AdLayoutSiteExperiment",
"setExperimentTargeting","() => %o","Experiment targeting requires an experiment config and valid result")}_mapChoices(){return this._choices.map(({weight:b,value:c})=>({weight:b,choice:c}))}};k([L(),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],Zd.prototype,"run",null);Zd=k([q(),S(3,R("AdthriveCLS")),l("design:paramtypes",[Fa,xa,wb,Object])],Zd);let oj=class extends C{constructor(b){super();this._adLayoutSiteExperiment=b}get enabled(){return this._adLayoutSiteExperiment.enabled}init(){let b=
this._adLayoutSiteExperiment.result,c=this._adLayoutSiteExperiment.result.substring(1);if(/^[-_a-zA-Z]+[-_a-zA-Z0-9]*$/.test(c))try{document.body.classList.add(c)}catch(d){r.error("AdLayoutComponent","init",`Uncaught CSS Class Name error: ${d}`)}else r.error("AdLayoutComponent","init",`Invalid class name: ${b}`)}};oj=k([p("AdLayoutComponent"),v(),l("design:paramtypes",[Zd])],oj);let pj=class extends C{constructor(b){super();this._footerConfigEventBus=b}init(){this._footerConfigEventBus.comscoreInitialized.on(b=>
{b&&this._footerConfigEventBus.footerElementAdded.emit({order:2,element:"<span>A Raptive Partner Site</span>"})},{handleEventsAlreadyEmitted:!0})}};pj=k([v(),l("design:paramtypes",[Mb])],pj);let qj=class extends C{constructor(b){super();this._slotManager=b}init(){this._slotManager.added.on(b=>{b.forEach(c=>{c.element.classList.add("adthrive-ad-debug");c.element.addEventListener("click",()=>{console.warn(`%c Debug Info for ${c.id}`,"background: #6B65FF; color: #F0EDEB; padding: 1px; border-radius: 3px;",
c)})})})}get enabled(){var b=(new URLSearchParams(window.location.search)).get("at_ui_debug");return"true"===b||"1"===b}};qj=k([p("UIDebugComponent"),q(),l("design:paramtypes",[U])],qj);let rj=class{constructor(b,c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P,K,Y,Q,ma,ua,Wa,ic,jc,yb,kc,zb,lc,mc,jb,Yf,Zf,$f,ag,bg,jd,cg,bo,co,eo,El,Fl,fo,go,ho,io,jo,ko,lo,mo,no,oo,po,qo,ro,so,Gl,to,uo,Hl,vo,wo,xo,yo,zo,Ao,Bo){this._config=b;this._components=[c,d,e,f,h,m,n,u,w,t,A,G,N,O,H,P,K,Y,Q,ma,ua,Wa,ic,jc,yb,kc,zb,mc,jb,lc,Yf,
Zf,$f,ag,bg,jd,bo,cg,co,eo,El,Fl,fo,go,ho,io,jo,ko,lo,no,oo,po,mo,qo,ro,so,Gl,to,Hl,uo,vo,wo,xo,yo,zo,Ao,Bo];this._nonCCPAComponents=[Y,El,Fl,Gl,Hl]}init(){let b=this._config.ccpa;this._components.filter(c=>!b.enabled||b.enabled&&!this._nonCCPAComponents.includes(c)).forEach(c=>void 0!==c.init&&c.enabled&&c.init())}start(){this._components.forEach(b=>void 0!==b.start&&b.enabled&&b.start())}};rj=k([p("Components"),v(),l("design:paramtypes",[y,rh,sh,Ri,th,vh,wh,yd,Si,Xh,pj,Wi,zh,Ah,yh,Bh,Ti,Dd,Wh,Gh,
kj,Hh,nd,Oh,Ph,bi,Ed,Qh,Rh,Xi,ci,Ui,Ni,Pi,Qi,Vi,Vh,Xd,Yi,ei,gi,Zi,aj,hi,ii,pi,qi,ri,si,vi,ej,ti,ui,jj,Hd,ij,bj,cj,wi,ph,qd,xi,Ci,Wd,nj,Mi,oj,qj])],rj);Qa(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-native-recipe{display:inline-block}.adthrive-recipe{min-width:300px;position:relative;z-index:1}.adthrive-device-desktop .adthrive-recipe,.adthrive-device-tablet .adthrive-recipe{max-width:320px}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;box-sizing:content-box;left:0;margin:0;max-height:100px;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:1000001}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-footer>div,.adthrive-header>div{max-width:1200px}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.jw-flag-small-player #next-stay-container{margin:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-outstream-container{flex-basis:unset!important;margin:0 auto;position:relative}.adthrive-player-idle{display:none;transition:all .5s ease-out;transition-delay:.5s}.adthrive-player-playing{display:block;transition:all .5s ease-in;transition-delay:.5s}.adthrive-sticky-outstream-active.adthrive-new-outstream-player{animation-duration:.5s;animation-iteration-count:1;animation-name:adthrive-fade-in;animation-timing-function:ease-in;opacity:1}.adthrive-sticky-outstream-idle.adthrive-new-outstream-player{animation-duration:.5s;animation-iteration-count:1;animation-name:adthrive-fade-out;animation-timing-function:ease-out;display:block;opacity:0}@keyframes adthrive-fade-in{0%{opacity:0}to{opacity:1}}@keyframes adthrive-fade-out{0%{opacity:1}to{opacity:0}}.adthrive-player-ad-controls-play,.adthrive-player-ad-controls-volume{display:inline-block;margin-top:-8px;padding:8px 0 0}.adthrive-player-icon{cursor:pointer;display:inline-block;margin:0 10px!important}.adthrive-player-icon-hidden{display:none}.adthrive-player-icon svg{filter:drop-shadow(3px 5px 3px rgb(0 0 0/.5));pointer-events:none}.adthrive-player-ad-container{bottom:0;margin:0;position:absolute}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile .adthrive-player-ad-container{margin-bottom:2px;margin-top:2px}.adthrive-player-ad-controls{bottom:6px;height:26px;left:0;line-height:18px;padding:0;position:absolute;text-align:left;width:100%;z-index:1000000}.adthrive-player-volume-control{height:30px;left:6px;margin:0!important;position:absolute;top:-66px;transform:rotate(-90deg);width:100px;z-index:10000}.adthrive-player-volume-control input[type=range]{-webkit-appearance:none;background-color:#777;border:0;border-radius:20px;height:10px;margin:6px 6px 0;outline:0;overflow:hidden;padding:0;vertical-align:bottom;width:100px}.adthrive-player-volume-control input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;color:#777;height:10px;margin-top:-1px}.adthrive-player-volume-control input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;background:#fff;border-radius:50%;box-shadow:-325px 0 0 320px #ccc,inset 0 0 0 40px #fff;cursor:pointer;height:10px;position:relative;width:10px}.adthrive-player-volume-control input[type=range]:active::-webkit-slider-thumb{background:#fff;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #fff}.adthrive-player-volume-control input[type=range]::-moz-range-progress{background-color:#ddd;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #ddd}.adthrive-player-volume-control input[type=range]::-moz-range-track{background-color:#777}.adthrive-player-volume-control input[type=range]::-ms-fill-lower{background-color:#ddd;box-shadow:-325px 0 0 320px #ddd,inset 0 0 0 3px #ddd}.adthrive-player-volume-control input[type=range]::-ms-fill-upper{background-color:#777}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-sticky-outstream-top-center>.adthrive-top-collapse-close{left:10px;position:fixed;top:48px}.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile>.adthrive-top-collapse-close{top:10px}.adthrive-top-collapse-wrapper-bar>* .adthrive-top-collapse-close{left:0;position:relative;top:0}.adthrive-top-collapse-wrapper-bar>* .adthrive-wrapper-float-close{display:none;float:none;margin-bottom:0}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-wrapper-bar{display:none!important}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center>.adthrive-top-collapse-wrapper-bar{display:block}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-without-wrapper-text{left:50%;padding-bottom:5px;padding-top:5px;top:0;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center.adthrive-player-with-wrapper-text{padding-bottom:5px;padding-top:5px;right:5px;top:0}.adthrive-top-collapse-wrapper-bar{color:#fff;display:none;left:5px;padding-bottom:5px;padding-top:5px;position:fixed;top:0;width:-webkit-calc(100% - 282px);width:-moz-calc(100% - 282px);width:calc(100% - 282px);z-index:99998}.adthrive-top-collapse-wrapper-video-title{-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;color:#fff;display:-webkit-box;font-size:13px;font-weight:700;line-height:1.2;overflow:hidden;text-decoration:none;text-overflow:ellipsis}.adthrive-top-collapse-wrapper-bar a a.adthrive-learn-more-link{color:#fff;display:inline-block;font-size:13px;line-height:1.2}h3.adthrive-player-title{margin:10px 0}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-new-outstream-player .adthrive-top-left-inner.adthrive-wrapper-float-close{z-index:10000}.adthrive-new-outstream-player .adthrive-ad{margin-bottom:0;margin-top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;position:absolute;top:36px;width:100%;z-index:10000}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:0}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:0}.adthrive-new-outstream-player{margin-bottom:20px;padding:0!important}.adthrive-new-outstream-player>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{top:0}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream{display:none;overflow:hidden;position:fixed;z-index:2147483644}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile-right{right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile-left{left:10px;transform:none!important}.adthrive-sticky-outstream.adthrive-sticky-outstream-active.adthrive-sticky-outstream-top-center{background:#000;bottom:auto;left:0;right:0;top:0;transform:none}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-desktop,.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile{bottom:auto}.adthrive-sticky-outstream.adthrive-sticky-outstream-top-center.adthrive-sticky-outstream-mobile .adthrive-stickyoutstream-container{margin:0 auto}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream{margin-top:0}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}.adthrive-video-stickyoutstream-new-player div:first-of-type{margin:0}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#a9a9a9;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-parallax-slot{height:400px;overflow:hidden;padding-top:5px}.adthrive-parallax-ad{transform:translateY(0);transition:transform .3s ease-out}.adthrive-sticky-container.adthrive-parallax-slot{flex-direction:row;justify-content:center;padding-top:10px}#_inv_voicefive___{display:none}.adthrive-ad-debug{background-color:rgba(255,0,0,.5)!important;outline:1px solid red!important}.adthrive-ad-debug:hover{background-color:rgba(255,0,0,.8)!important;cursor:pointer;outline:1px solid red!important}");
class Co{constructor(){this.healthReport={}}addHealthReport(b,c){this.healthReport[b]=this.healthReport[b]||{details:[]};this.healthReport[b].details.push(c)}log(){db.event("HealthReporter","log",this.healthReport)}}class Do extends Co{constructor(){super(...arguments);this._reporter="CLSReporter"}start(){this._clsType();this._clsSlots()}_clsType(){let b=window.adthriveCLS,c=b&&!b.injectedFromPlugin&&b.injectedFromSiteAds;this.addHealthReport(this._reporter,{metric:"clsType",value:b&&b.injectedFromPlugin&&
"plugin"||c&&"nonplugin"||"none"})}_clsSlots(){var b=window.adthriveCLS;let c=b&&b.injectedSlots;b=b&&b.injectedVideoSlots;this.addHealthReport(this._reporter,{metric:"clsSlots",value:(c&&c.length||0)+(b&&b.length||0)})}}let sj=class{constructor(b){this._healthReporters=[b]}start(){this._healthReporters.forEach(b=>{b.start();b.log()})}};sj=k([v(),l("design:paramtypes",[Do])],sj);let tj=class extends ib{init(){this._key="DialDownLogsExperiment"}};tj=k([q()],tj);Qa(".adthrive-act25-modal{background-color:#000;background-color:rgba(0,0,0,.4);display:none;height:100%;left:0;overflow:auto;position:fixed;top:0;width:100%;z-index:2147483647}.adthrive-act25-modal.show{display:block}.adthrive-act25-modal-content{background-color:#fefefe;border:1px solid #888;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.5);font-family:Verdana,Geneva,Tahoma,sans-serif;left:50%;margin:auto;max-width:592px;padding:20px 24px 24px;position:absolute;top:50%;transform:translate(-50%,-50%);width:80%}.adthrive-act25-modal-close{color:#000;font-size:28px;font-weight:700;position:fixed;right:3px;top:-10px}.adthrive-act25-modal-close:focus,.adthrive-act25-modal-close:hover{color:#000;cursor:pointer;text-decoration:none}.adthrive-act25-modal-header{padding:2px 16px}.adthrive-act25-modal-header h1{color:rgba(0,0,0,.87);font-size:20px;line-height:26px}.adthrive-act25-modal-body{margin-bottom:10px;max-height:50vh;overflow-y:auto;padding:10px 16px;position:relative}.adthrive-act25-modal-body p{font-size:14px;line-height:20px}.adthrive-act25-modal-footer{color:#fff;display:flex;flex-direction:column;justify-content:space-between;padding:2px 16px}.adthrive-act25-modal-accept,.adthrive-act25-modal-decline{border:none;border-radius:10px;color:#fff;cursor:pointer}.adthrive-act25-modal-accept{background-color:#010044}.adthrive-act25-modal-decline{background-color:#fff;color:#000}.adthrive-act25-modal-accept,.adthrive-act25-modal-decline{flex:1;margin:0 10px 10px 0;text-transform:uppercase}.adthrive-act25-modal-accept:focus,.adthrive-act25-modal-accept:hover{background-color:#010044;color:#c4c4c4}.adthrive-act25-modal-decline:focus,.adthrive-act25-modal-decline:hover{background-color:#fff;color:#000}@media (max-width:600px){.adthrive-act25-modal-content{width:90%}.adthrive-act25-modal-body{border-bottom:1px solid #c4c4c4;box-shadow:inset 0 -100px 30px -100px rgba(0,0,0,.1)}.adthrive-act25-modal-accept,.adthrive-act25-modal-decline{font-size:14px;line-height:14px}}@media (min-width:600px){.adthrive-act25-modal-footer{flex-direction:row}.adthrive-act25-modal-accept,.adthrive-act25-modal-decline{flex:0 0 auto;margin:0}}.adthrive-act25-footer{margin-bottom:30px}.adthrive-act25-footer-text{color:#a9a9a9;font-size:14px}.adthrive-act25-footer-text p{color:#a9a9a9;text-decoration:underline}.adthrive-act25-footer-link{cursor:pointer;font-size:14px;text-decoration:underline}");
let uj=class extends C{constructor(b,c){super();this._config=b;this._consentEventBus=c;this._cssPrefix="adthrive-act25";this._footerLink=this._footer=this._modal=null;this._footerLinkOptOutText="Ne vendez pas ou ne partagez pas mes informations personnelles / Do not sell or share my personal information";this._footerLinkOptInText="Personnalisez mon exp\u00e9rience publicitaire / Customize my ad experience";this._storageKey="act25-consent";this._timer=null;this._timeout=3E4;this._consented=this._config.act25.consented}get consented(){return this._consented}get modal(){return this._modal}get footer(){return this._footer}init(){var b;
this._modal=this._createConsentModal();this._footer=this._createFooterElement();null===this._consented?(null===(b=this._modal)||void 0===b?void 0:b.classList.add("show"),this._startTimer()):this._consentEventBus.act25consentCaptured.emit(this._consented);this._injectFooterElement()}checkConsent(){return new Promise(b=>{null!==this._consented&&b(this._consented);this._consentEventBus.act25consentCaptured.on(c=>{this._timer&&(clearTimeout(this._timer),this._timer=null);b(c)})})}_createConsentModal(){if(this._modal)return this._modal;
let b=document.createElement("div");b.className=`${this._cssPrefix}-modal`;let c=document.createElement("div");c.className=`${this._cssPrefix}-modal-content`;let d=document.createElement("span");d.className=`${this._cssPrefix}-modal-close`;d.innerText="\u2715";d.addEventListener("click",()=>this._handleClose());let e=document.createElement("div");e.className=`${this._cssPrefix}-modal-body`;e.innerHTML='\n    <p>\n    Soucieux d\u2019offrir une exp\u00e9rience optimale, nous et nos partenaires utilisons des technologies telles que les cookies pour enregistrer et/ou acc\u00e9der\n    aux informations des appareils. Le consentement \u00e0 ces technologies nous permettra, \u00e0 nous et \u00e0 nos partenaires, de traiter des donn\u00e9es personnelles\n    telles que le comportement de navigation ou les identifiants uniques sur ce site. Les cookies d\u00e9pos\u00e9s par nos partenaires ou fournisseurs tiers sont\n    des cookies tiers d\u00e9pos\u00e9s dans le but de placer des publicit\u00e9s sur nos produits et Services sur d\u2019autres sites web. L\u2019utilisation des cookies par\n    ces tiers est r\u00e9gie par leurs politiques de confidentialit\u00e9.\n    </p>\n    <p>\n    Cliquez sur \u00ab accepter \u00bb ou \u00ab d\u00e9clin \u00bb ci-dessous. Vous pouvez mettre \u00e0 jour vos choix \u00e0 tout moment en cliquant sur ne vendez pas en\n    bas de la page.\n    </p>\n\n    <br />\n\n    <p>\n    To provide the best experiences, we and our partners use technologies like cookies to store and/or access device information.\n    Consenting to these technologies will allow us and our partners to process personal data such as browsing behavior or unique IDs on this site.\n    Cookies placed by our partners or third-party suppliers are third-party cookies placed for the purpose of placing advertisements on our products\n    and Services on other websites. The use of cookies by these third parties is governed by their privacy policies.\n    </p>\n    <p>\n    Click "accept" or \u201cdecline" below. You can update your choices at any time by clicking on the Do not sell link in the bottom of the page.\n    </p>\n    ';
let f=document.createElement("div");f.className=`${this._cssPrefix}-modal-footer`;let h=document.createElement("button");h.className=`${this._cssPrefix}-modal-accept`;h.innerText="Accepter/Accept";h.addEventListener("click",()=>this._handleAccept());let m=document.createElement("button");m.className=`${this._cssPrefix}-modal-decline`;m.innerText="D\u00e9clin/Decline";m.addEventListener("click",()=>this._handleDecline());e.appendChild(d);f.appendChild(m);f.appendChild(h);c.appendChild(e);c.appendChild(f);
b.appendChild(c);document.body.appendChild(b);return b}_createFooterElement(){if(this._footer)return this._footer;let b=document.createElement("div");b.className=`${this._cssPrefix}-footer`;let c=document.createElement("p");c.className=`${this._cssPrefix}-footer-text`;c.innerText="\n    Les informations de votre appareil peuvent \u00eatre utilis\u00e9es pour personnaliser votre exp\u00e9rience publicitaire. /\n      Information from your device can be used to personalize your ad experience.";let d=
document.createElement("a");d.innerText=this._consented?this._footerLinkOptOutText:this._footerLinkOptInText;d.className=`${this._cssPrefix}-footer-link`;d.addEventListener("click",()=>{var e;return this._handleFooterLinkClick(null!==(e=this._consented)&&void 0!==e?e:!1)});this._footerLink=d;b.appendChild(c);b.appendChild(d);return b}_injectFooterElement(){let b=this._config.footer.elements;this._footer&&b.find(c=>c.element===this._footer)||b.push({order:1,element:this._footer})}_destroyConsentModal(){var b;
null===(b=this._modal)||void 0===b?void 0:b.classList.remove("show")}_handleAccept(){this._toggleConsent(!0);r.event("Act25EnforcementComponent","handleUserAction","qbccmp:acc")}_handleDecline(){this._toggleConsent(!1);r.event("Act25EnforcementComponent","handleUserAction","qbccmp:dec")}_handleClose(){this._toggleConsent(!1);r.event("Act25EnforcementComponent","handleUserAction","qbccmp:clo")}_handleTimeout(){this._toggleConsent(!1);r.event("Act25EnforcementComponent","handleUserAction","qbccmp:tim")}_handleFooterLinkClick(b){var c;
b?this._handleDecline():null===(c=this._modal)||void 0===c?void 0:c.classList.add("show")}_toggleConsent(b){F.setLocalStorageValue(this._storageKey,b);this._consented=b;this._destroyConsentModal();this._updateFooterLink(b);this._consentEventBus.act25consentCaptured.emit(b)}_updateFooterLink(b){this._footerLink&&(this._footerLink.innerText=b?this._footerLinkOptOutText:this._footerLinkOptInText)}_startTimer(){this._timer=window.setTimeout(()=>{this._handleTimeout()},this._timeout)}};uj=k([p("Act25EnforcementComponent"),
q(),l("design:paramtypes",[y,Vb])],uj);let $d=class{constructor(b,c,d,e,f,h,m,n,u,w){this.config=b;this.cmd=c;this.slotManager=d;this.slots=e;this._auctionManagers=f;this._coreExperimentConfig=h;this._googleAdManager=m;this._components=n;this._healthReporters=u;this._siteExperimentEventBus=w;this.marmalade={mcmp:null};this.marmaladeFinished=t=>t;this.raptiveFloorsFinished=t=>t;this.rubiconFloorsFinished=t=>t;this._apiReady=new Promise(t=>t(!1));this.bucket=this.config.context.bucket;this.branch=this.config.context.branch;
this.invalidTraffic=this.config.context.invalidTraffic;this.deployment=this.config.context.deployment;this.abgroup=this.config.abGroup.groups;this.pubab=this.config.pubAbGroup.groups;this.siteAds=window.adthrive.siteAds;this.buildDate=window.adthrive.buildDate;this.windowPerformance=window.adthrive.windowPerformance;this.marmaladeFinished=window.adthrive.marmaladeFinished||this.marmaladeFinished;this.rubiconFloorsFinished=window.adthrive.rubiconFloorsFinished||this.rubiconFloorsFinished;this.raptiveFloorsFinished=
window.adthrive.raptiveFloorsFinished||this.raptiveFloorsFinished;this.coreExperiments=this._coreExperimentConfig.coreExperiments;this.deliveryFeatures=window.adthrive.deliveryFeatures;this.siteAds.targeting={push:t=>this._googleAdManager.setTargeting(t)};this._siteExperimentEventBus.targetingReady.on(()=>{this.pubab=this.config.pubAbGroup.groups;this._googleAdManager.setTargeting({key:"pubab",value:this.pubab})});"off"===fb().get("at_sticky")&&this.clearSticky();"off"===fb().get("at_sticky_buckets")&&
this.clearStickyBuckets()}async init(){let b=0===window.adthrive.bucket.indexOf("hbs-q")||.01>Math.random();b&&db.event("AdThrive","init","hcstart");var c=!1;this._apiReady=new Promise(e=>this.config.identityApi.apiReady.on(()=>e(!0)));let d=e=>{e.data={abgroup:this.config.abGroup.groupsAsObject,pubab:this.config.pubAbGroup.groupsAsObject,sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,spa:this.config.adOptions.spa,
...(this.config.context.deliveryVersion&&{lmdv:this.config.context.deliveryVersion}),...(this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch}),...(this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket})}};c=E.resolve(tj);E.resolve(Ic).dialDownLogs.emit({result:c.result,choices:c._choices});r.sending.on(()=>d(r));db.sending.on(()=>d(db));this.cmd.init();c=!0;this._auctionManagers.init();this._googleAdManager.init();
if(this.config.act25.required){let e=E.resolve(uj);e.init();await e.checkConsent()}this._components.init();this._googleAdManager.start();this._components.start();window.adthriveCLS&&window.adthriveCLS.error&&r.error("AdThrive","init","Problem with AdThriveCLS SiteAds. CLS Disabled");this._healthReporters.start();b&&db.event("AdThrive","init","hcend");b&&c&&db.event("AdThrive","init","hccmdinitcomplete")}identityApi(b,c){return this._apiReady.then(()=>{this.config.identityApi.optIn.emit({data:b,cb:c})})}disableAds(b){this.config.disableAds.disableAllAds(b)}disableContentAds(b){this.config.disableAds.disableContentAds(b)}disablePlaylistPlayers(b){this.config.disableAds.disablePlaylistPlayers(b)}showPrivacyPreferences(){window.__tcfapi&&
window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,b=>{})}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(Ta)}setTargetingFlag(b,c,d=!1){b&&"string"===typeof b&&c&&Array.isArray(c)&&0!==c.length&&this._googleAdManager.setTargetingFlag(b,c,d)}setTargeting(b){this._googleAdManager.setTargeting(b)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(b,
c,d){r.error(b,c,d)}refreshSlots(b){let c=this.slots.get();b&&b.length&&(c=c.filter(d=>b.includes(d.id)));c.forEach(d=>{this.slotManager.refresh(d,!1).then(()=>{this.slotManager.clearRefreshTimeout(d,!0)}).catch(()=>{})})}nmr(){r.event("adthrive","nmr","adthrive.nmr() has been called");return this.slotManager.updateRefreshTimeout(this.slots.get(),0)}clearSticky(){r.event("adthrive","clearSticky","adthrive.clearSticky() has been called");F.removeLocalStorageValue("abgroup")}clearStickyBuckets(){r.event("adthrive",
"clearStickyBuckets","adthrive.clearStickyBuckets() has been called");F.removeLocalStorageValue("branch");F.removeLocalStorageValue("at_sticky_data",!1)}};$d=k([p("AdThrive"),q(),l("design:paramtypes",[y,mh,U,la,Gb,Ma,D,rj,sj,Pc])],$d);let Eo={domain:"ads.adthrive.com",branch:"main",bucket:"prod",cmp:!0},vj=class extends sa{constructor(){super();this.classList=["EmailCaptureHandler"];this._result=!1;this._choices=[{choice:!0},{choice:!1}];this.abgroup="logfltr";this.key="LoggerFilter";this._result=
this.run()}get result(){return this._result}run(){return(new ba(0)).get()}};vj=k([p("LoggerFilterExperiment"),q(),l("design:paramtypes",[])],vj);let wj=class{init(b){if(void 0!==window.__tcfapi&&"function"===typeof window.__tcfapi){var c=!1;window.__tcfapi("adthrive",2,d=>c=d);c&&("true"===b?window.__tcfapi("setGdprApplies",2,d=>d,!0):(this.clearQueue(),this.stubCommands()))}}processTcfCommand(b){let {command:c,callback:d}=b;!d||d&&"function"!==typeof d||("ping"===c||"addEventListener"===c?d({apiVersion:"2",
cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===c&&d(!0))}clearQueue(){let b=window.__tcfapi();b&&Array.isArray(b)&&b.forEach(c=>this.processTcfCommand(c))}stubCommands(){window.__tcfapi=(b,c,d,e)=>{this.processTcfCommand({command:b,version:c,callback:d,parameter:e})}}};wj=k([p("StubCmp"),q()],wj);let Fo=()=>{var b,c,d;return navigator.userAgent&&(-1<navigator.userAgent.search(/GTmetrix/i)||
-1<navigator.userAgent.search(/pingdom/i)||-1<navigator.userAgent.search(/Google Page Speed Insights/i)||-1<navigator.userAgent.search(/Chrome-Lighthouse/i))?!0:(null===(d=null===(c=null===(b=window.navigator)||void 0===b?void 0:b.userAgentData)||void 0===c?void 0:c.brands)||void 0===d?0:d.map(e=>e.brand).includes("Lighthouse"))?!0:!1},Go=b=>b instanceof $d||b instanceof Promise,Ba=E.resolve(bd),Ho=async b=>{const c=fa(),d=window.adthrive.branch,e=F.getLocalStorageValue("branch");F.setLocalStorageValue("branch",
{branch:d,enabled:d===(null===e||void 0===e?void 0:e.branch)});F.setSessionFpv();E.register("Build",{useValue:Eo});E.register("AdThrive",{useValue:b});E.resolve(pc);E.resolve(kd);return await E.resolve(Ve).run().then(({gam:f,marmalade:h,floors:m})=>{const n=fa();E.register("RecencyFrequencyMarmaladeResponse",{useValue:h.result});window.adthrive=E.resolve($d);Ba.loading=c;Ba.bootstrapFinished=n;Ba.gamStarted=f.started;Ba.gamFinished=f.finished;Ba.gamDuration=f.duration;Ba.marmaladeStarted=h.started;
Ba.marmaladeFinished=h.finished;Ba.marmaladeDuration=h.duration;Ba.floorsStarted=m.started;Ba.floorsFinished=m.finished;Ba.floorsDuration=m.duration;return window.adthrive.init()}).catch(f=>{const h=f.marmalade;f=f.message||f;h&&Object.prototype.hasOwnProperty.call(h,"result")&&(E.register("RecencyFrequencyMarmaladeResponse",{useValue:h.result}),E.resolve(Xd).init());E.resolve(Wd).init();return Promise.reject(f)})},Io=({gdpr:b,baseUrl:c})=>"true"===b?`${c}/gdpr`:c,Jo=()=>{const b=window.adthrive.siteAds;
var c=window.adthriveCLS;c=c&&c.siteAds;var d=window.adthrive.siteAds.videoPlayers&&window.adthrive.siteAds.videoPlayers.contentSpecificPlaylists;d=d?[...d]:[];c&&uk(c)&&(b.adUnits=c.adUnits,b.video=c.video,b.videoPlayers=c.videoPlayers,b.breakpoints=c.breakpoints,b.videoPlayers&&(b.videoPlayers.contentSpecificPlaylists=d.filter(e=>!e.isDraft)))},Ko=b=>{var c=E.resolve(va).setupOnceEventWithPromise;const d=[c("scroll"),c("mousemove"),c("keyup")];pa()||d.push(c("touchstart"));c=[c("load").then(()=>
bk(b))];return Fo()?d:c.concat(d)},Lo=b=>{B(b.siteAds.adOptions.delayLoading,!1)?(b=Ko(50),b=Promise.race(b)):b=Promise.resolve();return b},Mo=()=>{const b=window.adthrive;window.adthriveCLS&&!window.adthriveCLS.error?(E.register("AdthriveCLS",{useValue:window.adthriveCLS}),Jo()):E.register("AdthriveCLS",{useValue:{}});E.register("CoreExperimentValues",{useValue:b.core.coreExperiments});const c=Io(b),d=Km();var e=0===b.bucket.indexOf("hbs-q");e=d||e?"unsupported":b.bucket;const f=E.resolve(vj),h=
{...b,bucket:e,baseUrl:c,invalidTraffic:d,loggerFilters:f.result?[]:f.classList};F.init(h);db.init(h);r.init(h);const m=fa();E.resolve(wj).init(h.gdpr);Lo(h).then(()=>{const n=fa()-m;Ba.delay=n;return Ho(h)}).then(()=>{}).catch(n=>{"string"===typeof n?r.error("index","load",Error(n)):r.error("index","load",n)})};try{Go(window.adthrive)||Mo()}catch(b){r.error("index","pre-init",b)}return window.adthrive}()
;