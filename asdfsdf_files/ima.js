var _33AcrossIdMappingsProvider;(()=>{var e={630:(e,t,s)=>{const{Ajax:n}=s(262),a="https://lexicon.33across.com/v1/envelope",o="ima",r={GDPR:e=>{let{consentString:t}=e;return{gdpr_consent:t}},CCPA:e=>{let{consentString:t}=e;return{us_privacy:t}},GPP:e=>{let{consentString:t,applicableSections:s=[]}=e;return{gpp:t,gpp_sid:encodeURIComponent(s.join(","))}}};e.exports=class{#e;#t;#s;#n=[];#a=[];#o;#r;#i;#c;constructor(e){let{pid:t,apiUrl:s=a,src:r=o,regs:i={}}=e,{ajax:c=n,consentDataHandler:l={consentData:Promise.resolve([])},localStorageId:p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.#e=t,this.#t=s,this.#s=c,this.#o=l,this.#r=r,this.#i=p,this.#c=i}#l(e){const t=JSON.parse(e);return t.succeeded?t.data.envelope?t.data.envelope:"":(this.#i.clear(),"")}async#p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#o.consentData;const t=await this.#d(e);return t?(this.#i.setId(t),this.#h(t)):this.#n}async#d(e){try{const t=await this.#s({url:this.#t,params:this.#u({allConsentData:await e}),options:{withCredentials:!0,timeout:1e4}});return this.#l(t)}catch(e){throw new Error(`_33AcrossIdMappingsProvider: ${e}`)}}#u(e){let{allConsentData:t}=e;const s=t.reduce(((e,t)=>{let{consentData:s={}}=t;const n=r[s.name];return s.consentString&&n&&Object.assign(e,n(s)),e}),{pid:this.#e,src:this.#r,ver:"1.2.0"});return Number(this.#c.coppa)&&(s.coppa=1),s}#h(e){const[t]=this.#a,[s]=t.uids;return Object.assign(s,{id:e,atype:1}),this.#n=this.#a,this.#n}async fetch(){this.#a=[{source:"33across.com",uids:[{}]}],this.#o.onChange((e=>{this.#i.clear(),this.#p(e)}));const e=this.#i.getId(),t=await this.#o.hasChangedSinceStored();return this.#i.hasExpired()||!e||t?this.#p():(this.#i.isRefreshRequired()&&this.#p(),this.#h(e))}getIds(){return this.#n}getLoadingIds(){return this.#a}getPid(){return this.#e}getSource(){return this.#r}}},759:(e,t,s)=>{const{loadConsentData:n,LocalStorageId:a}=s(262),o=s(630),r=n(),i="33acrossId";function c(e){let{expires:t,refreshInSeconds:s,...n}=e;const l="esp"===n.src?`${n.src}_${i}`:i,p=new a({idKeyName:l,expires:t,refreshInSeconds:s}),d=new o(n,{consentDataHandler:r,localStorageId:p});return c.providers[d.getSource()]=d,d}c.providers={},e.exports=c},542:(e,t)=>{e.exports=function(e){return new Promise(((t,s)=>{const n=function(e){let{url:t,params:s={},win:n=window,options:a={}}=e;const o=new n.XMLHttpRequest("MSXML2.XMLHTTP.3.0"),r=new URLSearchParams(s);return o.open("GET",`${t}?${r}`,1),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.withCredentials=a.withCredentials||!0,o.timeout=a.timeout,o}(e);n.onreadystatechange=()=>{4===n.readyState&&(n.status>=200&&n.status<300?t(n.responseText):s(`Ajax: Status code ${n.status}`))},n.onerror=()=>s("Ajax: Network error"),n.ontimeout=()=>s("Ajax: Timeout"),n.send()}))}},346:(e,t,s)=>{const n="iab",a=s(24),o={CCPA:"__uspapi",GDPR:"__tcfapi",GPP:"__gpp"},r={GDPR:"__tcfapiLocator",CCPA:"__uspapiLocator",GPP:"__gppLocator"},i={GDPR:"addEventListener",CCPA:"getUSPData",GPP:"addEventListener"},c={GDPR:2,CCPA:1},l={GDPR(e,t,s){e(t,c.GDPR,s)},CCPA(e,t,s){e(t,c.CCPA,s)},GPP(e,t,s,n){e(t,s,n)}};e.exports=class{#g;#m;#C;#S;#P;#v;#D;#I;constructor(e){let{name:t,userCmp:s=n,win:a=window,config:r={}}=e;this.#g=t,this.#m=o[t],this.#C=s,this.#P=a,this.#v=r.consentTimeout||1e4,this.#D=r.staticConsentData||{}}#f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.#P;try{if("function"==typeof t[this.#m])return{cmpApi:t[this.#m],win:t}}catch(e){}return t.frames[e]?{win:t}:t===this.#P.top?{}:this.#f(e,t.parent)}#w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="boolean"==typeof e.gdprApplies&&e.gdprApplies;return!t||(s=e.tcString)&&"string"==typeof s?{consentData:this.#b({consentString:e.tcString,consentObject:e,additionalFields:{applies:t,..."string"==typeof e.addtlConsent?{addtlConsent:e.addtlConsent}:{}}})}:this.#E(e);var s}#x(e){return t=e?.uspString,t&&"string"==typeof t?{consentData:this.#b({consentString:e.uspString,consentObject:e})}:this.#E(e);var t}#E(e){return this.#y("CMP returned unexpected value during lookup process.",{consentObject:e})}#y(e,t){return{errMsg:e,errArgs:t}}#A(e){const t=e=>Array.isArray(e)&&e.length>0&&0!==e[0];return t(e.applicableSections)?e.applicableSections:t(e.applicableSection)?e.applicableSection:null}#R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.assign({},e,e.pingData);if(!t.gppString||"string"!=typeof t.gppString)return this.#E(t);const s=this.#A(t);return s?{consentData:this.#b({consentString:t.gppString,apiVersion:t.gppVersion,consentObject:t,additionalFields:{applicableSections:s}})}:this.#E(t)}#b(){let{consentString:e,consentObject:t,apiVersion:s=c[this.#g],additionalFields:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{consentString:e,vendorData:t,apiVersion:s,name:this.#g,hash:a(JSON.stringify([e])),...n}}#L(e,t){const s={GDPR:e=>this.#w(e),CCPA:e=>this.#x(e),GPP:e=>this.#R(e)}[this.#g](e);return t&&this.#I?.(s,this.#g),s}#j(e,t){switch(this.#g){case"GDPR":return[!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus];case"CCPA":return[!0];case"GPP":return"sectionChange"===e.eventName?[!0,!0]:"loaded"===e.pingData.cmpStatus?e.pingData.gppString||e.hasOwnProperty("gppString")?[!0]:(this.#G("getGPPData").then(t),[!1]):"ready"===e.pingData.signalStatus?[!0]:"error"===e.pingData.cmpStatus?[!1,!1,"CMP returned with a cmpStatus:error response. Please check CMP setup."]:[!1];default:return[!1]}}#M(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void e(this.#y("CMP unable to register callback function.  Please check CMP setup."));const[s,n,a]=this.#j(t,e);s?e(this.#L(t,n)):a?e({errMsg:a}):this.#S=t}#O(e,t){const s=`${this.#m}Return`,n=(e.data?.includes?.(s)?JSON.parse(e.data):e.data)[s];n?.callId&&(t[n.callId]?.(n.returnValue,n.success),delete t[n.callId])}#_(e,t,s){const n={},a=`${this.#m}Call`;this.#P.addEventListener("message",(e=>this.#O(e,n)),!1),function(e,s,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=Math.random().toString(),c={[a]:Object.assign({command:e,callId:i},s&&{version:s},r&&{parameter:r})};n[i]=o,t.postMessage(c,"*")}(e,c[this.#g],s)}#G(e){var t=this;return new Promise((s=>{const{cmpApi:n,win:a}=this.#f(r[this.#g]);if(!a)return void s(this.#y("CMP not found, the CMP script needs to be loaded before the 33across script"));const o=function(){s.fnName=e;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.#M(s,...a)};n?l[this.#g](n,e,o):this.#_(e,a,o)}))}#T(){return this.#L(this.#D)}onChange(e){this.#I=e}loadConsentData(){const e={iab:()=>this.#G(i[this.#g]),static:()=>this.#T()};let t=null;if(!Object.keys(e).includes(this.#C))return Promise.resolve(this.#y(`The indicated CMP (${this.#C}) is not a supported`));const s=new Promise((e=>{t=this.#P.setTimeout((()=>{const{consentData:t,errMsg:s}=this.#L(this.#S);e(Object.assign(this.#y("CMP hasn't been loaded"),{consentData:s?this.#b():t}))}),this.#v)}));return Promise.race([e[this.#C](),s]).finally((()=>this.#P.clearTimeout(t)))}}},989:(e,t)=>{const s="33acrossId_cst",n=["GPP","CCPA","GDPR"];e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const a={},o=n.reduce(((t,s)=>Object.assign(t,{[s]:e(s)})),{}),r=(e,o)=>{o.consentData&&(a[e]=o,t.localStorage.setItem(s,n.map((e=>a[e]?.consentData?.hash||"")).join(",")))},i=()=>t.localStorage.getItem(s)?.split(",")||[],c=i();return{onChange(e){o.GPP.onChange((t=>{const[s]=i();t.consentData?.hash!==s&&(r("GPP",t),e(Object.values(a)))}))},consentData:new Promise((e=>{const t=Object.entries(o).reduce(((e,t)=>{let[s,n]=t;return(e[s]=n.loadConsentData()).then((e=>r(s,e))),e}),{});Promise.all(Object.values(t)).then((()=>e(Object.values(a)))),t.GPP.then((t=>{t.consentData?.consentString&&e(Object.values(a))}))})),async hasChangedSinceStored(){if(!c)return!0;await this.consentData;const e=n.reduce(((e,t,s)=>Object.assign(e,{[t]:c[s]})),{});return!!Object.entries(a).find((t=>{let[s,{consentData:n}]=t;return(n.hash||"")!==e[s]}))}}}},24:(e,t)=>{e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const s=function(e,t){if("function"==typeof Math.imul)return Math.imul(e,t);let s=(4194303&e)*(t|=0);return 4290772992&e&&(s+=(4290772992&e)*t|0),0|s};let n=3735928559^t,a=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),n=s(n^t,2654435761),a=s(a^t,1597334677);return n=s(n^n>>>16,2246822507)^s(a^a>>>13,3266489909),a=s(a^a>>>16,2246822507)^s(n^n>>>13,3266489909),(4294967296*((2097151&a)+(n>>>0))).toString()}},262:(e,t,s)=>{const n=s(346),a=s(989),o=s(542),r=s(847),i=e=>new n({name:e});e.exports={ConsentManagement:n,loadConsentData:()=>a(i),Ajax:o,LocalStorageId:r}},847:(e,t)=>{const s=28800,n=90;e.exports=class{#U;#V;#P;#N;constructor(e){let{idKeyName:t,refreshInSeconds:a=s,expires:o=n,win:r=window}=e;this.#U={VALUE:t,LAST:`${t}_last`,EXP:`${t}_exp`},this.#P=r,this.#V=a,this.#N=o}#K(e,t){return this.#P.localStorage.setItem(e,t),this}#k(e){return this.#P.localStorage.removeItem(e),this}#$(e){return this.#P.localStorage.getItem(e)}hasExpired(){const e=this.#$(this.#U.EXP);return!!e&&new Date(e).getTime()-Date.now()<=0}isRefreshRequired(){const e=new Date(this.#$(this.#U.LAST));return Date.now()-e.getTime()>1e3*this.#V}setId(e){const t=new Date(Date.now()+864e5*this.#N);this.#K(this.#U.VALUE,e).#K(this.#U.EXP,t.toUTCString()).#K(this.#U.LAST,(new Date).toUTCString())}getId(){return this.#P.decodeURIComponent(this.#$(this.#U.VALUE)||"")}clear(){return this.#k(this.#U.VALUE).#k(this.#U.EXP).#k(this.#U.LAST),this}}}},t={},s=function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}(759);_33AcrossIdMappingsProvider=s})();